function P_(n,e){for(var s=0;s<e.length;s++){const r=e[s];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=s(a);fetch(a.href,l)}})();function Oy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function j_(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var a=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(s,r,a.get?a:{enumerable:!0,get:function(){return n[r]}})}),s}var rc={exports:{}},Dr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp;function O_(){if(Sp)return Dr;Sp=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var m in a)m!=="key"&&(l[m]=a[m])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:l}}return Dr.Fragment=e,Dr.jsx=s,Dr.jsxs=s,Dr}var Cp;function L_(){return Cp||(Cp=1,rc.exports=O_()),rc.exports}var f=L_(),oc={exports:{}},le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp;function B_(){if(Tp)return le;Tp=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),b=Symbol.iterator;function E(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,A={};function U(D,G,X){this.props=D,this.context=G,this.refs=A,this.updater=X||C}U.prototype.isReactComponent={},U.prototype.setState=function(D,G){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,G,"setState")},U.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function O(){}O.prototype=U.prototype;function k(D,G,X){this.props=D,this.context=G,this.refs=A,this.updater=X||C}var F=k.prototype=new O;F.constructor=k,T(F,U.prototype),F.isPureReactComponent=!0;var Y=Array.isArray;function J(){}var z={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function ee(D,G,X){var te=X.ref;return{$$typeof:n,type:D,key:G,ref:te!==void 0?te:null,props:X}}function ve(D,G){return ee(D.type,G,D.props)}function Ae(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function me(D){var G={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(X){return G[X]})}var tt=/\/+/g;function Ot(D,G){return typeof D=="object"&&D!==null&&D.key!=null?me(""+D.key):G.toString(36)}function pt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(J,J):(D.status="pending",D.then(function(G){D.status==="pending"&&(D.status="fulfilled",D.value=G)},function(G){D.status==="pending"&&(D.status="rejected",D.reason=G)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function B(D,G,X,te,ue){var pe=typeof D;(pe==="undefined"||pe==="boolean")&&(D=null);var Te=!1;if(D===null)Te=!0;else switch(pe){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(D.$$typeof){case n:case e:Te=!0;break;case x:return Te=D._init,B(Te(D._payload),G,X,te,ue)}}if(Te)return ue=ue(D),Te=te===""?"."+Ot(D,0):te,Y(ue)?(X="",Te!=null&&(X=Te.replace(tt,"$&/")+"/"),B(ue,G,X,"",function(Oi){return Oi})):ue!=null&&(Ae(ue)&&(ue=ve(ue,X+(ue.key==null||D&&D.key===ue.key?"":(""+ue.key).replace(tt,"$&/")+"/")+Te)),G.push(ue)),1;Te=0;var ht=te===""?".":te+":";if(Y(D))for(var ze=0;ze<D.length;ze++)te=D[ze],pe=ht+Ot(te,ze),Te+=B(te,G,X,pe,ue);else if(ze=E(D),typeof ze=="function")for(D=ze.call(D),ze=0;!(te=D.next()).done;)te=te.value,pe=ht+Ot(te,ze++),Te+=B(te,G,X,pe,ue);else if(pe==="object"){if(typeof D.then=="function")return B(pt(D),G,X,te,ue);throw G=String(D),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Te}function K(D,G,X){if(D==null)return D;var te=[],ue=0;return B(D,te,"","",function(pe){return G.call(X,pe,ue++)}),te}function ae(D){if(D._status===-1){var G=D._result;G=G(),G.then(function(X){(D._status===0||D._status===-1)&&(D._status=1,D._result=X)},function(X){(D._status===0||D._status===-1)&&(D._status=2,D._result=X)}),D._status===-1&&(D._status=0,D._result=G)}if(D._status===1)return D._result.default;throw D._result}var De=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Pe={map:K,forEach:function(D,G,X){K(D,function(){G.apply(this,arguments)},X)},count:function(D){var G=0;return K(D,function(){G++}),G},toArray:function(D){return K(D,function(G){return G})||[]},only:function(D){if(!Ae(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return le.Activity=_,le.Children=Pe,le.Component=U,le.Fragment=s,le.Profiler=a,le.PureComponent=k,le.StrictMode=r,le.Suspense=y,le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,le.__COMPILER_RUNTIME={__proto__:null,c:function(D){return z.H.useMemoCache(D)}},le.cache=function(D){return function(){return D.apply(null,arguments)}},le.cacheSignal=function(){return null},le.cloneElement=function(D,G,X){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var te=T({},D.props),ue=D.key;if(G!=null)for(pe in G.key!==void 0&&(ue=""+G.key),G)!de.call(G,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&G.ref===void 0||(te[pe]=G[pe]);var pe=arguments.length-2;if(pe===1)te.children=X;else if(1<pe){for(var Te=Array(pe),ht=0;ht<pe;ht++)Te[ht]=arguments[ht+2];te.children=Te}return ee(D.type,ue,te)},le.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},le.createElement=function(D,G,X){var te,ue={},pe=null;if(G!=null)for(te in G.key!==void 0&&(pe=""+G.key),G)de.call(G,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ue[te]=G[te]);var Te=arguments.length-2;if(Te===1)ue.children=X;else if(1<Te){for(var ht=Array(Te),ze=0;ze<Te;ze++)ht[ze]=arguments[ze+2];ue.children=ht}if(D&&D.defaultProps)for(te in Te=D.defaultProps,Te)ue[te]===void 0&&(ue[te]=Te[te]);return ee(D,pe,ue)},le.createRef=function(){return{current:null}},le.forwardRef=function(D){return{$$typeof:m,render:D}},le.isValidElement=Ae,le.lazy=function(D){return{$$typeof:x,_payload:{_status:-1,_result:D},_init:ae}},le.memo=function(D,G){return{$$typeof:p,type:D,compare:G===void 0?null:G}},le.startTransition=function(D){var G=z.T,X={};z.T=X;try{var te=D(),ue=z.S;ue!==null&&ue(X,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(J,De)}catch(pe){De(pe)}finally{G!==null&&X.types!==null&&(G.types=X.types),z.T=G}},le.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},le.use=function(D){return z.H.use(D)},le.useActionState=function(D,G,X){return z.H.useActionState(D,G,X)},le.useCallback=function(D,G){return z.H.useCallback(D,G)},le.useContext=function(D){return z.H.useContext(D)},le.useDebugValue=function(){},le.useDeferredValue=function(D,G){return z.H.useDeferredValue(D,G)},le.useEffect=function(D,G){return z.H.useEffect(D,G)},le.useEffectEvent=function(D){return z.H.useEffectEvent(D)},le.useId=function(){return z.H.useId()},le.useImperativeHandle=function(D,G,X){return z.H.useImperativeHandle(D,G,X)},le.useInsertionEffect=function(D,G){return z.H.useInsertionEffect(D,G)},le.useLayoutEffect=function(D,G){return z.H.useLayoutEffect(D,G)},le.useMemo=function(D,G){return z.H.useMemo(D,G)},le.useOptimistic=function(D,G){return z.H.useOptimistic(D,G)},le.useReducer=function(D,G,X){return z.H.useReducer(D,G,X)},le.useRef=function(D){return z.H.useRef(D)},le.useState=function(D){return z.H.useState(D)},le.useSyncExternalStore=function(D,G,X){return z.H.useSyncExternalStore(D,G,X)},le.useTransition=function(){return z.H.useTransition()},le.version="19.2.0",le}var Ap;function Xc(){return Ap||(Ap=1,oc.exports=B_()),oc.exports}var $=Xc();const Ur=Oy($);var ac={exports:{}},Mr={},lc={exports:{}},uc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function q_(){return Np||(Np=1,(function(n){function e(B,K){var ae=B.length;B.push(K);e:for(;0<ae;){var De=ae-1>>>1,Pe=B[De];if(0<a(Pe,K))B[De]=K,B[ae]=Pe,ae=De;else break e}}function s(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var K=B[0],ae=B.pop();if(ae!==K){B[0]=ae;e:for(var De=0,Pe=B.length,D=Pe>>>1;De<D;){var G=2*(De+1)-1,X=B[G],te=G+1,ue=B[te];if(0>a(X,ae))te<Pe&&0>a(ue,X)?(B[De]=ue,B[te]=ae,De=te):(B[De]=X,B[G]=ae,De=G);else if(te<Pe&&0>a(ue,ae))B[De]=ue,B[te]=ae,De=te;else break e}}return K}function a(B,K){var ae=B.sortIndex-K.sortIndex;return ae!==0?ae:B.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,m=c.now();n.unstable_now=function(){return c.now()-m}}var y=[],p=[],x=1,_=null,b=3,E=!1,C=!1,T=!1,A=!1,U=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function F(B){for(var K=s(p);K!==null;){if(K.callback===null)r(p);else if(K.startTime<=B)r(p),K.sortIndex=K.expirationTime,e(y,K);else break;K=s(p)}}function Y(B){if(T=!1,F(B),!C)if(s(y)!==null)C=!0,J||(J=!0,me());else{var K=s(p);K!==null&&pt(Y,K.startTime-B)}}var J=!1,z=-1,de=5,ee=-1;function ve(){return A?!0:!(n.unstable_now()-ee<de)}function Ae(){if(A=!1,J){var B=n.unstable_now();ee=B;var K=!0;try{e:{C=!1,T&&(T=!1,O(z),z=-1),E=!0;var ae=b;try{t:{for(F(B),_=s(y);_!==null&&!(_.expirationTime>B&&ve());){var De=_.callback;if(typeof De=="function"){_.callback=null,b=_.priorityLevel;var Pe=De(_.expirationTime<=B);if(B=n.unstable_now(),typeof Pe=="function"){_.callback=Pe,F(B),K=!0;break t}_===s(y)&&r(y),F(B)}else r(y);_=s(y)}if(_!==null)K=!0;else{var D=s(p);D!==null&&pt(Y,D.startTime-B),K=!1}}break e}finally{_=null,b=ae,E=!1}K=void 0}}finally{K?me():J=!1}}}var me;if(typeof k=="function")me=function(){k(Ae)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,Ot=tt.port2;tt.port1.onmessage=Ae,me=function(){Ot.postMessage(null)}}else me=function(){U(Ae,0)};function pt(B,K){z=U(function(){B(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(B){switch(b){case 1:case 2:case 3:var K=3;break;default:K=b}var ae=b;b=K;try{return B()}finally{b=ae}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ae=b;b=B;try{return K()}finally{b=ae}},n.unstable_scheduleCallback=function(B,K,ae){var De=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?De+ae:De):ae=De,B){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=ae+Pe,B={id:x++,callback:K,priorityLevel:B,startTime:ae,expirationTime:Pe,sortIndex:-1},ae>De?(B.sortIndex=ae,e(p,B),s(y)===null&&B===s(p)&&(T?(O(z),z=-1):T=!0,pt(Y,ae-De))):(B.sortIndex=Pe,e(y,B),C||E||(C=!0,J||(J=!0,me()))),B},n.unstable_shouldYield=ve,n.unstable_wrapCallback=function(B){var K=b;return function(){var ae=b;b=K;try{return B.apply(this,arguments)}finally{b=ae}}}})(uc)),uc}var Rp;function V_(){return Rp||(Rp=1,lc.exports=q_()),lc.exports}var cc={exports:{}},ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function H_(){if(Dp)return ct;Dp=1;var n=Xc();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(y,p,x){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:y,containerInfo:p,implementation:x}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ct.createPortal=function(y,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(y,p,null,x)},ct.flushSync=function(y){var p=c.T,x=r.p;try{if(c.T=null,r.p=2,y)return y()}finally{c.T=p,r.p=x,r.d.f()}},ct.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(y,p))},ct.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},ct.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var x=p.as,_=m(x,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?r.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:E}):x==="script"&&r.d.X(y,{crossOrigin:_,integrity:b,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ct.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=m(p.as,p.crossOrigin);r.d.M(y,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(y)},ct.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,_=m(x,p.crossOrigin);r.d.L(y,x,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ct.preloadModule=function(y,p){if(typeof y=="string")if(p){var x=m(p.as,p.crossOrigin);r.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(y)},ct.requestFormReset=function(y){r.d.r(y)},ct.unstable_batchedUpdates=function(y,p){return y(p)},ct.useFormState=function(y,p,x){return c.H.useFormState(y,p,x)},ct.useFormStatus=function(){return c.H.useHostTransitionStatus()},ct.version="19.2.0",ct}var Mp;function G_(){if(Mp)return cc.exports;Mp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),cc.exports=H_(),cc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function F_(){if(kp)return Mr;kp=1;var n=V_(),e=Xc(),s=G_();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var i=t,o=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(o=i.return),t=i.return;while(t)}return i.tag===3?o:null}function c(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(l(t)!==t)throw Error(r(188))}function p(t){var i=t.alternate;if(!i){if(i=l(t),i===null)throw Error(r(188));return i!==t?null:t}for(var o=t,u=i;;){var g=o.return;if(g===null)break;var v=g.alternate;if(v===null){if(u=g.return,u!==null){o=u;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===o)return y(g),t;if(v===u)return y(g),i;v=v.sibling}throw Error(r(188))}if(o.return!==u.return)o=g,u=v;else{for(var w=!1,S=g.child;S;){if(S===o){w=!0,o=g,u=v;break}if(S===u){w=!0,u=g,o=v;break}S=S.sibling}if(!w){for(S=v.child;S;){if(S===o){w=!0,o=v,u=g;break}if(S===u){w=!0,u=v,o=g;break}S=S.sibling}if(!w)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?t:i}function x(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=x(t),i!==null)return i;t=t.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),k=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),ve=Symbol.for("react.memo_cache_sentinel"),Ae=Symbol.iterator;function me(t){return t===null||typeof t!="object"?null:(t=Ae&&t[Ae]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Symbol.for("react.client.reference");function Ot(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===tt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case T:return"Fragment";case U:return"Profiler";case A:return"StrictMode";case Y:return"Suspense";case J:return"SuspenseList";case ee:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case k:return t.displayName||"Context";case O:return(t._context.displayName||"Context")+".Consumer";case F:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case z:return i=t.displayName||null,i!==null?i:Ot(t.type)||"Memo";case de:i=t._payload,t=t._init;try{return Ot(t(i))}catch{}}return null}var pt=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},De=[],Pe=-1;function D(t){return{current:t}}function G(t){0>Pe||(t.current=De[Pe],De[Pe]=null,Pe--)}function X(t,i){Pe++,De[Pe]=t.current,t.current=i}var te=D(null),ue=D(null),pe=D(null),Te=D(null);function ht(t,i){switch(X(pe,i),X(ue,t),X(te,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Jm(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Jm(i),t=Km(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(te),X(te,t)}function ze(){G(te),G(ue),G(pe)}function Oi(t){t.memoizedState!==null&&X(Te,t);var i=te.current,o=Km(i,t.type);i!==o&&(X(ue,t),X(te,o))}function Fr(t){ue.current===t&&(G(te),G(ue)),Te.current===t&&(G(Te),Tr._currentValue=ae)}var Va,wd;function as(t){if(Va===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Va=i&&i[1]||"",wd=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Va+t+wd}var Ha=!1;function Ga(t,i){if(!t||Ha)return"";Ha=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(L){var j=L}Reflect.construct(t,[],H)}else{try{H.call()}catch(L){j=L}t.call(H.prototype)}}else{try{throw Error()}catch(L){j=L}(H=t())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(L){if(L&&j&&typeof L.stack=="string")return[L.stack,j.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),w=v[0],S=v[1];if(w&&S){var N=w.split(`
`),P=S.split(`
`);for(g=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;g<P.length&&!P[g].includes("DetermineComponentFrameRoot");)g++;if(u===N.length||g===P.length)for(u=N.length-1,g=P.length-1;1<=u&&0<=g&&N[u]!==P[g];)g--;for(;1<=u&&0<=g;u--,g--)if(N[u]!==P[g]){if(u!==1||g!==1)do if(u--,g--,0>g||N[u]!==P[g]){var q=`
`+N[u].replace(" at new "," at ");return t.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",t.displayName)),q}while(1<=u&&0<=g);break}}}finally{Ha=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?as(o):""}function f0(t,i){switch(t.tag){case 26:case 27:case 5:return as(t.type);case 16:return as("Lazy");case 13:return t.child!==i&&i!==null?as("Suspense Fallback"):as("Suspense");case 19:return as("SuspenseList");case 0:case 15:return Ga(t.type,!1);case 11:return Ga(t.type.render,!1);case 1:return Ga(t.type,!0);case 31:return as("Activity");default:return""}}function Ed(t){try{var i="",o=null;do i+=f0(t,o),o=t,t=t.return;while(t);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Fa=Object.prototype.hasOwnProperty,za=n.unstable_scheduleCallback,$a=n.unstable_cancelCallback,h0=n.unstable_shouldYield,m0=n.unstable_requestPaint,St=n.unstable_now,p0=n.unstable_getCurrentPriorityLevel,Sd=n.unstable_ImmediatePriority,Cd=n.unstable_UserBlockingPriority,zr=n.unstable_NormalPriority,g0=n.unstable_LowPriority,Td=n.unstable_IdlePriority,y0=n.log,v0=n.unstable_setDisableYieldValue,Li=null,Ct=null;function Mn(t){if(typeof y0=="function"&&v0(t),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(Li,t)}catch{}}var Tt=Math.clz32?Math.clz32:b0,x0=Math.log,_0=Math.LN2;function b0(t){return t>>>=0,t===0?32:31-(x0(t)/_0|0)|0}var $r=256,Jr=262144,Kr=4194304;function ls(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Yr(t,i,o){var u=t.pendingLanes;if(u===0)return 0;var g=0,v=t.suspendedLanes,w=t.pingedLanes;t=t.warmLanes;var S=u&134217727;return S!==0?(u=S&~v,u!==0?g=ls(u):(w&=S,w!==0?g=ls(w):o||(o=S&~t,o!==0&&(g=ls(o))))):(S=u&~v,S!==0?g=ls(S):w!==0?g=ls(w):o||(o=u&~t,o!==0&&(g=ls(o)))),g===0?0:i!==0&&i!==g&&(i&v)===0&&(v=g&-g,o=i&-i,v>=o||v===32&&(o&4194048)!==0)?i:g}function Bi(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function w0(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ad(){var t=Kr;return Kr<<=1,(Kr&62914560)===0&&(Kr=4194304),t}function Ja(t){for(var i=[],o=0;31>o;o++)i.push(t);return i}function qi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function E0(t,i,o,u,g,v){var w=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,P=t.hiddenUpdates;for(o=w&~o;0<o;){var q=31-Tt(o),H=1<<q;S[q]=0,N[q]=-1;var j=P[q];if(j!==null)for(P[q]=null,q=0;q<j.length;q++){var L=j[q];L!==null&&(L.lane&=-536870913)}o&=~H}u!==0&&Nd(t,u,0),v!==0&&g===0&&t.tag!==0&&(t.suspendedLanes|=v&~(w&~i))}function Nd(t,i,o){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-Tt(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|o&261930}function Rd(t,i){var o=t.entangledLanes|=i;for(t=t.entanglements;o;){var u=31-Tt(o),g=1<<u;g&i|t[u]&i&&(t[u]|=i),o&=~g}}function Dd(t,i){var o=i&-i;return o=(o&42)!==0?1:Ka(o),(o&(t.suspendedLanes|i))!==0?0:o}function Ka(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ya(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Md(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:yp(t.type))}function kd(t,i){var o=K.p;try{return K.p=t,i()}finally{K.p=o}}var kn=Math.random().toString(36).slice(2),it="__reactFiber$"+kn,gt="__reactProps$"+kn,Us="__reactContainer$"+kn,Xa="__reactEvents$"+kn,S0="__reactListeners$"+kn,C0="__reactHandles$"+kn,Id="__reactResources$"+kn,Vi="__reactMarker$"+kn;function Qa(t){delete t[it],delete t[gt],delete t[Xa],delete t[S0],delete t[C0]}function Ps(t){var i=t[it];if(i)return i;for(var o=t.parentNode;o;){if(i=o[Us]||o[it]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(t=tp(t);t!==null;){if(o=t[it])return o;t=tp(t)}return i}t=o,o=t.parentNode}return null}function js(t){if(t=t[it]||t[Us]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Hi(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Os(t){var i=t[Id];return i||(i=t[Id]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function nt(t){t[Vi]=!0}var Ud=new Set,Pd={};function us(t,i){Ls(t,i),Ls(t+"Capture",i)}function Ls(t,i){for(Pd[t]=i,t=0;t<i.length;t++)Ud.add(i[t])}var T0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jd={},Od={};function A0(t){return Fa.call(Od,t)?!0:Fa.call(jd,t)?!1:T0.test(t)?Od[t]=!0:(jd[t]=!0,!1)}function Xr(t,i,o){if(A0(i))if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+o)}}function Qr(t,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+o)}}function un(t,i,o,u){if(u===null)t.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(i,o,""+u)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ld(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function N0(t,i,o){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return g.call(this)},set:function(w){o=""+w,v.call(this,w)}}),Object.defineProperty(t,i,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Wa(t){if(!t._valueTracker){var i=Ld(t)?"checked":"value";t._valueTracker=N0(t,i,""+t[i])}}function Bd(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return t&&(u=Ld(t)?t.checked?"true":"false":t.value),t=u,t!==o?(i.setValue(t),!0):!1}function Wr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var R0=/[\n"\\]/g;function Bt(t){return t.replace(R0,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Za(t,i,o,u,g,v,w,S){t.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.type=w:t.removeAttribute("type"),i!=null?w==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):w!=="submit"&&w!=="reset"||t.removeAttribute("value"),i!=null?el(t,w,Lt(i)):o!=null?el(t,w,Lt(o)):u!=null&&t.removeAttribute("value"),g==null&&v!=null&&(t.defaultChecked=!!v),g!=null&&(t.checked=g&&typeof g!="function"&&typeof g!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Lt(S):t.removeAttribute("name")}function qd(t,i,o,u,g,v,w,S){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.type=v),i!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||i!=null)){Wa(t);return}o=o!=null?""+Lt(o):"",i=i!=null?""+Lt(i):o,S||i===t.value||(t.value=i),t.defaultValue=i}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=S?t.checked:!!u,t.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.name=w),Wa(t)}function el(t,i,o){i==="number"&&Wr(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function Bs(t,i,o,u){if(t=t.options,i){i={};for(var g=0;g<o.length;g++)i["$"+o[g]]=!0;for(o=0;o<t.length;o++)g=i.hasOwnProperty("$"+t[o].value),t[o].selected!==g&&(t[o].selected=g),g&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Lt(o),i=null,g=0;g<t.length;g++){if(t[g].value===o){t[g].selected=!0,u&&(t[g].defaultSelected=!0);return}i!==null||t[g].disabled||(i=t[g])}i!==null&&(i.selected=!0)}}function Vd(t,i,o){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),o==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=o!=null?""+Lt(o):""}function Hd(t,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(r(92));if(pt(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=Lt(i),t.defaultValue=o,u=t.textContent,u===o&&u!==""&&u!==null&&(t.value=u),Wa(t)}function qs(t,i){if(i){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=i;return}}t.textContent=i}var D0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gd(t,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,o):typeof o!="number"||o===0||D0.has(i)?i==="float"?t.cssFloat=o:t[i]=(""+o).trim():t[i]=o+"px"}function Fd(t,i,o){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var g in i)u=i[g],i.hasOwnProperty(g)&&o[g]!==u&&Gd(t,g,u)}else for(var v in i)i.hasOwnProperty(v)&&Gd(t,v,i[v])}function tl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var M0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),k0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zr(t){return k0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function cn(){}var nl=null;function sl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vs=null,Hs=null;function zd(t){var i=js(t);if(i&&(t=i.stateNode)){var o=t[gt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Za(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Bt(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==t&&u.form===t.form){var g=u[gt]||null;if(!g)throw Error(r(90));Za(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===t.form&&Bd(u)}break e;case"textarea":Vd(t,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Bs(t,!!o.multiple,i,!1)}}}var il=!1;function $d(t,i,o){if(il)return t(i,o);il=!0;try{var u=t(i);return u}finally{if(il=!1,(Vs!==null||Hs!==null)&&(Vo(),Vs&&(i=Vs,t=Hs,Hs=Vs=null,zd(i),t)))for(i=0;i<t.length;i++)zd(t[i])}}function Gi(t,i){var o=t.stateNode;if(o===null)return null;var u=o[gt]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rl=!1;if(dn)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){rl=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{rl=!1}var In=null,ol=null,eo=null;function Jd(){if(eo)return eo;var t,i=ol,o=i.length,u,g="value"in In?In.value:In.textContent,v=g.length;for(t=0;t<o&&i[t]===g[t];t++);var w=o-t;for(u=1;u<=w&&i[o-u]===g[v-u];u++);return eo=g.slice(t,1<u?1-u:void 0)}function to(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function no(){return!0}function Kd(){return!1}function yt(t){function i(o,u,g,v,w){this._reactName=o,this._targetInst=g,this.type=u,this.nativeEvent=v,this.target=w,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(o=t[S],this[S]=o?o(v):v[S]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?no:Kd,this.isPropagationStopped=Kd,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=no)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=no)},persist:function(){},isPersistent:no}),i}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},so=yt(cs),zi=_({},cs,{view:0,detail:0}),I0=yt(zi),al,ll,$i,io=_({},zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$i&&($i&&t.type==="mousemove"?(al=t.screenX-$i.screenX,ll=t.screenY-$i.screenY):ll=al=0,$i=t),al)},movementY:function(t){return"movementY"in t?t.movementY:ll}}),Yd=yt(io),U0=_({},io,{dataTransfer:0}),P0=yt(U0),j0=_({},zi,{relatedTarget:0}),ul=yt(j0),O0=_({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),L0=yt(O0),B0=_({},cs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),q0=yt(B0),V0=_({},cs,{data:0}),Xd=yt(V0),H0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z0(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=F0[t])?!!i[t]:!1}function cl(){return z0}var $0=_({},zi,{key:function(t){if(t.key){var i=H0[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=to(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?G0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cl,charCode:function(t){return t.type==="keypress"?to(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?to(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),J0=yt($0),K0=_({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qd=yt(K0),Y0=_({},zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cl}),X0=yt(Y0),Q0=_({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),W0=yt(Q0),Z0=_({},io,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ex=yt(Z0),tx=_({},cs,{newState:0,oldState:0}),nx=yt(tx),sx=[9,13,27,32],dl=dn&&"CompositionEvent"in window,Ji=null;dn&&"documentMode"in document&&(Ji=document.documentMode);var ix=dn&&"TextEvent"in window&&!Ji,Wd=dn&&(!dl||Ji&&8<Ji&&11>=Ji),Zd=" ",ef=!1;function tf(t,i){switch(t){case"keyup":return sx.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gs=!1;function rx(t,i){switch(t){case"compositionend":return nf(i);case"keypress":return i.which!==32?null:(ef=!0,Zd);case"textInput":return t=i.data,t===Zd&&ef?null:t;default:return null}}function ox(t,i){if(Gs)return t==="compositionend"||!dl&&tf(t,i)?(t=Jd(),eo=ol=In=null,Gs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Wd&&i.locale!=="ko"?null:i.data;default:return null}}var ax={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!ax[t.type]:i==="textarea"}function rf(t,i,o,u){Vs?Hs?Hs.push(u):Hs=[u]:Vs=u,i=Ko(i,"onChange"),0<i.length&&(o=new so("onChange","change",null,o,u),t.push({event:o,listeners:i}))}var Ki=null,Yi=null;function lx(t){Vm(t,0)}function ro(t){var i=Hi(t);if(Bd(i))return t}function of(t,i){if(t==="change")return i}var af=!1;if(dn){var fl;if(dn){var hl="oninput"in document;if(!hl){var lf=document.createElement("div");lf.setAttribute("oninput","return;"),hl=typeof lf.oninput=="function"}fl=hl}else fl=!1;af=fl&&(!document.documentMode||9<document.documentMode)}function uf(){Ki&&(Ki.detachEvent("onpropertychange",cf),Yi=Ki=null)}function cf(t){if(t.propertyName==="value"&&ro(Yi)){var i=[];rf(i,Yi,t,sl(t)),$d(lx,i)}}function ux(t,i,o){t==="focusin"?(uf(),Ki=i,Yi=o,Ki.attachEvent("onpropertychange",cf)):t==="focusout"&&uf()}function cx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ro(Yi)}function dx(t,i){if(t==="click")return ro(i)}function fx(t,i){if(t==="input"||t==="change")return ro(i)}function hx(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var At=typeof Object.is=="function"?Object.is:hx;function Xi(t,i){if(At(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var o=Object.keys(t),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var g=o[u];if(!Fa.call(i,g)||!At(t[g],i[g]))return!1}return!0}function df(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ff(t,i){var o=df(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=i&&u>=i)return{node:o,offset:i-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=df(o)}}function hf(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?hf(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function mf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Wr(t.document);i instanceof t.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)t=i.contentWindow;else break;i=Wr(t.document)}return i}function ml(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var mx=dn&&"documentMode"in document&&11>=document.documentMode,Fs=null,pl=null,Qi=null,gl=!1;function pf(t,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;gl||Fs==null||Fs!==Wr(u)||(u=Fs,"selectionStart"in u&&ml(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Qi&&Xi(Qi,u)||(Qi=u,u=Ko(pl,"onSelect"),0<u.length&&(i=new so("onSelect","select",null,i,o),t.push({event:i,listeners:u}),i.target=Fs)))}function ds(t,i){var o={};return o[t.toLowerCase()]=i.toLowerCase(),o["Webkit"+t]="webkit"+i,o["Moz"+t]="moz"+i,o}var zs={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionrun:ds("Transition","TransitionRun"),transitionstart:ds("Transition","TransitionStart"),transitioncancel:ds("Transition","TransitionCancel"),transitionend:ds("Transition","TransitionEnd")},yl={},gf={};dn&&(gf=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function fs(t){if(yl[t])return yl[t];if(!zs[t])return t;var i=zs[t],o;for(o in i)if(i.hasOwnProperty(o)&&o in gf)return yl[t]=i[o];return t}var yf=fs("animationend"),vf=fs("animationiteration"),xf=fs("animationstart"),px=fs("transitionrun"),gx=fs("transitionstart"),yx=fs("transitioncancel"),_f=fs("transitionend"),bf=new Map,vl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vl.push("scrollEnd");function Xt(t,i){bf.set(t,i),us(i,[t])}var oo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},qt=[],$s=0,xl=0;function ao(){for(var t=$s,i=xl=$s=0;i<t;){var o=qt[i];qt[i++]=null;var u=qt[i];qt[i++]=null;var g=qt[i];qt[i++]=null;var v=qt[i];if(qt[i++]=null,u!==null&&g!==null){var w=u.pending;w===null?g.next=g:(g.next=w.next,w.next=g),u.pending=g}v!==0&&wf(o,g,v)}}function lo(t,i,o,u){qt[$s++]=t,qt[$s++]=i,qt[$s++]=o,qt[$s++]=u,xl|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function _l(t,i,o,u){return lo(t,i,o,u),uo(t)}function hs(t,i){return lo(t,null,null,i),uo(t)}function wf(t,i,o){t.lanes|=o;var u=t.alternate;u!==null&&(u.lanes|=o);for(var g=!1,v=t.return;v!==null;)v.childLanes|=o,u=v.alternate,u!==null&&(u.childLanes|=o),v.tag===22&&(t=v.stateNode,t===null||t._visibility&1||(g=!0)),t=v,v=v.return;return t.tag===3?(v=t.stateNode,g&&i!==null&&(g=31-Tt(o),t=v.hiddenUpdates,u=t[g],u===null?t[g]=[i]:u.push(i),i.lane=o|536870912),v):null}function uo(t){if(50<xr)throw xr=0,Ru=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Js={};function vx(t,i,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(t,i,o,u){return new vx(t,i,o,u)}function bl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fn(t,i){var o=t.alternate;return o===null?(o=Nt(t.tag,i,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=i,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,i=t.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function Ef(t,i){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,i=o.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function co(t,i,o,u,g,v){var w=0;if(u=t,typeof t=="function")bl(t)&&(w=1);else if(typeof t=="string")w=E_(t,o,te.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ee:return t=Nt(31,o,i,g),t.elementType=ee,t.lanes=v,t;case T:return ms(o.children,g,v,i);case A:w=8,g|=24;break;case U:return t=Nt(12,o,i,g|2),t.elementType=U,t.lanes=v,t;case Y:return t=Nt(13,o,i,g),t.elementType=Y,t.lanes=v,t;case J:return t=Nt(19,o,i,g),t.elementType=J,t.lanes=v,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:w=10;break e;case O:w=9;break e;case F:w=11;break e;case z:w=14;break e;case de:w=16,u=null;break e}w=29,o=Error(r(130,t===null?"null":typeof t,"")),u=null}return i=Nt(w,o,i,g),i.elementType=t,i.type=u,i.lanes=v,i}function ms(t,i,o,u){return t=Nt(7,t,u,i),t.lanes=o,t}function wl(t,i,o){return t=Nt(6,t,null,i),t.lanes=o,t}function Sf(t){var i=Nt(18,null,null,0);return i.stateNode=t,i}function El(t,i,o){return i=Nt(4,t.children!==null?t.children:[],t.key,i),i.lanes=o,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Cf=new WeakMap;function Vt(t,i){if(typeof t=="object"&&t!==null){var o=Cf.get(t);return o!==void 0?o:(i={value:t,source:i,stack:Ed(i)},Cf.set(t,i),i)}return{value:t,source:i,stack:Ed(i)}}var Ks=[],Ys=0,fo=null,Wi=0,Ht=[],Gt=0,Un=null,sn=1,rn="";function hn(t,i){Ks[Ys++]=Wi,Ks[Ys++]=fo,fo=t,Wi=i}function Tf(t,i,o){Ht[Gt++]=sn,Ht[Gt++]=rn,Ht[Gt++]=Un,Un=t;var u=sn;t=rn;var g=32-Tt(u)-1;u&=~(1<<g),o+=1;var v=32-Tt(i)+g;if(30<v){var w=g-g%5;v=(u&(1<<w)-1).toString(32),u>>=w,g-=w,sn=1<<32-Tt(i)+g|o<<g|u,rn=v+t}else sn=1<<v|o<<g|u,rn=t}function Sl(t){t.return!==null&&(hn(t,1),Tf(t,1,0))}function Cl(t){for(;t===fo;)fo=Ks[--Ys],Ks[Ys]=null,Wi=Ks[--Ys],Ks[Ys]=null;for(;t===Un;)Un=Ht[--Gt],Ht[Gt]=null,rn=Ht[--Gt],Ht[Gt]=null,sn=Ht[--Gt],Ht[Gt]=null}function Af(t,i){Ht[Gt++]=sn,Ht[Gt++]=rn,Ht[Gt++]=Un,sn=i.id,rn=i.overflow,Un=t}var rt=null,Le=null,be=!1,Pn=null,Ft=!1,Tl=Error(r(519));function jn(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zi(Vt(i,t)),Tl}function Nf(t){var i=t.stateNode,o=t.type,u=t.memoizedProps;switch(i[it]=t,i[gt]=u,o){case"dialog":ye("cancel",i),ye("close",i);break;case"iframe":case"object":case"embed":ye("load",i);break;case"video":case"audio":for(o=0;o<br.length;o++)ye(br[o],i);break;case"source":ye("error",i);break;case"img":case"image":case"link":ye("error",i),ye("load",i);break;case"details":ye("toggle",i);break;case"input":ye("invalid",i),qd(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":ye("invalid",i);break;case"textarea":ye("invalid",i),Hd(i,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||zm(i.textContent,o)?(u.popover!=null&&(ye("beforetoggle",i),ye("toggle",i)),u.onScroll!=null&&ye("scroll",i),u.onScrollEnd!=null&&ye("scrollend",i),u.onClick!=null&&(i.onclick=cn),i=!0):i=!1,i||jn(t,!0)}function Rf(t){for(rt=t.return;rt;)switch(rt.tag){case 5:case 31:case 13:Ft=!1;return;case 27:case 3:Ft=!0;return;default:rt=rt.return}}function Xs(t){if(t!==rt)return!1;if(!be)return Rf(t),be=!0,!1;var i=t.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||Fu(t.type,t.memoizedProps)),o=!o),o&&Le&&jn(t),Rf(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Le=ep(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Le=ep(t)}else i===27?(i=Le,Xn(t.type)?(t=Yu,Yu=null,Le=t):Le=i):Le=rt?$t(t.stateNode.nextSibling):null;return!0}function ps(){Le=rt=null,be=!1}function Al(){var t=Pn;return t!==null&&(bt===null?bt=t:bt.push.apply(bt,t),Pn=null),t}function Zi(t){Pn===null?Pn=[t]:Pn.push(t)}var Nl=D(null),gs=null,mn=null;function On(t,i,o){X(Nl,i._currentValue),i._currentValue=o}function pn(t){t._currentValue=Nl.current,G(Nl)}function Rl(t,i,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===o)break;t=t.return}}function Dl(t,i,o,u){var g=t.child;for(g!==null&&(g.return=t);g!==null;){var v=g.dependencies;if(v!==null){var w=g.child;v=v.firstContext;e:for(;v!==null;){var S=v;v=g;for(var N=0;N<i.length;N++)if(S.context===i[N]){v.lanes|=o,S=v.alternate,S!==null&&(S.lanes|=o),Rl(v.return,o,t),u||(w=null);break e}v=S.next}}else if(g.tag===18){if(w=g.return,w===null)throw Error(r(341));w.lanes|=o,v=w.alternate,v!==null&&(v.lanes|=o),Rl(w,o,t),w=null}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===t){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}}function Qs(t,i,o,u){t=null;for(var g=i,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var w=g.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var S=g.type;At(g.pendingProps.value,w.value)||(t!==null?t.push(S):t=[S])}}else if(g===Te.current){if(w=g.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(t!==null?t.push(Tr):t=[Tr])}g=g.return}t!==null&&Dl(i,t,o,u),i.flags|=262144}function ho(t){for(t=t.firstContext;t!==null;){if(!At(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ys(t){gs=t,mn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ot(t){return Df(gs,t)}function mo(t,i){return gs===null&&ys(t),Df(t,i)}function Df(t,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},mn===null){if(t===null)throw Error(r(308));mn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else mn=mn.next=i;return o}var xx=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(o,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(o){return o()})}},_x=n.unstable_scheduleCallback,bx=n.unstable_NormalPriority,Ke={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ml(){return{controller:new xx,data:new Map,refCount:0}}function er(t){t.refCount--,t.refCount===0&&_x(bx,function(){t.controller.abort()})}var tr=null,kl=0,Ws=0,Zs=null;function wx(t,i){if(tr===null){var o=tr=[];kl=0,Ws=Pu(),Zs={status:"pending",value:void 0,then:function(u){o.push(u)}}}return kl++,i.then(Mf,Mf),i}function Mf(){if(--kl===0&&tr!==null){Zs!==null&&(Zs.status="fulfilled");var t=tr;tr=null,Ws=0,Zs=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Ex(t,i){var o=[],u={status:"pending",value:null,reason:null,then:function(g){o.push(g)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var g=0;g<o.length;g++)(0,o[g])(i)},function(g){for(u.status="rejected",u.reason=g,g=0;g<o.length;g++)(0,o[g])(void 0)}),u}var kf=B.S;B.S=function(t,i){pm=St(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&wx(t,i),kf!==null&&kf(t,i)};var vs=D(null);function Il(){var t=vs.current;return t!==null?t:je.pooledCache}function po(t,i){i===null?X(vs,vs.current):X(vs,i.pool)}function If(){var t=Il();return t===null?null:{parent:Ke._currentValue,pool:t}}var ei=Error(r(460)),Ul=Error(r(474)),go=Error(r(542)),yo={then:function(){}};function Uf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Pf(t,i,o){switch(o=t[o],o===void 0?t.push(i):o!==i&&(i.then(cn,cn),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Of(t),t;default:if(typeof i.status=="string")i.then(cn,cn);else{if(t=je,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=u}},function(u){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Of(t),t}throw _s=i,ei}}function xs(t){try{var i=t._init;return i(t._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(_s=o,ei):o}}var _s=null;function jf(){if(_s===null)throw Error(r(459));var t=_s;return _s=null,t}function Of(t){if(t===ei||t===go)throw Error(r(483))}var ti=null,nr=0;function vo(t){var i=nr;return nr+=1,ti===null&&(ti=[]),Pf(ti,t,i)}function sr(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function xo(t,i){throw i.$$typeof===b?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Lf(t){function i(M,R){if(t){var I=M.deletions;I===null?(M.deletions=[R],M.flags|=16):I.push(R)}}function o(M,R){if(!t)return null;for(;R!==null;)i(M,R),R=R.sibling;return null}function u(M){for(var R=new Map;M!==null;)M.key!==null?R.set(M.key,M):R.set(M.index,M),M=M.sibling;return R}function g(M,R){return M=fn(M,R),M.index=0,M.sibling=null,M}function v(M,R,I){return M.index=I,t?(I=M.alternate,I!==null?(I=I.index,I<R?(M.flags|=67108866,R):I):(M.flags|=67108866,R)):(M.flags|=1048576,R)}function w(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function S(M,R,I,V){return R===null||R.tag!==6?(R=wl(I,M.mode,V),R.return=M,R):(R=g(R,I),R.return=M,R)}function N(M,R,I,V){var ie=I.type;return ie===T?q(M,R,I.props.children,V,I.key):R!==null&&(R.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===de&&xs(ie)===R.type)?(R=g(R,I.props),sr(R,I),R.return=M,R):(R=co(I.type,I.key,I.props,null,M.mode,V),sr(R,I),R.return=M,R)}function P(M,R,I,V){return R===null||R.tag!==4||R.stateNode.containerInfo!==I.containerInfo||R.stateNode.implementation!==I.implementation?(R=El(I,M.mode,V),R.return=M,R):(R=g(R,I.children||[]),R.return=M,R)}function q(M,R,I,V,ie){return R===null||R.tag!==7?(R=ms(I,M.mode,V,ie),R.return=M,R):(R=g(R,I),R.return=M,R)}function H(M,R,I){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=wl(""+R,M.mode,I),R.return=M,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case E:return I=co(R.type,R.key,R.props,null,M.mode,I),sr(I,R),I.return=M,I;case C:return R=El(R,M.mode,I),R.return=M,R;case de:return R=xs(R),H(M,R,I)}if(pt(R)||me(R))return R=ms(R,M.mode,I,null),R.return=M,R;if(typeof R.then=="function")return H(M,vo(R),I);if(R.$$typeof===k)return H(M,mo(M,R),I);xo(M,R)}return null}function j(M,R,I,V){var ie=R!==null?R.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return ie!==null?null:S(M,R,""+I,V);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case E:return I.key===ie?N(M,R,I,V):null;case C:return I.key===ie?P(M,R,I,V):null;case de:return I=xs(I),j(M,R,I,V)}if(pt(I)||me(I))return ie!==null?null:q(M,R,I,V,null);if(typeof I.then=="function")return j(M,R,vo(I),V);if(I.$$typeof===k)return j(M,R,mo(M,I),V);xo(M,I)}return null}function L(M,R,I,V,ie){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return M=M.get(I)||null,S(R,M,""+V,ie);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case E:return M=M.get(V.key===null?I:V.key)||null,N(R,M,V,ie);case C:return M=M.get(V.key===null?I:V.key)||null,P(R,M,V,ie);case de:return V=xs(V),L(M,R,I,V,ie)}if(pt(V)||me(V))return M=M.get(I)||null,q(R,M,V,ie,null);if(typeof V.then=="function")return L(M,R,I,vo(V),ie);if(V.$$typeof===k)return L(M,R,I,mo(R,V),ie);xo(R,V)}return null}function W(M,R,I,V){for(var ie=null,we=null,ne=R,fe=R=0,_e=null;ne!==null&&fe<I.length;fe++){ne.index>fe?(_e=ne,ne=null):_e=ne.sibling;var Ee=j(M,ne,I[fe],V);if(Ee===null){ne===null&&(ne=_e);break}t&&ne&&Ee.alternate===null&&i(M,ne),R=v(Ee,R,fe),we===null?ie=Ee:we.sibling=Ee,we=Ee,ne=_e}if(fe===I.length)return o(M,ne),be&&hn(M,fe),ie;if(ne===null){for(;fe<I.length;fe++)ne=H(M,I[fe],V),ne!==null&&(R=v(ne,R,fe),we===null?ie=ne:we.sibling=ne,we=ne);return be&&hn(M,fe),ie}for(ne=u(ne);fe<I.length;fe++)_e=L(ne,M,fe,I[fe],V),_e!==null&&(t&&_e.alternate!==null&&ne.delete(_e.key===null?fe:_e.key),R=v(_e,R,fe),we===null?ie=_e:we.sibling=_e,we=_e);return t&&ne.forEach(function(ts){return i(M,ts)}),be&&hn(M,fe),ie}function re(M,R,I,V){if(I==null)throw Error(r(151));for(var ie=null,we=null,ne=R,fe=R=0,_e=null,Ee=I.next();ne!==null&&!Ee.done;fe++,Ee=I.next()){ne.index>fe?(_e=ne,ne=null):_e=ne.sibling;var ts=j(M,ne,Ee.value,V);if(ts===null){ne===null&&(ne=_e);break}t&&ne&&ts.alternate===null&&i(M,ne),R=v(ts,R,fe),we===null?ie=ts:we.sibling=ts,we=ts,ne=_e}if(Ee.done)return o(M,ne),be&&hn(M,fe),ie;if(ne===null){for(;!Ee.done;fe++,Ee=I.next())Ee=H(M,Ee.value,V),Ee!==null&&(R=v(Ee,R,fe),we===null?ie=Ee:we.sibling=Ee,we=Ee);return be&&hn(M,fe),ie}for(ne=u(ne);!Ee.done;fe++,Ee=I.next())Ee=L(ne,M,fe,Ee.value,V),Ee!==null&&(t&&Ee.alternate!==null&&ne.delete(Ee.key===null?fe:Ee.key),R=v(Ee,R,fe),we===null?ie=Ee:we.sibling=Ee,we=Ee);return t&&ne.forEach(function(U_){return i(M,U_)}),be&&hn(M,fe),ie}function Ie(M,R,I,V){if(typeof I=="object"&&I!==null&&I.type===T&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case E:e:{for(var ie=I.key;R!==null;){if(R.key===ie){if(ie=I.type,ie===T){if(R.tag===7){o(M,R.sibling),V=g(R,I.props.children),V.return=M,M=V;break e}}else if(R.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===de&&xs(ie)===R.type){o(M,R.sibling),V=g(R,I.props),sr(V,I),V.return=M,M=V;break e}o(M,R);break}else i(M,R);R=R.sibling}I.type===T?(V=ms(I.props.children,M.mode,V,I.key),V.return=M,M=V):(V=co(I.type,I.key,I.props,null,M.mode,V),sr(V,I),V.return=M,M=V)}return w(M);case C:e:{for(ie=I.key;R!==null;){if(R.key===ie)if(R.tag===4&&R.stateNode.containerInfo===I.containerInfo&&R.stateNode.implementation===I.implementation){o(M,R.sibling),V=g(R,I.children||[]),V.return=M,M=V;break e}else{o(M,R);break}else i(M,R);R=R.sibling}V=El(I,M.mode,V),V.return=M,M=V}return w(M);case de:return I=xs(I),Ie(M,R,I,V)}if(pt(I))return W(M,R,I,V);if(me(I)){if(ie=me(I),typeof ie!="function")throw Error(r(150));return I=ie.call(I),re(M,R,I,V)}if(typeof I.then=="function")return Ie(M,R,vo(I),V);if(I.$$typeof===k)return Ie(M,R,mo(M,I),V);xo(M,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,R!==null&&R.tag===6?(o(M,R.sibling),V=g(R,I),V.return=M,M=V):(o(M,R),V=wl(I,M.mode,V),V.return=M,M=V),w(M)):o(M,R)}return function(M,R,I,V){try{nr=0;var ie=Ie(M,R,I,V);return ti=null,ie}catch(ne){if(ne===ei||ne===go)throw ne;var we=Nt(29,ne,null,M.mode);return we.lanes=V,we.return=M,we}finally{}}}var bs=Lf(!0),Bf=Lf(!1),Ln=!1;function Pl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jl(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Bn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qn(t,i,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Ce&2)!==0){var g=u.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),u.pending=i,i=uo(t),wf(t,null,o),i}return lo(t,u,i,o),uo(t)}function ir(t,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,o|=u,i.lanes=o,Rd(t,o)}}function Ol(t,i){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var g=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?g=v=w:v=v.next=w,o=o.next}while(o!==null);v===null?g=v=i:v=v.next=i}else g=v=i;o={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=i:t.next=i,o.lastBaseUpdate=i}var Ll=!1;function rr(){if(Ll){var t=Zs;if(t!==null)throw t}}function or(t,i,o,u){Ll=!1;var g=t.updateQueue;Ln=!1;var v=g.firstBaseUpdate,w=g.lastBaseUpdate,S=g.shared.pending;if(S!==null){g.shared.pending=null;var N=S,P=N.next;N.next=null,w===null?v=P:w.next=P,w=N;var q=t.alternate;q!==null&&(q=q.updateQueue,S=q.lastBaseUpdate,S!==w&&(S===null?q.firstBaseUpdate=P:S.next=P,q.lastBaseUpdate=N))}if(v!==null){var H=g.baseState;w=0,q=P=N=null,S=v;do{var j=S.lane&-536870913,L=j!==S.lane;if(L?(xe&j)===j:(u&j)===j){j!==0&&j===Ws&&(Ll=!0),q!==null&&(q=q.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var W=t,re=S;j=i;var Ie=o;switch(re.tag){case 1:if(W=re.payload,typeof W=="function"){H=W.call(Ie,H,j);break e}H=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=re.payload,j=typeof W=="function"?W.call(Ie,H,j):W,j==null)break e;H=_({},H,j);break e;case 2:Ln=!0}}j=S.callback,j!==null&&(t.flags|=64,L&&(t.flags|=8192),L=g.callbacks,L===null?g.callbacks=[j]:L.push(j))}else L={lane:j,tag:S.tag,payload:S.payload,callback:S.callback,next:null},q===null?(P=q=L,N=H):q=q.next=L,w|=j;if(S=S.next,S===null){if(S=g.shared.pending,S===null)break;L=S,S=L.next,L.next=null,g.lastBaseUpdate=L,g.shared.pending=null}}while(!0);q===null&&(N=H),g.baseState=N,g.firstBaseUpdate=P,g.lastBaseUpdate=q,v===null&&(g.shared.lanes=0),zn|=w,t.lanes=w,t.memoizedState=H}}function qf(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Vf(t,i){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)qf(o[t],i)}var ni=D(null),_o=D(0);function Hf(t,i){t=Sn,X(_o,t),X(ni,i),Sn=t|i.baseLanes}function Bl(){X(_o,Sn),X(ni,ni.current)}function ql(){Sn=_o.current,G(ni),G(_o)}var Rt=D(null),zt=null;function Vn(t){var i=t.alternate;X($e,$e.current&1),X(Rt,t),zt===null&&(i===null||ni.current!==null||i.memoizedState!==null)&&(zt=t)}function Vl(t){X($e,$e.current),X(Rt,t),zt===null&&(zt=t)}function Gf(t){t.tag===22?(X($e,$e.current),X(Rt,t),zt===null&&(zt=t)):Hn()}function Hn(){X($e,$e.current),X(Rt,Rt.current)}function Dt(t){G(Rt),zt===t&&(zt=null),G($e)}var $e=D(0);function bo(t){for(var i=t;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Ju(o)||Ku(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var gn=0,ce=null,Me=null,Ye=null,wo=!1,si=!1,ws=!1,Eo=0,ar=0,ii=null,Sx=0;function Ge(){throw Error(r(321))}function Hl(t,i){if(i===null)return!1;for(var o=0;o<i.length&&o<t.length;o++)if(!At(t[o],i[o]))return!1;return!0}function Gl(t,i,o,u,g,v){return gn=v,ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=t===null||t.memoizedState===null?Th:iu,ws=!1,v=o(u,g),ws=!1,si&&(v=zf(i,o,u,g)),Ff(t),v}function Ff(t){B.H=cr;var i=Me!==null&&Me.next!==null;if(gn=0,Ye=Me=ce=null,wo=!1,ar=0,ii=null,i)throw Error(r(300));t===null||Xe||(t=t.dependencies,t!==null&&ho(t)&&(Xe=!0))}function zf(t,i,o,u){ce=t;var g=0;do{if(si&&(ii=null),ar=0,si=!1,25<=g)throw Error(r(301));if(g+=1,Ye=Me=null,t.updateQueue!=null){var v=t.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}B.H=Ah,v=i(o,u)}while(si);return v}function Cx(){var t=B.H,i=t.useState()[0];return i=typeof i.then=="function"?lr(i):i,t=t.useState()[0],(Me!==null?Me.memoizedState:null)!==t&&(ce.flags|=1024),i}function Fl(){var t=Eo!==0;return Eo=0,t}function zl(t,i,o){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~o}function $l(t){if(wo){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}wo=!1}gn=0,Ye=Me=ce=null,si=!1,ar=Eo=0,ii=null}function mt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?ce.memoizedState=Ye=t:Ye=Ye.next=t,Ye}function Je(){if(Me===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=Me.next;var i=Ye===null?ce.memoizedState:Ye.next;if(i!==null)Ye=i,Me=t;else{if(t===null)throw ce.alternate===null?Error(r(467)):Error(r(310));Me=t,t={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Ye===null?ce.memoizedState=Ye=t:Ye=Ye.next=t}return Ye}function So(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lr(t){var i=ar;return ar+=1,ii===null&&(ii=[]),t=Pf(ii,t,i),i=ce,(Ye===null?i.memoizedState:Ye.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?Th:iu),t}function Co(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return lr(t);if(t.$$typeof===k)return ot(t)}throw Error(r(438,String(t)))}function Jl(t){var i=null,o=ce.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=ce.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=So(),ce.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(t),u=0;u<t;u++)o[u]=ve;return i.index++,o}function yn(t,i){return typeof i=="function"?i(t):i}function To(t){var i=Je();return Kl(i,Me,t)}function Kl(t,i,o){var u=t.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var g=t.baseQueue,v=u.pending;if(v!==null){if(g!==null){var w=g.next;g.next=v.next,v.next=w}i.baseQueue=g=v,u.pending=null}if(v=t.baseState,g===null)t.memoizedState=v;else{i=g.next;var S=w=null,N=null,P=i,q=!1;do{var H=P.lane&-536870913;if(H!==P.lane?(xe&H)===H:(gn&H)===H){var j=P.revertLane;if(j===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),H===Ws&&(q=!0);else if((gn&j)===j){P=P.next,j===Ws&&(q=!0);continue}else H={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(S=N=H,w=v):N=N.next=H,ce.lanes|=j,zn|=j;H=P.action,ws&&o(v,H),v=P.hasEagerState?P.eagerState:o(v,H)}else j={lane:H,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(S=N=j,w=v):N=N.next=j,ce.lanes|=H,zn|=H;P=P.next}while(P!==null&&P!==i);if(N===null?w=v:N.next=S,!At(v,t.memoizedState)&&(Xe=!0,q&&(o=Zs,o!==null)))throw o;t.memoizedState=v,t.baseState=w,t.baseQueue=N,u.lastRenderedState=v}return g===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Yl(t){var i=Je(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var u=o.dispatch,g=o.pending,v=i.memoizedState;if(g!==null){o.pending=null;var w=g=g.next;do v=t(v,w.action),w=w.next;while(w!==g);At(v,i.memoizedState)||(Xe=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),o.lastRenderedState=v}return[v,u]}function $f(t,i,o){var u=ce,g=Je(),v=be;if(v){if(o===void 0)throw Error(r(407));o=o()}else o=i();var w=!At((Me||g).memoizedState,o);if(w&&(g.memoizedState=o,Xe=!0),g=g.queue,Wl(Yf.bind(null,u,g,t),[t]),g.getSnapshot!==i||w||Ye!==null&&Ye.memoizedState.tag&1){if(u.flags|=2048,ri(9,{destroy:void 0},Kf.bind(null,u,g,o,i),null),je===null)throw Error(r(349));v||(gn&127)!==0||Jf(u,i,o)}return o}function Jf(t,i,o){t.flags|=16384,t={getSnapshot:i,value:o},i=ce.updateQueue,i===null?(i=So(),ce.updateQueue=i,i.stores=[t]):(o=i.stores,o===null?i.stores=[t]:o.push(t))}function Kf(t,i,o,u){i.value=o,i.getSnapshot=u,Xf(i)&&Qf(t)}function Yf(t,i,o){return o(function(){Xf(i)&&Qf(t)})}function Xf(t){var i=t.getSnapshot;t=t.value;try{var o=i();return!At(t,o)}catch{return!0}}function Qf(t){var i=hs(t,2);i!==null&&wt(i,t,2)}function Xl(t){var i=mt();if(typeof t=="function"){var o=t;if(t=o(),ws){Mn(!0);try{o()}finally{Mn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:t},i}function Wf(t,i,o,u){return t.baseState=o,Kl(t,Me,typeof u=="function"?u:yn)}function Tx(t,i,o,u,g){if(Ro(t))throw Error(r(485));if(t=i.action,t!==null){var v={payload:g,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){v.listeners.push(w)}};B.T!==null?o(!0):v.isTransition=!1,u(v),o=i.pending,o===null?(v.next=i.pending=v,Zf(i,v)):(v.next=o.next,i.pending=o.next=v)}}function Zf(t,i){var o=i.action,u=i.payload,g=t.state;if(i.isTransition){var v=B.T,w={};B.T=w;try{var S=o(g,u),N=B.S;N!==null&&N(w,S),eh(t,i,S)}catch(P){Ql(t,i,P)}finally{v!==null&&w.types!==null&&(v.types=w.types),B.T=v}}else try{v=o(g,u),eh(t,i,v)}catch(P){Ql(t,i,P)}}function eh(t,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){th(t,i,u)},function(u){return Ql(t,i,u)}):th(t,i,o)}function th(t,i,o){i.status="fulfilled",i.value=o,nh(i),t.state=o,i=t.pending,i!==null&&(o=i.next,o===i?t.pending=null:(o=o.next,i.next=o,Zf(t,o)))}function Ql(t,i,o){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,nh(i),i=i.next;while(i!==u)}t.action=null}function nh(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function sh(t,i){return i}function ih(t,i){if(be){var o=je.formState;if(o!==null){e:{var u=ce;if(be){if(Le){t:{for(var g=Le,v=Ft;g.nodeType!==8;){if(!v){g=null;break t}if(g=$t(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Le=$t(g.nextSibling),u=g.data==="F!";break e}}jn(u)}u=!1}u&&(i=o[0])}}return o=mt(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sh,lastRenderedState:i},o.queue=u,o=Eh.bind(null,ce,u),u.dispatch=o,u=Xl(!1),v=su.bind(null,ce,!1,u.queue),u=mt(),g={state:i,dispatch:null,action:t,pending:null},u.queue=g,o=Tx.bind(null,ce,g,v,o),g.dispatch=o,u.memoizedState=t,[i,o,!1]}function rh(t){var i=Je();return oh(i,Me,t)}function oh(t,i,o){if(i=Kl(t,i,sh)[0],t=To(yn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=lr(i)}catch(w){throw w===ei?go:w}else u=i;i=Je();var g=i.queue,v=g.dispatch;return o!==i.memoizedState&&(ce.flags|=2048,ri(9,{destroy:void 0},Ax.bind(null,g,o),null)),[u,v,t]}function Ax(t,i){t.action=i}function ah(t){var i=Je(),o=Me;if(o!==null)return oh(i,o,t);Je(),i=i.memoizedState,o=Je();var u=o.queue.dispatch;return o.memoizedState=t,[i,u,!1]}function ri(t,i,o,u){return t={tag:t,create:o,deps:u,inst:i,next:null},i=ce.updateQueue,i===null&&(i=So(),ce.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,i.lastEffect=t),t}function lh(){return Je().memoizedState}function Ao(t,i,o,u){var g=mt();ce.flags|=t,g.memoizedState=ri(1|i,{destroy:void 0},o,u===void 0?null:u)}function No(t,i,o,u){var g=Je();u=u===void 0?null:u;var v=g.memoizedState.inst;Me!==null&&u!==null&&Hl(u,Me.memoizedState.deps)?g.memoizedState=ri(i,v,o,u):(ce.flags|=t,g.memoizedState=ri(1|i,v,o,u))}function uh(t,i){Ao(8390656,8,t,i)}function Wl(t,i){No(2048,8,t,i)}function Nx(t){ce.flags|=4;var i=ce.updateQueue;if(i===null)i=So(),ce.updateQueue=i,i.events=[t];else{var o=i.events;o===null?i.events=[t]:o.push(t)}}function ch(t){var i=Je().memoizedState;return Nx({ref:i,nextImpl:t}),function(){if((Ce&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function dh(t,i){return No(4,2,t,i)}function fh(t,i){return No(4,4,t,i)}function hh(t,i){if(typeof i=="function"){t=t();var o=i(t);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function mh(t,i,o){o=o!=null?o.concat([t]):null,No(4,4,hh.bind(null,i,t),o)}function Zl(){}function ph(t,i){var o=Je();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&Hl(i,u[1])?u[0]:(o.memoizedState=[t,i],t)}function gh(t,i){var o=Je();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&Hl(i,u[1]))return u[0];if(u=t(),ws){Mn(!0);try{t()}finally{Mn(!1)}}return o.memoizedState=[u,i],u}function eu(t,i,o){return o===void 0||(gn&1073741824)!==0&&(xe&261930)===0?t.memoizedState=i:(t.memoizedState=o,t=ym(),ce.lanes|=t,zn|=t,o)}function yh(t,i,o,u){return At(o,i)?o:ni.current!==null?(t=eu(t,o,u),At(t,i)||(Xe=!0),t):(gn&42)===0||(gn&1073741824)!==0&&(xe&261930)===0?(Xe=!0,t.memoizedState=o):(t=ym(),ce.lanes|=t,zn|=t,i)}function vh(t,i,o,u,g){var v=K.p;K.p=v!==0&&8>v?v:8;var w=B.T,S={};B.T=S,su(t,!1,i,o);try{var N=g(),P=B.S;if(P!==null&&P(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var q=Ex(N,u);ur(t,i,q,It(t))}else ur(t,i,u,It(t))}catch(H){ur(t,i,{then:function(){},status:"rejected",reason:H},It())}finally{K.p=v,w!==null&&S.types!==null&&(w.types=S.types),B.T=w}}function Rx(){}function tu(t,i,o,u){if(t.tag!==5)throw Error(r(476));var g=xh(t).queue;vh(t,g,i,ae,o===null?Rx:function(){return _h(t),o(u)})}function xh(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:ae},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:o},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function _h(t){var i=xh(t);i.next===null&&(i=t.alternate.memoizedState),ur(t,i.next.queue,{},It())}function nu(){return ot(Tr)}function bh(){return Je().memoizedState}function wh(){return Je().memoizedState}function Dx(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var o=It();t=Bn(o);var u=qn(i,t,o);u!==null&&(wt(u,i,o),ir(u,i,o)),i={cache:Ml()},t.payload=i;return}i=i.return}}function Mx(t,i,o){var u=It();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ro(t)?Sh(i,o):(o=_l(t,i,o,u),o!==null&&(wt(o,t,u),Ch(o,i,u)))}function Eh(t,i,o){var u=It();ur(t,i,o,u)}function ur(t,i,o,u){var g={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ro(t))Sh(i,g);else{var v=t.alternate;if(t.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var w=i.lastRenderedState,S=v(w,o);if(g.hasEagerState=!0,g.eagerState=S,At(S,w))return lo(t,i,g,0),je===null&&ao(),!1}catch{}finally{}if(o=_l(t,i,g,u),o!==null)return wt(o,t,u),Ch(o,i,u),!0}return!1}function su(t,i,o,u){if(u={lane:2,revertLane:Pu(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ro(t)){if(i)throw Error(r(479))}else i=_l(t,o,u,2),i!==null&&wt(i,t,2)}function Ro(t){var i=t.alternate;return t===ce||i!==null&&i===ce}function Sh(t,i){si=wo=!0;var o=t.pending;o===null?i.next=i:(i.next=o.next,o.next=i),t.pending=i}function Ch(t,i,o){if((o&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,o|=u,i.lanes=o,Rd(t,o)}}var cr={readContext:ot,use:Co,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge};cr.useEffectEvent=Ge;var Th={readContext:ot,use:Co,useCallback:function(t,i){return mt().memoizedState=[t,i===void 0?null:i],t},useContext:ot,useEffect:uh,useImperativeHandle:function(t,i,o){o=o!=null?o.concat([t]):null,Ao(4194308,4,hh.bind(null,i,t),o)},useLayoutEffect:function(t,i){return Ao(4194308,4,t,i)},useInsertionEffect:function(t,i){Ao(4,2,t,i)},useMemo:function(t,i){var o=mt();i=i===void 0?null:i;var u=t();if(ws){Mn(!0);try{t()}finally{Mn(!1)}}return o.memoizedState=[u,i],u},useReducer:function(t,i,o){var u=mt();if(o!==void 0){var g=o(i);if(ws){Mn(!0);try{o(i)}finally{Mn(!1)}}}else g=i;return u.memoizedState=u.baseState=g,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:g},u.queue=t,t=t.dispatch=Mx.bind(null,ce,t),[u.memoizedState,t]},useRef:function(t){var i=mt();return t={current:t},i.memoizedState=t},useState:function(t){t=Xl(t);var i=t.queue,o=Eh.bind(null,ce,i);return i.dispatch=o,[t.memoizedState,o]},useDebugValue:Zl,useDeferredValue:function(t,i){var o=mt();return eu(o,t,i)},useTransition:function(){var t=Xl(!1);return t=vh.bind(null,ce,t.queue,!0,!1),mt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,o){var u=ce,g=mt();if(be){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),je===null)throw Error(r(349));(xe&127)!==0||Jf(u,i,o)}g.memoizedState=o;var v={value:o,getSnapshot:i};return g.queue=v,uh(Yf.bind(null,u,v,t),[t]),u.flags|=2048,ri(9,{destroy:void 0},Kf.bind(null,u,v,o,i),null),o},useId:function(){var t=mt(),i=je.identifierPrefix;if(be){var o=rn,u=sn;o=(u&~(1<<32-Tt(u)-1)).toString(32)+o,i="_"+i+"R_"+o,o=Eo++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=Sx++,i="_"+i+"r_"+o.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:nu,useFormState:ih,useActionState:ih,useOptimistic:function(t){var i=mt();i.memoizedState=i.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=su.bind(null,ce,!0,o),o.dispatch=i,[t,i]},useMemoCache:Jl,useCacheRefresh:function(){return mt().memoizedState=Dx.bind(null,ce)},useEffectEvent:function(t){var i=mt(),o={impl:t};return i.memoizedState=o,function(){if((Ce&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},iu={readContext:ot,use:Co,useCallback:ph,useContext:ot,useEffect:Wl,useImperativeHandle:mh,useInsertionEffect:dh,useLayoutEffect:fh,useMemo:gh,useReducer:To,useRef:lh,useState:function(){return To(yn)},useDebugValue:Zl,useDeferredValue:function(t,i){var o=Je();return yh(o,Me.memoizedState,t,i)},useTransition:function(){var t=To(yn)[0],i=Je().memoizedState;return[typeof t=="boolean"?t:lr(t),i]},useSyncExternalStore:$f,useId:bh,useHostTransitionStatus:nu,useFormState:rh,useActionState:rh,useOptimistic:function(t,i){var o=Je();return Wf(o,Me,t,i)},useMemoCache:Jl,useCacheRefresh:wh};iu.useEffectEvent=ch;var Ah={readContext:ot,use:Co,useCallback:ph,useContext:ot,useEffect:Wl,useImperativeHandle:mh,useInsertionEffect:dh,useLayoutEffect:fh,useMemo:gh,useReducer:Yl,useRef:lh,useState:function(){return Yl(yn)},useDebugValue:Zl,useDeferredValue:function(t,i){var o=Je();return Me===null?eu(o,t,i):yh(o,Me.memoizedState,t,i)},useTransition:function(){var t=Yl(yn)[0],i=Je().memoizedState;return[typeof t=="boolean"?t:lr(t),i]},useSyncExternalStore:$f,useId:bh,useHostTransitionStatus:nu,useFormState:ah,useActionState:ah,useOptimistic:function(t,i){var o=Je();return Me!==null?Wf(o,Me,t,i):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:Jl,useCacheRefresh:wh};Ah.useEffectEvent=ch;function ru(t,i,o,u){i=t.memoizedState,o=o(u,i),o=o==null?i:_({},i,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var ou={enqueueSetState:function(t,i,o){t=t._reactInternals;var u=It(),g=Bn(u);g.payload=i,o!=null&&(g.callback=o),i=qn(t,g,u),i!==null&&(wt(i,t,u),ir(i,t,u))},enqueueReplaceState:function(t,i,o){t=t._reactInternals;var u=It(),g=Bn(u);g.tag=1,g.payload=i,o!=null&&(g.callback=o),i=qn(t,g,u),i!==null&&(wt(i,t,u),ir(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var o=It(),u=Bn(o);u.tag=2,i!=null&&(u.callback=i),i=qn(t,u,o),i!==null&&(wt(i,t,o),ir(i,t,o))}};function Nh(t,i,o,u,g,v,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,v,w):i.prototype&&i.prototype.isPureReactComponent?!Xi(o,u)||!Xi(g,v):!0}function Rh(t,i,o,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==t&&ou.enqueueReplaceState(i,i.state,null)}function Es(t,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(t=t.defaultProps){o===i&&(o=_({},o));for(var g in t)o[g]===void 0&&(o[g]=t[g])}return o}function Dh(t){oo(t)}function Mh(t){console.error(t)}function kh(t){oo(t)}function Do(t,i){try{var o=t.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Ih(t,i,o){try{var u=t.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function au(t,i,o){return o=Bn(o),o.tag=3,o.payload={element:null},o.callback=function(){Do(t,i)},o}function Uh(t){return t=Bn(t),t.tag=3,t}function Ph(t,i,o,u){var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var v=u.value;t.payload=function(){return g(v)},t.callback=function(){Ih(i,o,u)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(t.callback=function(){Ih(i,o,u),typeof g!="function"&&($n===null?$n=new Set([this]):$n.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function kx(t,i,o,u,g){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&Qs(i,o,g,!0),o=Rt.current,o!==null){switch(o.tag){case 31:case 13:return zt===null?Ho():o.alternate===null&&Fe===0&&(Fe=3),o.flags&=-257,o.flags|=65536,o.lanes=g,u===yo?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),ku(t,u,g)),!1;case 22:return o.flags|=65536,u===yo?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),ku(t,u,g)),!1}throw Error(r(435,o.tag))}return ku(t,u,g),Ho(),!1}if(be)return i=Rt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,u!==Tl&&(t=Error(r(422),{cause:u}),Zi(Vt(t,o)))):(u!==Tl&&(i=Error(r(423),{cause:u}),Zi(Vt(i,o))),t=t.current.alternate,t.flags|=65536,g&=-g,t.lanes|=g,u=Vt(u,o),g=au(t.stateNode,u,g),Ol(t,g),Fe!==4&&(Fe=2)),!1;var v=Error(r(520),{cause:u});if(v=Vt(v,o),vr===null?vr=[v]:vr.push(v),Fe!==4&&(Fe=2),i===null)return!0;u=Vt(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,t=g&-g,o.lanes|=t,t=au(o.stateNode,u,t),Ol(o,t),!1;case 1:if(i=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&($n===null||!$n.has(v))))return o.flags|=65536,g&=-g,o.lanes|=g,g=Uh(g),Ph(g,t,o,u),Ol(o,g),!1}o=o.return}while(o!==null);return!1}var lu=Error(r(461)),Xe=!1;function at(t,i,o,u){i.child=t===null?Bf(i,null,o,u):bs(i,t.child,o,u)}function jh(t,i,o,u,g){o=o.render;var v=i.ref;if("ref"in u){var w={};for(var S in u)S!=="ref"&&(w[S]=u[S])}else w=u;return ys(i),u=Gl(t,i,o,w,v,g),S=Fl(),t!==null&&!Xe?(zl(t,i,g),vn(t,i,g)):(be&&S&&Sl(i),i.flags|=1,at(t,i,u,g),i.child)}function Oh(t,i,o,u,g){if(t===null){var v=o.type;return typeof v=="function"&&!bl(v)&&v.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=v,Lh(t,i,v,u,g)):(t=co(o.type,null,u,i,i.mode,g),t.ref=i.ref,t.return=i,i.child=t)}if(v=t.child,!gu(t,g)){var w=v.memoizedProps;if(o=o.compare,o=o!==null?o:Xi,o(w,u)&&t.ref===i.ref)return vn(t,i,g)}return i.flags|=1,t=fn(v,u),t.ref=i.ref,t.return=i,i.child=t}function Lh(t,i,o,u,g){if(t!==null){var v=t.memoizedProps;if(Xi(v,u)&&t.ref===i.ref)if(Xe=!1,i.pendingProps=u=v,gu(t,g))(t.flags&131072)!==0&&(Xe=!0);else return i.lanes=t.lanes,vn(t,i,g)}return uu(t,i,o,u,g)}function Bh(t,i,o,u){var g=u.children,v=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(v=v!==null?v.baseLanes|o:o,t!==null){for(u=i.child=t.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~v}else u=0,i.child=null;return qh(t,i,v,o,u)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&po(i,v!==null?v.cachePool:null),v!==null?Hf(i,v):Bl(),Gf(i);else return u=i.lanes=536870912,qh(t,i,v!==null?v.baseLanes|o:o,o,u)}else v!==null?(po(i,v.cachePool),Hf(i,v),Hn(),i.memoizedState=null):(t!==null&&po(i,null),Bl(),Hn());return at(t,i,g,o),i.child}function dr(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function qh(t,i,o,u,g){var v=Il();return v=v===null?null:{parent:Ke._currentValue,pool:v},i.memoizedState={baseLanes:o,cachePool:v},t!==null&&po(i,null),Bl(),Gf(i),t!==null&&Qs(t,i,u,!0),i.childLanes=g,null}function Mo(t,i){return i=Io({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Vh(t,i,o){return bs(i,t.child,null,o),t=Mo(i,i.pendingProps),t.flags|=2,Dt(i),i.memoizedState=null,t}function Ix(t,i,o){var u=i.pendingProps,g=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(be){if(u.mode==="hidden")return t=Mo(i,u),i.lanes=536870912,dr(null,t);if(Vl(i),(t=Le)?(t=Zm(t,Ft),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Un!==null?{id:sn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},o=Sf(t),o.return=i,i.child=o,rt=i,Le=null)):t=null,t===null)throw jn(i);return i.lanes=536870912,null}return Mo(i,u)}var v=t.memoizedState;if(v!==null){var w=v.dehydrated;if(Vl(i),g)if(i.flags&256)i.flags&=-257,i=Vh(t,i,o);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Xe||Qs(t,i,o,!1),g=(o&t.childLanes)!==0,Xe||g){if(u=je,u!==null&&(w=Dd(u,o),w!==0&&w!==v.retryLane))throw v.retryLane=w,hs(t,w),wt(u,t,w),lu;Ho(),i=Vh(t,i,o)}else t=v.treeContext,Le=$t(w.nextSibling),rt=i,be=!0,Pn=null,Ft=!1,t!==null&&Af(i,t),i=Mo(i,u),i.flags|=4096;return i}return t=fn(t.child,{mode:u.mode,children:u.children}),t.ref=i.ref,i.child=t,t.return=i,t}function ko(t,i){var o=i.ref;if(o===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(t===null||t.ref!==o)&&(i.flags|=4194816)}}function uu(t,i,o,u,g){return ys(i),o=Gl(t,i,o,u,void 0,g),u=Fl(),t!==null&&!Xe?(zl(t,i,g),vn(t,i,g)):(be&&u&&Sl(i),i.flags|=1,at(t,i,o,g),i.child)}function Hh(t,i,o,u,g,v){return ys(i),i.updateQueue=null,o=zf(i,u,o,g),Ff(t),u=Fl(),t!==null&&!Xe?(zl(t,i,v),vn(t,i,v)):(be&&u&&Sl(i),i.flags|=1,at(t,i,o,v),i.child)}function Gh(t,i,o,u,g){if(ys(i),i.stateNode===null){var v=Js,w=o.contextType;typeof w=="object"&&w!==null&&(v=ot(w)),v=new o(u,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=ou,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=u,v.state=i.memoizedState,v.refs={},Pl(i),w=o.contextType,v.context=typeof w=="object"&&w!==null?ot(w):Js,v.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(ru(i,o,w,u),v.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(w=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),w!==v.state&&ou.enqueueReplaceState(v,v.state,null),or(i,u,v,g),rr(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){v=i.stateNode;var S=i.memoizedProps,N=Es(o,S);v.props=N;var P=v.context,q=o.contextType;w=Js,typeof q=="object"&&q!==null&&(w=ot(q));var H=o.getDerivedStateFromProps;q=typeof H=="function"||typeof v.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,q||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S||P!==w)&&Rh(i,v,u,w),Ln=!1;var j=i.memoizedState;v.state=j,or(i,u,v,g),rr(),P=i.memoizedState,S||j!==P||Ln?(typeof H=="function"&&(ru(i,o,H,u),P=i.memoizedState),(N=Ln||Nh(i,o,N,u,j,P,w))?(q||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=P),v.props=u,v.state=P,v.context=w,u=N):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{v=i.stateNode,jl(t,i),w=i.memoizedProps,q=Es(o,w),v.props=q,H=i.pendingProps,j=v.context,P=o.contextType,N=Js,typeof P=="object"&&P!==null&&(N=ot(P)),S=o.getDerivedStateFromProps,(P=typeof S=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==H||j!==N)&&Rh(i,v,u,N),Ln=!1,j=i.memoizedState,v.state=j,or(i,u,v,g),rr();var L=i.memoizedState;w!==H||j!==L||Ln||t!==null&&t.dependencies!==null&&ho(t.dependencies)?(typeof S=="function"&&(ru(i,o,S,u),L=i.memoizedState),(q=Ln||Nh(i,o,q,u,j,L,N)||t!==null&&t.dependencies!==null&&ho(t.dependencies))?(P||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,L,N),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,L,N)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||w===t.memoizedProps&&j===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&j===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=L),v.props=u,v.state=L,v.context=N,u=q):(typeof v.componentDidUpdate!="function"||w===t.memoizedProps&&j===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&j===t.memoizedState||(i.flags|=1024),u=!1)}return v=u,ko(t,i),u=(i.flags&128)!==0,v||u?(v=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,t!==null&&u?(i.child=bs(i,t.child,null,g),i.child=bs(i,null,o,g)):at(t,i,o,g),i.memoizedState=v.state,t=i.child):t=vn(t,i,g),t}function Fh(t,i,o,u){return ps(),i.flags|=256,at(t,i,o,u),i.child}var cu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function du(t){return{baseLanes:t,cachePool:If()}}function fu(t,i,o){return t=t!==null?t.childLanes&~o:0,i&&(t|=kt),t}function zh(t,i,o){var u=i.pendingProps,g=!1,v=(i.flags&128)!==0,w;if((w=v)||(w=t!==null&&t.memoizedState===null?!1:($e.current&2)!==0),w&&(g=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,t===null){if(be){if(g?Vn(i):Hn(),(t=Le)?(t=Zm(t,Ft),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Un!==null?{id:sn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},o=Sf(t),o.return=i,i.child=o,rt=i,Le=null)):t=null,t===null)throw jn(i);return Ku(t)?i.lanes=32:i.lanes=536870912,null}var S=u.children;return u=u.fallback,g?(Hn(),g=i.mode,S=Io({mode:"hidden",children:S},g),u=ms(u,g,o,null),S.return=i,u.return=i,S.sibling=u,i.child=S,u=i.child,u.memoizedState=du(o),u.childLanes=fu(t,w,o),i.memoizedState=cu,dr(null,u)):(Vn(i),hu(i,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(v)i.flags&256?(Vn(i),i.flags&=-257,i=mu(t,i,o)):i.memoizedState!==null?(Hn(),i.child=t.child,i.flags|=128,i=null):(Hn(),S=u.fallback,g=i.mode,u=Io({mode:"visible",children:u.children},g),S=ms(S,g,o,null),S.flags|=2,u.return=i,S.return=i,u.sibling=S,i.child=u,bs(i,t.child,null,o),u=i.child,u.memoizedState=du(o),u.childLanes=fu(t,w,o),i.memoizedState=cu,i=dr(null,u));else if(Vn(i),Ku(S)){if(w=S.nextSibling&&S.nextSibling.dataset,w)var P=w.dgst;w=P,u=Error(r(419)),u.stack="",u.digest=w,Zi({value:u,source:null,stack:null}),i=mu(t,i,o)}else if(Xe||Qs(t,i,o,!1),w=(o&t.childLanes)!==0,Xe||w){if(w=je,w!==null&&(u=Dd(w,o),u!==0&&u!==N.retryLane))throw N.retryLane=u,hs(t,u),wt(w,t,u),lu;Ju(S)||Ho(),i=mu(t,i,o)}else Ju(S)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,Le=$t(S.nextSibling),rt=i,be=!0,Pn=null,Ft=!1,t!==null&&Af(i,t),i=hu(i,u.children),i.flags|=4096);return i}return g?(Hn(),S=u.fallback,g=i.mode,N=t.child,P=N.sibling,u=fn(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,P!==null?S=fn(P,S):(S=ms(S,g,o,null),S.flags|=2),S.return=i,u.return=i,u.sibling=S,i.child=u,dr(null,u),u=i.child,S=t.child.memoizedState,S===null?S=du(o):(g=S.cachePool,g!==null?(N=Ke._currentValue,g=g.parent!==N?{parent:N,pool:N}:g):g=If(),S={baseLanes:S.baseLanes|o,cachePool:g}),u.memoizedState=S,u.childLanes=fu(t,w,o),i.memoizedState=cu,dr(t.child,u)):(Vn(i),o=t.child,t=o.sibling,o=fn(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,t!==null&&(w=i.deletions,w===null?(i.deletions=[t],i.flags|=16):w.push(t)),i.child=o,i.memoizedState=null,o)}function hu(t,i){return i=Io({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Io(t,i){return t=Nt(22,t,null,i),t.lanes=0,t}function mu(t,i,o){return bs(i,t.child,null,o),t=hu(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function $h(t,i,o){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),Rl(t.return,i,o)}function pu(t,i,o,u,g,v){var w=t.memoizedState;w===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:g,treeForkCount:v}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=o,w.tailMode=g,w.treeForkCount=v)}function Jh(t,i,o){var u=i.pendingProps,g=u.revealOrder,v=u.tail;u=u.children;var w=$e.current,S=(w&2)!==0;if(S?(w=w&1|2,i.flags|=128):w&=1,X($e,w),at(t,i,u,o),u=be?Wi:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$h(t,o,i);else if(t.tag===19)$h(t,o,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(g){case"forwards":for(o=i.child,g=null;o!==null;)t=o.alternate,t!==null&&bo(t)===null&&(g=o),o=o.sibling;o=g,o===null?(g=i.child,i.child=null):(g=o.sibling,o.sibling=null),pu(i,!1,g,o,v,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,g=i.child,i.child=null;g!==null;){if(t=g.alternate,t!==null&&bo(t)===null){i.child=g;break}t=g.sibling,g.sibling=o,o=g,g=t}pu(i,!0,o,null,v,u);break;case"together":pu(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function vn(t,i,o){if(t!==null&&(i.dependencies=t.dependencies),zn|=i.lanes,(o&i.childLanes)===0)if(t!==null){if(Qs(t,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,o=fn(t,t.pendingProps),i.child=o,o.return=i;t.sibling!==null;)t=t.sibling,o=o.sibling=fn(t,t.pendingProps),o.return=i;o.sibling=null}return i.child}function gu(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ho(t)))}function Ux(t,i,o){switch(i.tag){case 3:ht(i,i.stateNode.containerInfo),On(i,Ke,t.memoizedState.cache),ps();break;case 27:case 5:Oi(i);break;case 4:ht(i,i.stateNode.containerInfo);break;case 10:On(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Vl(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Vn(i),i.flags|=128,null):(o&i.child.childLanes)!==0?zh(t,i,o):(Vn(i),t=vn(t,i,o),t!==null?t.sibling:null);Vn(i);break;case 19:var g=(t.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(Qs(t,i,o,!1),u=(o&i.childLanes)!==0),g){if(u)return Jh(t,i,o);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),X($e,$e.current),u)break;return null;case 22:return i.lanes=0,Bh(t,i,o,i.pendingProps);case 24:On(i,Ke,t.memoizedState.cache)}return vn(t,i,o)}function Kh(t,i,o){if(t!==null)if(t.memoizedProps!==i.pendingProps)Xe=!0;else{if(!gu(t,o)&&(i.flags&128)===0)return Xe=!1,Ux(t,i,o);Xe=(t.flags&131072)!==0}else Xe=!1,be&&(i.flags&1048576)!==0&&Tf(i,Wi,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(t=xs(i.elementType),i.type=t,typeof t=="function")bl(t)?(u=Es(t,u),i.tag=1,i=Gh(null,i,t,u,o)):(i.tag=0,i=uu(null,i,t,u,o));else{if(t!=null){var g=t.$$typeof;if(g===F){i.tag=11,i=jh(null,i,t,u,o);break e}else if(g===z){i.tag=14,i=Oh(null,i,t,u,o);break e}}throw i=Ot(t)||t,Error(r(306,i,""))}}return i;case 0:return uu(t,i,i.type,i.pendingProps,o);case 1:return u=i.type,g=Es(u,i.pendingProps),Gh(t,i,u,g,o);case 3:e:{if(ht(i,i.stateNode.containerInfo),t===null)throw Error(r(387));u=i.pendingProps;var v=i.memoizedState;g=v.element,jl(t,i),or(i,u,null,o);var w=i.memoizedState;if(u=w.cache,On(i,Ke,u),u!==v.cache&&Dl(i,[Ke],o,!0),rr(),u=w.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=Fh(t,i,u,o);break e}else if(u!==g){g=Vt(Error(r(424)),i),Zi(g),i=Fh(t,i,u,o);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Le=$t(t.firstChild),rt=i,be=!0,Pn=null,Ft=!0,o=Bf(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ps(),u===g){i=vn(t,i,o);break e}at(t,i,u,o)}i=i.child}return i;case 26:return ko(t,i),t===null?(o=rp(i.type,null,i.pendingProps,null))?i.memoizedState=o:be||(o=i.type,t=i.pendingProps,u=Yo(pe.current).createElement(o),u[it]=i,u[gt]=t,lt(u,o,t),nt(u),i.stateNode=u):i.memoizedState=rp(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Oi(i),t===null&&be&&(u=i.stateNode=np(i.type,i.pendingProps,pe.current),rt=i,Ft=!0,g=Le,Xn(i.type)?(Yu=g,Le=$t(u.firstChild)):Le=g),at(t,i,i.pendingProps.children,o),ko(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&be&&((g=u=Le)&&(u=c_(u,i.type,i.pendingProps,Ft),u!==null?(i.stateNode=u,rt=i,Le=$t(u.firstChild),Ft=!1,g=!0):g=!1),g||jn(i)),Oi(i),g=i.type,v=i.pendingProps,w=t!==null?t.memoizedProps:null,u=v.children,Fu(g,v)?u=null:w!==null&&Fu(g,w)&&(i.flags|=32),i.memoizedState!==null&&(g=Gl(t,i,Cx,null,null,o),Tr._currentValue=g),ko(t,i),at(t,i,u,o),i.child;case 6:return t===null&&be&&((t=o=Le)&&(o=d_(o,i.pendingProps,Ft),o!==null?(i.stateNode=o,rt=i,Le=null,t=!0):t=!1),t||jn(i)),null;case 13:return zh(t,i,o);case 4:return ht(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=bs(i,null,u,o):at(t,i,u,o),i.child;case 11:return jh(t,i,i.type,i.pendingProps,o);case 7:return at(t,i,i.pendingProps,o),i.child;case 8:return at(t,i,i.pendingProps.children,o),i.child;case 12:return at(t,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,On(i,i.type,u.value),at(t,i,u.children,o),i.child;case 9:return g=i.type._context,u=i.pendingProps.children,ys(i),g=ot(g),u=u(g),i.flags|=1,at(t,i,u,o),i.child;case 14:return Oh(t,i,i.type,i.pendingProps,o);case 15:return Lh(t,i,i.type,i.pendingProps,o);case 19:return Jh(t,i,o);case 31:return Ix(t,i,o);case 22:return Bh(t,i,o,i.pendingProps);case 24:return ys(i),u=ot(Ke),t===null?(g=Il(),g===null&&(g=je,v=Ml(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=o),g=v),i.memoizedState={parent:u,cache:g},Pl(i),On(i,Ke,g)):((t.lanes&o)!==0&&(jl(t,i),or(i,null,null,o),rr()),g=t.memoizedState,v=i.memoizedState,g.parent!==u?(g={parent:u,cache:u},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),On(i,Ke,u)):(u=v.cache,On(i,Ke,u),u!==g.cache&&Dl(i,[Ke],o,!0))),at(t,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function xn(t){t.flags|=4}function yu(t,i,o,u,g){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(g&335544128)===g)if(t.stateNode.complete)t.flags|=8192;else if(bm())t.flags|=8192;else throw _s=yo,Ul}else t.flags&=-16777217}function Yh(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!cp(i))if(bm())t.flags|=8192;else throw _s=yo,Ul}function Uo(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ad():536870912,t.lanes|=i,ui|=i)}function fr(t,i){if(!be)switch(t.tailMode){case"hidden":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Be(t){var i=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(i)for(var g=t.child;g!==null;)o|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=t,g=g.sibling;else for(g=t.child;g!==null;)o|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=t,g=g.sibling;return t.subtreeFlags|=u,t.childLanes=o,i}function Px(t,i,o){var u=i.pendingProps;switch(Cl(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(i),null;case 1:return Be(i),null;case 3:return o=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),pn(Ke),ze(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Xs(i)?xn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Al())),Be(i),null;case 26:var g=i.type,v=i.memoizedState;return t===null?(xn(i),v!==null?(Be(i),Yh(i,v)):(Be(i),yu(i,g,null,u,o))):v?v!==t.memoizedState?(xn(i),Be(i),Yh(i,v)):(Be(i),i.flags&=-16777217):(t=t.memoizedProps,t!==u&&xn(i),Be(i),yu(i,g,t,u,o)),null;case 27:if(Fr(i),o=pe.current,g=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&xn(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return Be(i),null}t=te.current,Xs(i)?Nf(i):(t=np(g,u,o),i.stateNode=t,xn(i))}return Be(i),null;case 5:if(Fr(i),g=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&xn(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return Be(i),null}if(v=te.current,Xs(i))Nf(i);else{var w=Yo(pe.current);switch(v){case 1:v=w.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:v=w.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":v=w.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":v=w.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":v=w.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof u.is=="string"?w.createElement("select",{is:u.is}):w.createElement("select"),u.multiple?v.multiple=!0:u.size&&(v.size=u.size);break;default:v=typeof u.is=="string"?w.createElement(g,{is:u.is}):w.createElement(g)}}v[it]=i,v[gt]=u;e:for(w=i.child;w!==null;){if(w.tag===5||w.tag===6)v.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===i)break e;for(;w.sibling===null;){if(w.return===null||w.return===i)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}i.stateNode=v;e:switch(lt(v,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&xn(i)}}return Be(i),yu(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,o),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&xn(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(r(166));if(t=pe.current,Xs(i)){if(t=i.stateNode,o=i.memoizedProps,u=null,g=rt,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}t[it]=i,t=!!(t.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||zm(t.nodeValue,o)),t||jn(i,!0)}else t=Yo(t).createTextNode(u),t[it]=i,i.stateNode=t}return Be(i),null;case 31:if(o=i.memoizedState,t===null||t.memoizedState!==null){if(u=Xs(i),o!==null){if(t===null){if(!u)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[it]=i}else ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Be(i),t=!1}else o=Al(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),t=!0;if(!t)return i.flags&256?(Dt(i),i):(Dt(i),null);if((i.flags&128)!==0)throw Error(r(558))}return Be(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(g=Xs(i),u!==null&&u.dehydrated!==null){if(t===null){if(!g)throw Error(r(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[it]=i}else ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Be(i),g=!1}else g=Al(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(Dt(i),i):(Dt(i),null)}return Dt(i),(i.flags&128)!==0?(i.lanes=o,i):(o=u!==null,t=t!==null&&t.memoizedState!==null,o&&(u=i.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==g&&(u.flags|=2048)),o!==t&&o&&(i.child.flags|=8192),Uo(i,i.updateQueue),Be(i),null);case 4:return ze(),t===null&&Bu(i.stateNode.containerInfo),Be(i),null;case 10:return pn(i.type),Be(i),null;case 19:if(G($e),u=i.memoizedState,u===null)return Be(i),null;if(g=(i.flags&128)!==0,v=u.rendering,v===null)if(g)fr(u,!1);else{if(Fe!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(v=bo(t),v!==null){for(i.flags|=128,fr(u,!1),t=v.updateQueue,i.updateQueue=t,Uo(i,t),i.subtreeFlags=0,t=o,o=i.child;o!==null;)Ef(o,t),o=o.sibling;return X($e,$e.current&1|2),be&&hn(i,u.treeForkCount),i.child}t=t.sibling}u.tail!==null&&St()>Bo&&(i.flags|=128,g=!0,fr(u,!1),i.lanes=4194304)}else{if(!g)if(t=bo(v),t!==null){if(i.flags|=128,g=!0,t=t.updateQueue,i.updateQueue=t,Uo(i,t),fr(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!be)return Be(i),null}else 2*St()-u.renderingStartTime>Bo&&o!==536870912&&(i.flags|=128,g=!0,fr(u,!1),i.lanes=4194304);u.isBackwards?(v.sibling=i.child,i.child=v):(t=u.last,t!==null?t.sibling=v:i.child=v,u.last=v)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=St(),t.sibling=null,o=$e.current,X($e,g?o&1|2:o&1),be&&hn(i,u.treeForkCount),t):(Be(i),null);case 22:case 23:return Dt(i),ql(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(Be(i),i.subtreeFlags&6&&(i.flags|=8192)):Be(i),o=i.updateQueue,o!==null&&Uo(i,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),t!==null&&G(vs),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),pn(Ke),Be(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function jx(t,i){switch(Cl(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return pn(Ke),ze(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Fr(i),null;case 31:if(i.memoizedState!==null){if(Dt(i),i.alternate===null)throw Error(r(340));ps()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Dt(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));ps()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return G($e),null;case 4:return ze(),null;case 10:return pn(i.type),null;case 22:case 23:return Dt(i),ql(),t!==null&&G(vs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return pn(Ke),null;case 25:return null;default:return null}}function Xh(t,i){switch(Cl(i),i.tag){case 3:pn(Ke),ze();break;case 26:case 27:case 5:Fr(i);break;case 4:ze();break;case 31:i.memoizedState!==null&&Dt(i);break;case 13:Dt(i);break;case 19:G($e);break;case 10:pn(i.type);break;case 22:case 23:Dt(i),ql(),t!==null&&G(vs);break;case 24:pn(Ke)}}function hr(t,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var g=u.next;o=g;do{if((o.tag&t)===t){u=void 0;var v=o.create,w=o.inst;u=v(),w.destroy=u}o=o.next}while(o!==g)}}catch(S){Re(i,i.return,S)}}function Gn(t,i,o){try{var u=i.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var v=g.next;u=v;do{if((u.tag&t)===t){var w=u.inst,S=w.destroy;if(S!==void 0){w.destroy=void 0,g=i;var N=o,P=S;try{P()}catch(q){Re(g,N,q)}}}u=u.next}while(u!==v)}}catch(q){Re(i,i.return,q)}}function Qh(t){var i=t.updateQueue;if(i!==null){var o=t.stateNode;try{Vf(i,o)}catch(u){Re(t,t.return,u)}}}function Wh(t,i,o){o.props=Es(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(u){Re(t,i,u)}}function mr(t,i){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof o=="function"?t.refCleanup=o(u):o.current=u}}catch(g){Re(t,i,g)}}function on(t,i){var o=t.ref,u=t.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(g){Re(t,i,g)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(g){Re(t,i,g)}else o.current=null}function Zh(t){var i=t.type,o=t.memoizedProps,u=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(g){Re(t,t.return,g)}}function vu(t,i,o){try{var u=t.stateNode;i_(u,t.type,o,i),u[gt]=i}catch(g){Re(t,t.return,g)}}function em(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xn(t.type)||t.tag===4}function xu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||em(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _u(t,i,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(t),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=cn));else if(u!==4&&(u===27&&Xn(t.type)&&(o=t.stateNode,i=null),t=t.child,t!==null))for(_u(t,i,o),t=t.sibling;t!==null;)_u(t,i,o),t=t.sibling}function Po(t,i,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?o.insertBefore(t,i):o.appendChild(t);else if(u!==4&&(u===27&&Xn(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(Po(t,i,o),t=t.sibling;t!==null;)Po(t,i,o),t=t.sibling}function tm(t){var i=t.stateNode,o=t.memoizedProps;try{for(var u=t.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);lt(i,u,o),i[it]=t,i[gt]=o}catch(v){Re(t,t.return,v)}}var _n=!1,Qe=!1,bu=!1,nm=typeof WeakSet=="function"?WeakSet:Set,st=null;function Ox(t,i){if(t=t.containerInfo,Hu=na,t=mf(t),ml(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var g=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var w=0,S=-1,N=-1,P=0,q=0,H=t,j=null;t:for(;;){for(var L;H!==o||g!==0&&H.nodeType!==3||(S=w+g),H!==v||u!==0&&H.nodeType!==3||(N=w+u),H.nodeType===3&&(w+=H.nodeValue.length),(L=H.firstChild)!==null;)j=H,H=L;for(;;){if(H===t)break t;if(j===o&&++P===g&&(S=w),j===v&&++q===u&&(N=w),(L=H.nextSibling)!==null)break;H=j,j=H.parentNode}H=L}o=S===-1||N===-1?null:{start:S,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(Gu={focusedElem:t,selectionRange:o},na=!1,st=i;st!==null;)if(i=st,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,st=t;else for(;st!==null;){switch(i=st,v=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(o=0;o<t.length;o++)g=t[o],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&v!==null){t=void 0,o=i,g=v.memoizedProps,v=v.memoizedState,u=o.stateNode;try{var W=Es(o.type,g);t=u.getSnapshotBeforeUpdate(W,v),u.__reactInternalSnapshotBeforeUpdate=t}catch(re){Re(o,o.return,re)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,o=t.nodeType,o===9)$u(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":$u(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,st=t;break}st=i.return}}function sm(t,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:wn(t,o),u&4&&hr(5,o);break;case 1:if(wn(t,o),u&4)if(t=o.stateNode,i===null)try{t.componentDidMount()}catch(w){Re(o,o.return,w)}else{var g=Es(o.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(g,i,t.__reactInternalSnapshotBeforeUpdate)}catch(w){Re(o,o.return,w)}}u&64&&Qh(o),u&512&&mr(o,o.return);break;case 3:if(wn(t,o),u&64&&(t=o.updateQueue,t!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Vf(t,i)}catch(w){Re(o,o.return,w)}}break;case 27:i===null&&u&4&&tm(o);case 26:case 5:wn(t,o),i===null&&u&4&&Zh(o),u&512&&mr(o,o.return);break;case 12:wn(t,o);break;case 31:wn(t,o),u&4&&om(t,o);break;case 13:wn(t,o),u&4&&am(t,o),u&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=$x.bind(null,o),f_(t,o))));break;case 22:if(u=o.memoizedState!==null||_n,!u){i=i!==null&&i.memoizedState!==null||Qe,g=_n;var v=Qe;_n=u,(Qe=i)&&!v?En(t,o,(o.subtreeFlags&8772)!==0):wn(t,o),_n=g,Qe=v}break;case 30:break;default:wn(t,o)}}function im(t){var i=t.alternate;i!==null&&(t.alternate=null,im(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Qa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ve=null,vt=!1;function bn(t,i,o){for(o=o.child;o!==null;)rm(t,i,o),o=o.sibling}function rm(t,i,o){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Li,o)}catch{}switch(o.tag){case 26:Qe||on(o,i),bn(t,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Qe||on(o,i);var u=Ve,g=vt;Xn(o.type)&&(Ve=o.stateNode,vt=!1),bn(t,i,o),Er(o.stateNode),Ve=u,vt=g;break;case 5:Qe||on(o,i);case 6:if(u=Ve,g=vt,Ve=null,bn(t,i,o),Ve=u,vt=g,Ve!==null)if(vt)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(o.stateNode)}catch(v){Re(o,i,v)}else try{Ve.removeChild(o.stateNode)}catch(v){Re(o,i,v)}break;case 18:Ve!==null&&(vt?(t=Ve,Qm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),yi(t)):Qm(Ve,o.stateNode));break;case 4:u=Ve,g=vt,Ve=o.stateNode.containerInfo,vt=!0,bn(t,i,o),Ve=u,vt=g;break;case 0:case 11:case 14:case 15:Gn(2,o,i),Qe||Gn(4,o,i),bn(t,i,o);break;case 1:Qe||(on(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Wh(o,i,u)),bn(t,i,o);break;case 21:bn(t,i,o);break;case 22:Qe=(u=Qe)||o.memoizedState!==null,bn(t,i,o),Qe=u;break;default:bn(t,i,o)}}function om(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{yi(t)}catch(o){Re(i,i.return,o)}}}function am(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yi(t)}catch(o){Re(i,i.return,o)}}function Lx(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new nm),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new nm),i;default:throw Error(r(435,t.tag))}}function jo(t,i){var o=Lx(t);i.forEach(function(u){if(!o.has(u)){o.add(u);var g=Jx.bind(null,t,u);u.then(g,g)}})}function xt(t,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var g=o[u],v=t,w=i,S=w;e:for(;S!==null;){switch(S.tag){case 27:if(Xn(S.type)){Ve=S.stateNode,vt=!1;break e}break;case 5:Ve=S.stateNode,vt=!1;break e;case 3:case 4:Ve=S.stateNode.containerInfo,vt=!0;break e}S=S.return}if(Ve===null)throw Error(r(160));rm(v,w,g),Ve=null,vt=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)lm(i,t),i=i.sibling}var Qt=null;function lm(t,i){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xt(i,t),_t(t),u&4&&(Gn(3,t,t.return),hr(3,t),Gn(5,t,t.return));break;case 1:xt(i,t),_t(t),u&512&&(Qe||o===null||on(o,o.return)),u&64&&_n&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var g=Qt;if(xt(i,t),_t(t),u&512&&(Qe||o===null||on(o,o.return)),u&4){var v=o!==null?o.memoizedState:null;if(u=t.memoizedState,o===null)if(u===null)if(t.stateNode===null){e:{u=t.type,o=t.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":v=g.getElementsByTagName("title")[0],(!v||v[Vi]||v[it]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(u),g.head.insertBefore(v,g.querySelector("head > title"))),lt(v,u,o),v[it]=t,nt(v),u=v;break e;case"link":var w=lp("link","href",g).get(u+(o.href||""));if(w){for(var S=0;S<w.length;S++)if(v=w[S],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(S,1);break t}}v=g.createElement(u),lt(v,u,o),g.head.appendChild(v);break;case"meta":if(w=lp("meta","content",g).get(u+(o.content||""))){for(S=0;S<w.length;S++)if(v=w[S],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(S,1);break t}}v=g.createElement(u),lt(v,u,o),g.head.appendChild(v);break;default:throw Error(r(468,u))}v[it]=t,nt(v),u=v}t.stateNode=u}else up(g,t.type,t.stateNode);else t.stateNode=ap(g,u,t.memoizedProps);else v!==u?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,u===null?up(g,t.type,t.stateNode):ap(g,u,t.memoizedProps)):u===null&&t.stateNode!==null&&vu(t,t.memoizedProps,o.memoizedProps)}break;case 27:xt(i,t),_t(t),u&512&&(Qe||o===null||on(o,o.return)),o!==null&&u&4&&vu(t,t.memoizedProps,o.memoizedProps);break;case 5:if(xt(i,t),_t(t),u&512&&(Qe||o===null||on(o,o.return)),t.flags&32){g=t.stateNode;try{qs(g,"")}catch(W){Re(t,t.return,W)}}u&4&&t.stateNode!=null&&(g=t.memoizedProps,vu(t,g,o!==null?o.memoizedProps:g)),u&1024&&(bu=!0);break;case 6:if(xt(i,t),_t(t),u&4){if(t.stateNode===null)throw Error(r(162));u=t.memoizedProps,o=t.stateNode;try{o.nodeValue=u}catch(W){Re(t,t.return,W)}}break;case 3:if(Wo=null,g=Qt,Qt=Xo(i.containerInfo),xt(i,t),Qt=g,_t(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{yi(i.containerInfo)}catch(W){Re(t,t.return,W)}bu&&(bu=!1,um(t));break;case 4:u=Qt,Qt=Xo(t.stateNode.containerInfo),xt(i,t),_t(t),Qt=u;break;case 12:xt(i,t),_t(t);break;case 31:xt(i,t),_t(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,jo(t,u)));break;case 13:xt(i,t),_t(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Lo=St()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,jo(t,u)));break;case 22:g=t.memoizedState!==null;var N=o!==null&&o.memoizedState!==null,P=_n,q=Qe;if(_n=P||g,Qe=q||N,xt(i,t),Qe=q,_n=P,_t(t),u&8192)e:for(i=t.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(o===null||N||_n||Qe||Ss(t)),o=null,i=t;;){if(i.tag===5||i.tag===26){if(o===null){N=o=i;try{if(v=N.stateNode,g)w=v.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{S=N.stateNode;var H=N.memoizedProps.style,j=H!=null&&H.hasOwnProperty("display")?H.display:null;S.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(W){Re(N,N.return,W)}}}else if(i.tag===6){if(o===null){N=i;try{N.stateNode.nodeValue=g?"":N.memoizedProps}catch(W){Re(N,N.return,W)}}}else if(i.tag===18){if(o===null){N=i;try{var L=N.stateNode;g?Wm(L,!0):Wm(N.stateNode,!1)}catch(W){Re(N,N.return,W)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,jo(t,o))));break;case 19:xt(i,t),_t(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,jo(t,u)));break;case 30:break;case 21:break;default:xt(i,t),_t(t)}}function _t(t){var i=t.flags;if(i&2){try{for(var o,u=t.return;u!==null;){if(em(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var g=o.stateNode,v=xu(t);Po(t,v,g);break;case 5:var w=o.stateNode;o.flags&32&&(qs(w,""),o.flags&=-33);var S=xu(t);Po(t,S,w);break;case 3:case 4:var N=o.stateNode.containerInfo,P=xu(t);_u(t,P,N);break;default:throw Error(r(161))}}catch(q){Re(t,t.return,q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function um(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;um(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function wn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)sm(t,i.alternate,i),i=i.sibling}function Ss(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Gn(4,i,i.return),Ss(i);break;case 1:on(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Wh(i,i.return,o),Ss(i);break;case 27:Er(i.stateNode);case 26:case 5:on(i,i.return),Ss(i);break;case 22:i.memoizedState===null&&Ss(i);break;case 30:Ss(i);break;default:Ss(i)}t=t.sibling}}function En(t,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,g=t,v=i,w=v.flags;switch(v.tag){case 0:case 11:case 15:En(g,v,o),hr(4,v);break;case 1:if(En(g,v,o),u=v,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(P){Re(u,u.return,P)}if(u=v,g=u.updateQueue,g!==null){var S=u.stateNode;try{var N=g.shared.hiddenCallbacks;if(N!==null)for(g.shared.hiddenCallbacks=null,g=0;g<N.length;g++)qf(N[g],S)}catch(P){Re(u,u.return,P)}}o&&w&64&&Qh(v),mr(v,v.return);break;case 27:tm(v);case 26:case 5:En(g,v,o),o&&u===null&&w&4&&Zh(v),mr(v,v.return);break;case 12:En(g,v,o);break;case 31:En(g,v,o),o&&w&4&&om(g,v);break;case 13:En(g,v,o),o&&w&4&&am(g,v);break;case 22:v.memoizedState===null&&En(g,v,o),mr(v,v.return);break;case 30:break;default:En(g,v,o)}i=i.sibling}}function wu(t,i){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&er(o))}function Eu(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&er(t))}function Wt(t,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)cm(t,i,o,u),i=i.sibling}function cm(t,i,o,u){var g=i.flags;switch(i.tag){case 0:case 11:case 15:Wt(t,i,o,u),g&2048&&hr(9,i);break;case 1:Wt(t,i,o,u);break;case 3:Wt(t,i,o,u),g&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&er(t)));break;case 12:if(g&2048){Wt(t,i,o,u),t=i.stateNode;try{var v=i.memoizedProps,w=v.id,S=v.onPostCommit;typeof S=="function"&&S(w,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Re(i,i.return,N)}}else Wt(t,i,o,u);break;case 31:Wt(t,i,o,u);break;case 13:Wt(t,i,o,u);break;case 23:break;case 22:v=i.stateNode,w=i.alternate,i.memoizedState!==null?v._visibility&2?Wt(t,i,o,u):pr(t,i):v._visibility&2?Wt(t,i,o,u):(v._visibility|=2,oi(t,i,o,u,(i.subtreeFlags&10256)!==0||!1)),g&2048&&wu(w,i);break;case 24:Wt(t,i,o,u),g&2048&&Eu(i.alternate,i);break;default:Wt(t,i,o,u)}}function oi(t,i,o,u,g){for(g=g&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var v=t,w=i,S=o,N=u,P=w.flags;switch(w.tag){case 0:case 11:case 15:oi(v,w,S,N,g),hr(8,w);break;case 23:break;case 22:var q=w.stateNode;w.memoizedState!==null?q._visibility&2?oi(v,w,S,N,g):pr(v,w):(q._visibility|=2,oi(v,w,S,N,g)),g&&P&2048&&wu(w.alternate,w);break;case 24:oi(v,w,S,N,g),g&&P&2048&&Eu(w.alternate,w);break;default:oi(v,w,S,N,g)}i=i.sibling}}function pr(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=t,u=i,g=u.flags;switch(u.tag){case 22:pr(o,u),g&2048&&wu(u.alternate,u);break;case 24:pr(o,u),g&2048&&Eu(u.alternate,u);break;default:pr(o,u)}i=i.sibling}}var gr=8192;function ai(t,i,o){if(t.subtreeFlags&gr)for(t=t.child;t!==null;)dm(t,i,o),t=t.sibling}function dm(t,i,o){switch(t.tag){case 26:ai(t,i,o),t.flags&gr&&t.memoizedState!==null&&S_(o,Qt,t.memoizedState,t.memoizedProps);break;case 5:ai(t,i,o);break;case 3:case 4:var u=Qt;Qt=Xo(t.stateNode.containerInfo),ai(t,i,o),Qt=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=gr,gr=16777216,ai(t,i,o),gr=u):ai(t,i,o));break;default:ai(t,i,o)}}function fm(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function yr(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];st=u,mm(u,t)}fm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hm(t),t=t.sibling}function hm(t){switch(t.tag){case 0:case 11:case 15:yr(t),t.flags&2048&&Gn(9,t,t.return);break;case 3:yr(t);break;case 12:yr(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Oo(t)):yr(t);break;default:yr(t)}}function Oo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];st=u,mm(u,t)}fm(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Gn(8,i,i.return),Oo(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Oo(i));break;default:Oo(i)}t=t.sibling}}function mm(t,i){for(;st!==null;){var o=st;switch(o.tag){case 0:case 11:case 15:Gn(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:er(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,st=u;else e:for(o=t;st!==null;){u=st;var g=u.sibling,v=u.return;if(im(u),u===o){st=null;break e}if(g!==null){g.return=v,st=g;break e}st=v}}}var Bx={getCacheForType:function(t){var i=ot(Ke),o=i.data.get(t);return o===void 0&&(o=t(),i.data.set(t,o)),o},cacheSignal:function(){return ot(Ke).controller.signal}},qx=typeof WeakMap=="function"?WeakMap:Map,Ce=0,je=null,ge=null,xe=0,Ne=0,Mt=null,Fn=!1,li=!1,Su=!1,Sn=0,Fe=0,zn=0,Cs=0,Cu=0,kt=0,ui=0,vr=null,bt=null,Tu=!1,Lo=0,pm=0,Bo=1/0,qo=null,$n=null,Ze=0,Jn=null,ci=null,Cn=0,Au=0,Nu=null,gm=null,xr=0,Ru=null;function It(){return(Ce&2)!==0&&xe!==0?xe&-xe:B.T!==null?Pu():Md()}function ym(){if(kt===0)if((xe&536870912)===0||be){var t=Jr;Jr<<=1,(Jr&3932160)===0&&(Jr=262144),kt=t}else kt=536870912;return t=Rt.current,t!==null&&(t.flags|=32),kt}function wt(t,i,o){(t===je&&(Ne===2||Ne===9)||t.cancelPendingCommit!==null)&&(di(t,0),Kn(t,xe,kt,!1)),qi(t,o),((Ce&2)===0||t!==je)&&(t===je&&((Ce&2)===0&&(Cs|=o),Fe===4&&Kn(t,xe,kt,!1)),an(t))}function vm(t,i,o){if((Ce&6)!==0)throw Error(r(327));var u=!o&&(i&127)===0&&(i&t.expiredLanes)===0||Bi(t,i),g=u?Gx(t,i):Mu(t,i,!0),v=u;do{if(g===0){li&&!u&&Kn(t,i,0,!1);break}else{if(o=t.current.alternate,v&&!Vx(o)){g=Mu(t,i,!1),v=!1;continue}if(g===2){if(v=i,t.errorRecoveryDisabledLanes&v)var w=0;else w=t.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;e:{var S=t;g=vr;var N=S.current.memoizedState.isDehydrated;if(N&&(di(S,w).flags|=256),w=Mu(S,w,!1),w!==2){if(Su&&!N){S.errorRecoveryDisabledLanes|=v,Cs|=v,g=4;break e}v=bt,bt=g,v!==null&&(bt===null?bt=v:bt.push.apply(bt,v))}g=w}if(v=!1,g!==2)continue}}if(g===1){di(t,0),Kn(t,i,0,!0);break}e:{switch(u=t,v=g,v){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Kn(u,i,kt,!Fn);break e;case 2:bt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(g=Lo+300-St(),10<g)){if(Kn(u,i,kt,!Fn),Yr(u,0,!0)!==0)break e;Cn=i,u.timeoutHandle=Ym(xm.bind(null,u,o,bt,qo,Tu,i,kt,Cs,ui,Fn,v,"Throttled",-0,0),g);break e}xm(u,o,bt,qo,Tu,i,kt,Cs,ui,Fn,v,null,-0,0)}}break}while(!0);an(t)}function xm(t,i,o,u,g,v,w,S,N,P,q,H,j,L){if(t.timeoutHandle=-1,H=i.subtreeFlags,H&8192||(H&16785408)===16785408){H={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cn},dm(i,v,H);var W=(v&62914560)===v?Lo-St():(v&4194048)===v?pm-St():0;if(W=C_(H,W),W!==null){Cn=v,t.cancelPendingCommit=W(Am.bind(null,t,i,v,o,u,g,w,S,N,q,H,null,j,L)),Kn(t,v,w,!P);return}}Am(t,i,v,o,u,g,w,S,N)}function Vx(t){for(var i=t;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var g=o[u],v=g.getSnapshot;g=g.value;try{if(!At(v(),g))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Kn(t,i,o,u){i&=~Cu,i&=~Cs,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var g=i;0<g;){var v=31-Tt(g),w=1<<v;u[v]=-1,g&=~w}o!==0&&Nd(t,o,i)}function Vo(){return(Ce&6)===0?(_r(0),!1):!0}function Du(){if(ge!==null){if(Ne===0)var t=ge.return;else t=ge,mn=gs=null,$l(t),ti=null,nr=0,t=ge;for(;t!==null;)Xh(t.alternate,t),t=t.return;ge=null}}function di(t,i){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,a_(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),Cn=0,Du(),je=t,ge=o=fn(t.current,null),xe=i,Ne=0,Mt=null,Fn=!1,li=Bi(t,i),Su=!1,ui=kt=Cu=Cs=zn=Fe=0,bt=vr=null,Tu=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var g=31-Tt(u),v=1<<g;i|=t[g],u&=~v}return Sn=i,ao(),o}function _m(t,i){ce=null,B.H=cr,i===ei||i===go?(i=jf(),Ne=3):i===Ul?(i=jf(),Ne=4):Ne=i===lu?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Mt=i,ge===null&&(Fe=1,Do(t,Vt(i,t.current)))}function bm(){var t=Rt.current;return t===null?!0:(xe&4194048)===xe?zt===null:(xe&62914560)===xe||(xe&536870912)!==0?t===zt:!1}function wm(){var t=B.H;return B.H=cr,t===null?cr:t}function Em(){var t=B.A;return B.A=Bx,t}function Ho(){Fe=4,Fn||(xe&4194048)!==xe&&Rt.current!==null||(li=!0),(zn&134217727)===0&&(Cs&134217727)===0||je===null||Kn(je,xe,kt,!1)}function Mu(t,i,o){var u=Ce;Ce|=2;var g=wm(),v=Em();(je!==t||xe!==i)&&(qo=null,di(t,i)),i=!1;var w=Fe;e:do try{if(Ne!==0&&ge!==null){var S=ge,N=Mt;switch(Ne){case 8:Du(),w=6;break e;case 3:case 2:case 9:case 6:Rt.current===null&&(i=!0);var P=Ne;if(Ne=0,Mt=null,fi(t,S,N,P),o&&li){w=0;break e}break;default:P=Ne,Ne=0,Mt=null,fi(t,S,N,P)}}Hx(),w=Fe;break}catch(q){_m(t,q)}while(!0);return i&&t.shellSuspendCounter++,mn=gs=null,Ce=u,B.H=g,B.A=v,ge===null&&(je=null,xe=0,ao()),w}function Hx(){for(;ge!==null;)Sm(ge)}function Gx(t,i){var o=Ce;Ce|=2;var u=wm(),g=Em();je!==t||xe!==i?(qo=null,Bo=St()+500,di(t,i)):li=Bi(t,i);e:do try{if(Ne!==0&&ge!==null){i=ge;var v=Mt;t:switch(Ne){case 1:Ne=0,Mt=null,fi(t,i,v,1);break;case 2:case 9:if(Uf(v)){Ne=0,Mt=null,Cm(i);break}i=function(){Ne!==2&&Ne!==9||je!==t||(Ne=7),an(t)},v.then(i,i);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:Uf(v)?(Ne=0,Mt=null,Cm(i)):(Ne=0,Mt=null,fi(t,i,v,7));break;case 5:var w=null;switch(ge.tag){case 26:w=ge.memoizedState;case 5:case 27:var S=ge;if(w?cp(w):S.stateNode.complete){Ne=0,Mt=null;var N=S.sibling;if(N!==null)ge=N;else{var P=S.return;P!==null?(ge=P,Go(P)):ge=null}break t}}Ne=0,Mt=null,fi(t,i,v,5);break;case 6:Ne=0,Mt=null,fi(t,i,v,6);break;case 8:Du(),Fe=6;break e;default:throw Error(r(462))}}Fx();break}catch(q){_m(t,q)}while(!0);return mn=gs=null,B.H=u,B.A=g,Ce=o,ge!==null?0:(je=null,xe=0,ao(),Fe)}function Fx(){for(;ge!==null&&!h0();)Sm(ge)}function Sm(t){var i=Kh(t.alternate,t,Sn);t.memoizedProps=t.pendingProps,i===null?Go(t):ge=i}function Cm(t){var i=t,o=i.alternate;switch(i.tag){case 15:case 0:i=Hh(o,i,i.pendingProps,i.type,void 0,xe);break;case 11:i=Hh(o,i,i.pendingProps,i.type.render,i.ref,xe);break;case 5:$l(i);default:Xh(o,i),i=ge=Ef(i,Sn),i=Kh(o,i,Sn)}t.memoizedProps=t.pendingProps,i===null?Go(t):ge=i}function fi(t,i,o,u){mn=gs=null,$l(i),ti=null,nr=0;var g=i.return;try{if(kx(t,g,i,o,xe)){Fe=1,Do(t,Vt(o,t.current)),ge=null;return}}catch(v){if(g!==null)throw ge=g,v;Fe=1,Do(t,Vt(o,t.current)),ge=null;return}i.flags&32768?(be||u===1?t=!0:li||(xe&536870912)!==0?t=!1:(Fn=t=!0,(u===2||u===9||u===3||u===6)&&(u=Rt.current,u!==null&&u.tag===13&&(u.flags|=16384))),Tm(i,t)):Go(i)}function Go(t){var i=t;do{if((i.flags&32768)!==0){Tm(i,Fn);return}t=i.return;var o=Px(i.alternate,i,Sn);if(o!==null){ge=o;return}if(i=i.sibling,i!==null){ge=i;return}ge=i=t}while(i!==null);Fe===0&&(Fe=5)}function Tm(t,i){do{var o=jx(t.alternate,t);if(o!==null){o.flags&=32767,ge=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(t=t.sibling,t!==null)){ge=t;return}ge=t=o}while(t!==null);Fe=6,ge=null}function Am(t,i,o,u,g,v,w,S,N){t.cancelPendingCommit=null;do Fo();while(Ze!==0);if((Ce&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(v=i.lanes|i.childLanes,v|=xl,E0(t,o,v,w,S,N),t===je&&(ge=je=null,xe=0),ci=i,Jn=t,Cn=o,Au=v,Nu=g,gm=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Kx(zr,function(){return km(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=B.T,B.T=null,g=K.p,K.p=2,w=Ce,Ce|=4;try{Ox(t,i,o)}finally{Ce=w,K.p=g,B.T=u}}Ze=1,Nm(),Rm(),Dm()}}function Nm(){if(Ze===1){Ze=0;var t=Jn,i=ci,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=B.T,B.T=null;var u=K.p;K.p=2;var g=Ce;Ce|=4;try{lm(i,t);var v=Gu,w=mf(t.containerInfo),S=v.focusedElem,N=v.selectionRange;if(w!==S&&S&&S.ownerDocument&&hf(S.ownerDocument.documentElement,S)){if(N!==null&&ml(S)){var P=N.start,q=N.end;if(q===void 0&&(q=P),"selectionStart"in S)S.selectionStart=P,S.selectionEnd=Math.min(q,S.value.length);else{var H=S.ownerDocument||document,j=H&&H.defaultView||window;if(j.getSelection){var L=j.getSelection(),W=S.textContent.length,re=Math.min(N.start,W),Ie=N.end===void 0?re:Math.min(N.end,W);!L.extend&&re>Ie&&(w=Ie,Ie=re,re=w);var M=ff(S,re),R=ff(S,Ie);if(M&&R&&(L.rangeCount!==1||L.anchorNode!==M.node||L.anchorOffset!==M.offset||L.focusNode!==R.node||L.focusOffset!==R.offset)){var I=H.createRange();I.setStart(M.node,M.offset),L.removeAllRanges(),re>Ie?(L.addRange(I),L.extend(R.node,R.offset)):(I.setEnd(R.node,R.offset),L.addRange(I))}}}}for(H=[],L=S;L=L.parentNode;)L.nodeType===1&&H.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<H.length;S++){var V=H[S];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}na=!!Hu,Gu=Hu=null}finally{Ce=g,K.p=u,B.T=o}}t.current=i,Ze=2}}function Rm(){if(Ze===2){Ze=0;var t=Jn,i=ci,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=B.T,B.T=null;var u=K.p;K.p=2;var g=Ce;Ce|=4;try{sm(t,i.alternate,i)}finally{Ce=g,K.p=u,B.T=o}}Ze=3}}function Dm(){if(Ze===4||Ze===3){Ze=0,m0();var t=Jn,i=ci,o=Cn,u=gm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ze=5:(Ze=0,ci=Jn=null,Mm(t,t.pendingLanes));var g=t.pendingLanes;if(g===0&&($n=null),Ya(o),i=i.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Li,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=B.T,g=K.p,K.p=2,B.T=null;try{for(var v=t.onRecoverableError,w=0;w<u.length;w++){var S=u[w];v(S.value,{componentStack:S.stack})}}finally{B.T=i,K.p=g}}(Cn&3)!==0&&Fo(),an(t),g=t.pendingLanes,(o&261930)!==0&&(g&42)!==0?t===Ru?xr++:(xr=0,Ru=t):xr=0,_r(0)}}function Mm(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,er(i)))}function Fo(){return Nm(),Rm(),Dm(),km()}function km(){if(Ze!==5)return!1;var t=Jn,i=Au;Au=0;var o=Ya(Cn),u=B.T,g=K.p;try{K.p=32>o?32:o,B.T=null,o=Nu,Nu=null;var v=Jn,w=Cn;if(Ze=0,ci=Jn=null,Cn=0,(Ce&6)!==0)throw Error(r(331));var S=Ce;if(Ce|=4,hm(v.current),cm(v,v.current,w,o),Ce=S,_r(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Li,v)}catch{}return!0}finally{K.p=g,B.T=u,Mm(t,i)}}function Im(t,i,o){i=Vt(o,i),i=au(t.stateNode,i,2),t=qn(t,i,2),t!==null&&(qi(t,2),an(t))}function Re(t,i,o){if(t.tag===3)Im(t,t,o);else for(;i!==null;){if(i.tag===3){Im(i,t,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&($n===null||!$n.has(u))){t=Vt(o,t),o=Uh(2),u=qn(i,o,2),u!==null&&(Ph(o,u,i,t),qi(u,2),an(u));break}}i=i.return}}function ku(t,i,o){var u=t.pingCache;if(u===null){u=t.pingCache=new qx;var g=new Set;u.set(i,g)}else g=u.get(i),g===void 0&&(g=new Set,u.set(i,g));g.has(o)||(Su=!0,g.add(o),t=zx.bind(null,t,i,o),i.then(t,t))}function zx(t,i,o){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,je===t&&(xe&o)===o&&(Fe===4||Fe===3&&(xe&62914560)===xe&&300>St()-Lo?(Ce&2)===0&&di(t,0):Cu|=o,ui===xe&&(ui=0)),an(t)}function Um(t,i){i===0&&(i=Ad()),t=hs(t,i),t!==null&&(qi(t,i),an(t))}function $x(t){var i=t.memoizedState,o=0;i!==null&&(o=i.retryLane),Um(t,o)}function Jx(t,i){var o=0;switch(t.tag){case 31:case 13:var u=t.stateNode,g=t.memoizedState;g!==null&&(o=g.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(i),Um(t,o)}function Kx(t,i){return za(t,i)}var zo=null,hi=null,Iu=!1,$o=!1,Uu=!1,Yn=0;function an(t){t!==hi&&t.next===null&&(hi===null?zo=hi=t:hi=hi.next=t),$o=!0,Iu||(Iu=!0,Xx())}function _r(t,i){if(!Uu&&$o){Uu=!0;do for(var o=!1,u=zo;u!==null;){if(t!==0){var g=u.pendingLanes;if(g===0)var v=0;else{var w=u.suspendedLanes,S=u.pingedLanes;v=(1<<31-Tt(42|t)+1)-1,v&=g&~(w&~S),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,Lm(u,v))}else v=xe,v=Yr(u,u===je?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||Bi(u,v)||(o=!0,Lm(u,v));u=u.next}while(o);Uu=!1}}function Yx(){Pm()}function Pm(){$o=Iu=!1;var t=0;Yn!==0&&o_()&&(t=Yn);for(var i=St(),o=null,u=zo;u!==null;){var g=u.next,v=jm(u,i);v===0?(u.next=null,o===null?zo=g:o.next=g,g===null&&(hi=o)):(o=u,(t!==0||(v&3)!==0)&&($o=!0)),u=g}Ze!==0&&Ze!==5||_r(t),Yn!==0&&(Yn=0)}function jm(t,i){for(var o=t.suspendedLanes,u=t.pingedLanes,g=t.expirationTimes,v=t.pendingLanes&-62914561;0<v;){var w=31-Tt(v),S=1<<w,N=g[w];N===-1?((S&o)===0||(S&u)!==0)&&(g[w]=w0(S,i)):N<=i&&(t.expiredLanes|=S),v&=~S}if(i=je,o=xe,o=Yr(t,t===i?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,o===0||t===i&&(Ne===2||Ne===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&$a(u),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||Bi(t,o)){if(i=o&-o,i===t.callbackPriority)return i;switch(u!==null&&$a(u),Ya(o)){case 2:case 8:o=Cd;break;case 32:o=zr;break;case 268435456:o=Td;break;default:o=zr}return u=Om.bind(null,t),o=za(o,u),t.callbackPriority=i,t.callbackNode=o,i}return u!==null&&u!==null&&$a(u),t.callbackPriority=2,t.callbackNode=null,2}function Om(t,i){if(Ze!==0&&Ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(Fo()&&t.callbackNode!==o)return null;var u=xe;return u=Yr(t,t===je?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(vm(t,u,i),jm(t,St()),t.callbackNode!=null&&t.callbackNode===o?Om.bind(null,t):null)}function Lm(t,i){if(Fo())return null;vm(t,i,!0)}function Xx(){l_(function(){(Ce&6)!==0?za(Sd,Yx):Pm()})}function Pu(){if(Yn===0){var t=Ws;t===0&&(t=$r,$r<<=1,($r&261888)===0&&($r=256)),Yn=t}return Yn}function Bm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Zr(""+t)}function qm(t,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,t.id&&o.setAttribute("form",t.id),i.parentNode.insertBefore(o,i),t=new FormData(t),o.parentNode.removeChild(o),t}function Qx(t,i,o,u,g){if(i==="submit"&&o&&o.stateNode===g){var v=Bm((g[gt]||null).action),w=u.submitter;w&&(i=(i=w[gt]||null)?Bm(i.formAction):w.getAttribute("formAction"),i!==null&&(v=i,w=null));var S=new so("action","action",null,u,g);t.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Yn!==0){var N=w?qm(g,w):new FormData(g);tu(o,{pending:!0,data:N,method:g.method,action:v},null,N)}}else typeof v=="function"&&(S.preventDefault(),N=w?qm(g,w):new FormData(g),tu(o,{pending:!0,data:N,method:g.method,action:v},v,N))},currentTarget:g}]})}}for(var ju=0;ju<vl.length;ju++){var Ou=vl[ju],Wx=Ou.toLowerCase(),Zx=Ou[0].toUpperCase()+Ou.slice(1);Xt(Wx,"on"+Zx)}Xt(yf,"onAnimationEnd"),Xt(vf,"onAnimationIteration"),Xt(xf,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(px,"onTransitionRun"),Xt(gx,"onTransitionStart"),Xt(yx,"onTransitionCancel"),Xt(_f,"onTransitionEnd"),Ls("onMouseEnter",["mouseout","mouseover"]),Ls("onMouseLeave",["mouseout","mouseover"]),Ls("onPointerEnter",["pointerout","pointerover"]),Ls("onPointerLeave",["pointerout","pointerover"]),us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),us("onBeforeInput",["compositionend","keypress","textInput","paste"]),us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(br));function Vm(t,i){i=(i&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],g=u.event;u=u.listeners;e:{var v=void 0;if(i)for(var w=u.length-1;0<=w;w--){var S=u[w],N=S.instance,P=S.currentTarget;if(S=S.listener,N!==v&&g.isPropagationStopped())break e;v=S,g.currentTarget=P;try{v(g)}catch(q){oo(q)}g.currentTarget=null,v=N}else for(w=0;w<u.length;w++){if(S=u[w],N=S.instance,P=S.currentTarget,S=S.listener,N!==v&&g.isPropagationStopped())break e;v=S,g.currentTarget=P;try{v(g)}catch(q){oo(q)}g.currentTarget=null,v=N}}}}function ye(t,i){var o=i[Xa];o===void 0&&(o=i[Xa]=new Set);var u=t+"__bubble";o.has(u)||(Hm(i,t,2,!1),o.add(u))}function Lu(t,i,o){var u=0;i&&(u|=4),Hm(o,t,u,i)}var Jo="_reactListening"+Math.random().toString(36).slice(2);function Bu(t){if(!t[Jo]){t[Jo]=!0,Ud.forEach(function(o){o!=="selectionchange"&&(e_.has(o)||Lu(o,!1,t),Lu(o,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Jo]||(i[Jo]=!0,Lu("selectionchange",!1,i))}}function Hm(t,i,o,u){switch(yp(i)){case 2:var g=N_;break;case 8:g=R_;break;default:g=ec}o=g.bind(null,i,o,t),g=void 0,!rl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),u?g!==void 0?t.addEventListener(i,o,{capture:!0,passive:g}):t.addEventListener(i,o,!0):g!==void 0?t.addEventListener(i,o,{passive:g}):t.addEventListener(i,o,!1)}function qu(t,i,o,u,g){var v=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var S=u.stateNode.containerInfo;if(S===g)break;if(w===4)for(w=u.return;w!==null;){var N=w.tag;if((N===3||N===4)&&w.stateNode.containerInfo===g)return;w=w.return}for(;S!==null;){if(w=Ps(S),w===null)return;if(N=w.tag,N===5||N===6||N===26||N===27){u=v=w;continue e}S=S.parentNode}}u=u.return}$d(function(){var P=v,q=sl(o),H=[];e:{var j=bf.get(t);if(j!==void 0){var L=so,W=t;switch(t){case"keypress":if(to(o)===0)break e;case"keydown":case"keyup":L=J0;break;case"focusin":W="focus",L=ul;break;case"focusout":W="blur",L=ul;break;case"beforeblur":case"afterblur":L=ul;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=P0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=X0;break;case yf:case vf:case xf:L=L0;break;case _f:L=W0;break;case"scroll":case"scrollend":L=I0;break;case"wheel":L=ex;break;case"copy":case"cut":case"paste":L=q0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Qd;break;case"toggle":case"beforetoggle":L=nx}var re=(i&4)!==0,Ie=!re&&(t==="scroll"||t==="scrollend"),M=re?j!==null?j+"Capture":null:j;re=[];for(var R=P,I;R!==null;){var V=R;if(I=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||I===null||M===null||(V=Gi(R,M),V!=null&&re.push(wr(R,V,I))),Ie)break;R=R.return}0<re.length&&(j=new L(j,W,null,o,q),H.push({event:j,listeners:re}))}}if((i&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",L=t==="mouseout"||t==="pointerout",j&&o!==nl&&(W=o.relatedTarget||o.fromElement)&&(Ps(W)||W[Us]))break e;if((L||j)&&(j=q.window===q?q:(j=q.ownerDocument)?j.defaultView||j.parentWindow:window,L?(W=o.relatedTarget||o.toElement,L=P,W=W?Ps(W):null,W!==null&&(Ie=l(W),re=W.tag,W!==Ie||re!==5&&re!==27&&re!==6)&&(W=null)):(L=null,W=P),L!==W)){if(re=Yd,V="onMouseLeave",M="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(re=Qd,V="onPointerLeave",M="onPointerEnter",R="pointer"),Ie=L==null?j:Hi(L),I=W==null?j:Hi(W),j=new re(V,R+"leave",L,o,q),j.target=Ie,j.relatedTarget=I,V=null,Ps(q)===P&&(re=new re(M,R+"enter",W,o,q),re.target=I,re.relatedTarget=Ie,V=re),Ie=V,L&&W)t:{for(re=t_,M=L,R=W,I=0,V=M;V;V=re(V))I++;V=0;for(var ie=R;ie;ie=re(ie))V++;for(;0<I-V;)M=re(M),I--;for(;0<V-I;)R=re(R),V--;for(;I--;){if(M===R||R!==null&&M===R.alternate){re=M;break t}M=re(M),R=re(R)}re=null}else re=null;L!==null&&Gm(H,j,L,re,!1),W!==null&&Ie!==null&&Gm(H,Ie,W,re,!0)}}e:{if(j=P?Hi(P):window,L=j.nodeName&&j.nodeName.toLowerCase(),L==="select"||L==="input"&&j.type==="file")var we=of;else if(sf(j))if(af)we=fx;else{we=cx;var ne=ux}else L=j.nodeName,!L||L.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?P&&tl(P.elementType)&&(we=of):we=dx;if(we&&(we=we(t,P))){rf(H,we,o,q);break e}ne&&ne(t,j,P),t==="focusout"&&P&&j.type==="number"&&P.memoizedProps.value!=null&&el(j,"number",j.value)}switch(ne=P?Hi(P):window,t){case"focusin":(sf(ne)||ne.contentEditable==="true")&&(Fs=ne,pl=P,Qi=null);break;case"focusout":Qi=pl=Fs=null;break;case"mousedown":gl=!0;break;case"contextmenu":case"mouseup":case"dragend":gl=!1,pf(H,o,q);break;case"selectionchange":if(mx)break;case"keydown":case"keyup":pf(H,o,q)}var fe;if(dl)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Gs?tf(t,o)&&(_e="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(_e="onCompositionStart");_e&&(Wd&&o.locale!=="ko"&&(Gs||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Gs&&(fe=Jd()):(In=q,ol="value"in In?In.value:In.textContent,Gs=!0)),ne=Ko(P,_e),0<ne.length&&(_e=new Xd(_e,t,null,o,q),H.push({event:_e,listeners:ne}),fe?_e.data=fe:(fe=nf(o),fe!==null&&(_e.data=fe)))),(fe=ix?rx(t,o):ox(t,o))&&(_e=Ko(P,"onBeforeInput"),0<_e.length&&(ne=new Xd("onBeforeInput","beforeinput",null,o,q),H.push({event:ne,listeners:_e}),ne.data=fe)),Qx(H,t,P,o,q)}Vm(H,i)})}function wr(t,i,o){return{instance:t,listener:i,currentTarget:o}}function Ko(t,i){for(var o=i+"Capture",u=[];t!==null;){var g=t,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Gi(t,o),g!=null&&u.unshift(wr(t,g,v)),g=Gi(t,i),g!=null&&u.push(wr(t,g,v))),t.tag===3)return u;t=t.return}return[]}function t_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Gm(t,i,o,u,g){for(var v=i._reactName,w=[];o!==null&&o!==u;){var S=o,N=S.alternate,P=S.stateNode;if(S=S.tag,N!==null&&N===u)break;S!==5&&S!==26&&S!==27||P===null||(N=P,g?(P=Gi(o,v),P!=null&&w.unshift(wr(o,P,N))):g||(P=Gi(o,v),P!=null&&w.push(wr(o,P,N)))),o=o.return}w.length!==0&&t.push({event:i,listeners:w})}var n_=/\r\n?/g,s_=/\u0000|\uFFFD/g;function Fm(t){return(typeof t=="string"?t:""+t).replace(n_,`
`).replace(s_,"")}function zm(t,i){return i=Fm(i),Fm(t)===i}function ke(t,i,o,u,g,v){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||qs(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&qs(t,""+u);break;case"className":Qr(t,"class",u);break;case"tabIndex":Qr(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Qr(t,o,u);break;case"style":Fd(t,u,v);break;case"data":if(i!=="object"){Qr(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){t.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=Zr(""+u),t.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(i!=="input"&&ke(t,i,"name",g.name,g,null),ke(t,i,"formEncType",g.formEncType,g,null),ke(t,i,"formMethod",g.formMethod,g,null),ke(t,i,"formTarget",g.formTarget,g,null)):(ke(t,i,"encType",g.encType,g,null),ke(t,i,"method",g.method,g,null),ke(t,i,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=Zr(""+u),t.setAttribute(o,u);break;case"onClick":u!=null&&(t.onclick=cn);break;case"onScroll":u!=null&&ye("scroll",t);break;case"onScrollEnd":u!=null&&ye("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(g.children!=null)throw Error(r(60));t.innerHTML=o}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}o=Zr(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""+u):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":u===!0?t.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,u):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(o,u):t.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(o):t.setAttribute(o,u);break;case"popover":ye("beforetoggle",t),ye("toggle",t),Xr(t,"popover",u);break;case"xlinkActuate":un(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":un(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":un(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":un(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":un(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":un(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":un(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":un(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":un(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Xr(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=M0.get(o)||o,Xr(t,o,u))}}function Vu(t,i,o,u,g,v){switch(o){case"style":Fd(t,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(g.children!=null)throw Error(r(60));t.innerHTML=o}}break;case"children":typeof u=="string"?qs(t,u):(typeof u=="number"||typeof u=="bigint")&&qs(t,""+u);break;case"onScroll":u!=null&&ye("scroll",t);break;case"onScrollEnd":u!=null&&ye("scrollend",t);break;case"onClick":u!=null&&(t.onclick=cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pd.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(g=o.endsWith("Capture"),i=o.slice(2,g?o.length-7:void 0),v=t[gt]||null,v=v!=null?v[o]:null,typeof v=="function"&&t.removeEventListener(i,v,g),typeof u=="function")){typeof v!="function"&&v!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(i,u,g);break e}o in t?t[o]=u:u===!0?t.setAttribute(o,""):Xr(t,o,u)}}}function lt(t,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",t),ye("load",t);var u=!1,g=!1,v;for(v in o)if(o.hasOwnProperty(v)){var w=o[v];if(w!=null)switch(v){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ke(t,i,v,w,o,null)}}g&&ke(t,i,"srcSet",o.srcSet,o,null),u&&ke(t,i,"src",o.src,o,null);return;case"input":ye("invalid",t);var S=v=w=g=null,N=null,P=null;for(u in o)if(o.hasOwnProperty(u)){var q=o[u];if(q!=null)switch(u){case"name":g=q;break;case"type":w=q;break;case"checked":N=q;break;case"defaultChecked":P=q;break;case"value":v=q;break;case"defaultValue":S=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:ke(t,i,u,q,o,null)}}qd(t,v,S,N,P,w,g,!1);return;case"select":ye("invalid",t),u=w=v=null;for(g in o)if(o.hasOwnProperty(g)&&(S=o[g],S!=null))switch(g){case"value":v=S;break;case"defaultValue":w=S;break;case"multiple":u=S;default:ke(t,i,g,S,o,null)}i=v,o=w,t.multiple=!!u,i!=null?Bs(t,!!u,i,!1):o!=null&&Bs(t,!!u,o,!0);return;case"textarea":ye("invalid",t),v=g=u=null;for(w in o)if(o.hasOwnProperty(w)&&(S=o[w],S!=null))switch(w){case"value":u=S;break;case"defaultValue":g=S;break;case"children":v=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:ke(t,i,w,S,o,null)}Hd(t,u,g,v);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ke(t,i,N,u,o,null)}return;case"dialog":ye("beforetoggle",t),ye("toggle",t),ye("cancel",t),ye("close",t);break;case"iframe":case"object":ye("load",t);break;case"video":case"audio":for(u=0;u<br.length;u++)ye(br[u],t);break;case"image":ye("error",t),ye("load",t);break;case"details":ye("toggle",t);break;case"embed":case"source":case"link":ye("error",t),ye("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in o)if(o.hasOwnProperty(P)&&(u=o[P],u!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ke(t,i,P,u,o,null)}return;default:if(tl(i)){for(q in o)o.hasOwnProperty(q)&&(u=o[q],u!==void 0&&Vu(t,i,q,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&ke(t,i,S,u,o,null))}function i_(t,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,w=null,S=null,N=null,P=null,q=null;for(L in o){var H=o[L];if(o.hasOwnProperty(L)&&H!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":N=H;default:u.hasOwnProperty(L)||ke(t,i,L,null,u,H)}}for(var j in u){var L=u[j];if(H=o[j],u.hasOwnProperty(j)&&(L!=null||H!=null))switch(j){case"type":v=L;break;case"name":g=L;break;case"checked":P=L;break;case"defaultChecked":q=L;break;case"value":w=L;break;case"defaultValue":S=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,i));break;default:L!==H&&ke(t,i,j,L,u,H)}}Za(t,w,S,N,P,q,v,g);return;case"select":L=w=S=j=null;for(v in o)if(N=o[v],o.hasOwnProperty(v)&&N!=null)switch(v){case"value":break;case"multiple":L=N;default:u.hasOwnProperty(v)||ke(t,i,v,null,u,N)}for(g in u)if(v=u[g],N=o[g],u.hasOwnProperty(g)&&(v!=null||N!=null))switch(g){case"value":j=v;break;case"defaultValue":S=v;break;case"multiple":w=v;default:v!==N&&ke(t,i,g,v,u,N)}i=S,o=w,u=L,j!=null?Bs(t,!!o,j,!1):!!u!=!!o&&(i!=null?Bs(t,!!o,i,!0):Bs(t,!!o,o?[]:"",!1));return;case"textarea":L=j=null;for(S in o)if(g=o[S],o.hasOwnProperty(S)&&g!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ke(t,i,S,null,u,g)}for(w in u)if(g=u[w],v=o[w],u.hasOwnProperty(w)&&(g!=null||v!=null))switch(w){case"value":j=g;break;case"defaultValue":L=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==v&&ke(t,i,w,g,u,v)}Vd(t,j,L);return;case"option":for(var W in o)if(j=o[W],o.hasOwnProperty(W)&&j!=null&&!u.hasOwnProperty(W))switch(W){case"selected":t.selected=!1;break;default:ke(t,i,W,null,u,j)}for(N in u)if(j=u[N],L=o[N],u.hasOwnProperty(N)&&j!==L&&(j!=null||L!=null))switch(N){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:ke(t,i,N,j,u,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in o)j=o[re],o.hasOwnProperty(re)&&j!=null&&!u.hasOwnProperty(re)&&ke(t,i,re,null,u,j);for(P in u)if(j=u[P],L=o[P],u.hasOwnProperty(P)&&j!==L&&(j!=null||L!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,i));break;default:ke(t,i,P,j,u,L)}return;default:if(tl(i)){for(var Ie in o)j=o[Ie],o.hasOwnProperty(Ie)&&j!==void 0&&!u.hasOwnProperty(Ie)&&Vu(t,i,Ie,void 0,u,j);for(q in u)j=u[q],L=o[q],!u.hasOwnProperty(q)||j===L||j===void 0&&L===void 0||Vu(t,i,q,j,u,L);return}}for(var M in o)j=o[M],o.hasOwnProperty(M)&&j!=null&&!u.hasOwnProperty(M)&&ke(t,i,M,null,u,j);for(H in u)j=u[H],L=o[H],!u.hasOwnProperty(H)||j===L||j==null&&L==null||ke(t,i,H,j,u,L)}function $m(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function r_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var g=o[u],v=g.transferSize,w=g.initiatorType,S=g.duration;if(v&&S&&$m(w)){for(w=0,S=g.responseEnd,u+=1;u<o.length;u++){var N=o[u],P=N.startTime;if(P>S)break;var q=N.transferSize,H=N.initiatorType;q&&$m(H)&&(N=N.responseEnd,w+=q*(N<S?1:(S-P)/(N-P)))}if(--u,i+=8*(v+w)/(g.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Hu=null,Gu=null;function Yo(t){return t.nodeType===9?t:t.ownerDocument}function Jm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Km(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Fu(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var zu=null;function o_(){var t=window.event;return t&&t.type==="popstate"?t===zu?!1:(zu=t,!0):(zu=null,!1)}var Ym=typeof setTimeout=="function"?setTimeout:void 0,a_=typeof clearTimeout=="function"?clearTimeout:void 0,Xm=typeof Promise=="function"?Promise:void 0,l_=typeof queueMicrotask=="function"?queueMicrotask:typeof Xm<"u"?function(t){return Xm.resolve(null).then(t).catch(u_)}:Ym;function u_(t){setTimeout(function(){throw t})}function Xn(t){return t==="head"}function Qm(t,i){var o=i,u=0;do{var g=o.nextSibling;if(t.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"||o==="/&"){if(u===0){t.removeChild(g),yi(i);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Er(t.ownerDocument.documentElement);else if(o==="head"){o=t.ownerDocument.head,Er(o);for(var v=o.firstChild;v;){var w=v.nextSibling,S=v.nodeName;v[Vi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&v.rel.toLowerCase()==="stylesheet"||o.removeChild(v),v=w}}else o==="body"&&Er(t.ownerDocument.body);o=g}while(o);yi(i)}function Wm(t,i){var o=t;t=0;do{var u=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(t===0)break;t--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||t++;o=u}while(o)}function $u(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":$u(o),Qa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function c_(t,i,o,u){for(;t.nodeType===1;){var g=o;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Vi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(v=t.getAttribute("rel"),v==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(v!==g.rel||t.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||t.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||t.getAttribute("title")!==(g.title==null?null:g.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(v=t.getAttribute("src"),(v!==(g.src==null?null:g.src)||t.getAttribute("type")!==(g.type==null?null:g.type)||t.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&t.getAttribute("name")===v)return t}else return t;if(t=$t(t.nextSibling),t===null)break}return null}function d_(t,i,o){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=$t(t.nextSibling),t===null))return null;return t}function Zm(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=$t(t.nextSibling),t===null))return null;return t}function Ju(t){return t.data==="$?"||t.data==="$~"}function Ku(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function f_(t,i){var o=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||o.readyState!=="loading")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function $t(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Yu=null;function ep(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"||o==="/&"){if(i===0)return $t(t.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}t=t.nextSibling}return null}function tp(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return t;i--}else o!=="/$"&&o!=="/&"||i++}t=t.previousSibling}return null}function np(t,i,o){switch(i=Yo(o),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Er(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Qa(t)}var Jt=new Map,sp=new Set;function Xo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Tn=K.d;K.d={f:h_,r:m_,D:p_,C:g_,L:y_,m:v_,X:__,S:x_,M:b_};function h_(){var t=Tn.f(),i=Vo();return t||i}function m_(t){var i=js(t);i!==null&&i.tag===5&&i.type==="form"?_h(i):Tn.r(t)}var mi=typeof document>"u"?null:document;function ip(t,i,o){var u=mi;if(u&&typeof i=="string"&&i){var g=Bt(i);g='link[rel="'+t+'"][href="'+g+'"]',typeof o=="string"&&(g+='[crossorigin="'+o+'"]'),sp.has(g)||(sp.add(g),t={rel:t,crossOrigin:o,href:i},u.querySelector(g)===null&&(i=u.createElement("link"),lt(i,"link",t),nt(i),u.head.appendChild(i)))}}function p_(t){Tn.D(t),ip("dns-prefetch",t,null)}function g_(t,i){Tn.C(t,i),ip("preconnect",t,i)}function y_(t,i,o){Tn.L(t,i,o);var u=mi;if(u&&t&&i){var g='link[rel="preload"][as="'+Bt(i)+'"]';i==="image"&&o&&o.imageSrcSet?(g+='[imagesrcset="'+Bt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(g+='[imagesizes="'+Bt(o.imageSizes)+'"]')):g+='[href="'+Bt(t)+'"]';var v=g;switch(i){case"style":v=pi(t);break;case"script":v=gi(t)}Jt.has(v)||(t=_({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:t,as:i},o),Jt.set(v,t),u.querySelector(g)!==null||i==="style"&&u.querySelector(Sr(v))||i==="script"&&u.querySelector(Cr(v))||(i=u.createElement("link"),lt(i,"link",t),nt(i),u.head.appendChild(i)))}}function v_(t,i){Tn.m(t,i);var o=mi;if(o&&t){var u=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+Bt(u)+'"][href="'+Bt(t)+'"]',v=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=gi(t)}if(!Jt.has(v)&&(t=_({rel:"modulepreload",href:t},i),Jt.set(v,t),o.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Cr(v)))return}u=o.createElement("link"),lt(u,"link",t),nt(u),o.head.appendChild(u)}}}function x_(t,i,o){Tn.S(t,i,o);var u=mi;if(u&&t){var g=Os(u).hoistableStyles,v=pi(t);i=i||"default";var w=g.get(v);if(!w){var S={loading:0,preload:null};if(w=u.querySelector(Sr(v)))S.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":i},o),(o=Jt.get(v))&&Xu(t,o);var N=w=u.createElement("link");nt(N),lt(N,"link",t),N._p=new Promise(function(P,q){N.onload=P,N.onerror=q}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Qo(w,i,u)}w={type:"stylesheet",instance:w,count:1,state:S},g.set(v,w)}}}function __(t,i){Tn.X(t,i);var o=mi;if(o&&t){var u=Os(o).hoistableScripts,g=gi(t),v=u.get(g);v||(v=o.querySelector(Cr(g)),v||(t=_({src:t,async:!0},i),(i=Jt.get(g))&&Qu(t,i),v=o.createElement("script"),nt(v),lt(v,"link",t),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function b_(t,i){Tn.M(t,i);var o=mi;if(o&&t){var u=Os(o).hoistableScripts,g=gi(t),v=u.get(g);v||(v=o.querySelector(Cr(g)),v||(t=_({src:t,async:!0,type:"module"},i),(i=Jt.get(g))&&Qu(t,i),v=o.createElement("script"),nt(v),lt(v,"link",t),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function rp(t,i,o,u){var g=(g=pe.current)?Xo(g):null;if(!g)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=pi(o.href),o=Os(g).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=pi(o.href);var v=Os(g).hoistableStyles,w=v.get(t);if(w||(g=g.ownerDocument||g,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(t,w),(v=g.querySelector(Sr(t)))&&!v._p&&(w.instance=v,w.state.loading=5),Jt.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Jt.set(t,o),v||w_(g,t,o,w.state))),i&&u===null)throw Error(r(528,""));return w}if(i&&u!==null)throw Error(r(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=gi(o),o=Os(g).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function pi(t){return'href="'+Bt(t)+'"'}function Sr(t){return'link[rel="stylesheet"]['+t+"]"}function op(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function w_(t,i,o,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),lt(i,"link",o),nt(i),t.head.appendChild(i))}function gi(t){return'[src="'+Bt(t)+'"]'}function Cr(t){return"script[async]"+t}function ap(t,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+Bt(o.href)+'"]');if(u)return i.instance=u,nt(u),u;var g=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),nt(u),lt(u,"style",g),Qo(u,o.precedence,t),i.instance=u;case"stylesheet":g=pi(o.href);var v=t.querySelector(Sr(g));if(v)return i.state.loading|=4,i.instance=v,nt(v),v;u=op(o),(g=Jt.get(g))&&Xu(u,g),v=(t.ownerDocument||t).createElement("link"),nt(v);var w=v;return w._p=new Promise(function(S,N){w.onload=S,w.onerror=N}),lt(v,"link",u),i.state.loading|=4,Qo(v,o.precedence,t),i.instance=v;case"script":return v=gi(o.src),(g=t.querySelector(Cr(v)))?(i.instance=g,nt(g),g):(u=o,(g=Jt.get(v))&&(u=_({},o),Qu(u,g)),t=t.ownerDocument||t,g=t.createElement("script"),nt(g),lt(g,"link",u),t.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Qo(u,o.precedence,t));return i.instance}function Qo(t,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,v=g,w=0;w<u.length;w++){var S=u[w];if(S.dataset.precedence===i)v=S;else if(v!==g)break}v?v.parentNode.insertBefore(t,v.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(t,i.firstChild))}function Xu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Qu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Wo=null;function lp(t,i,o){if(Wo===null){var u=new Map,g=Wo=new Map;g.set(o,u)}else g=Wo,u=g.get(o),u||(u=new Map,g.set(o,u));if(u.has(t))return u;for(u.set(t,null),o=o.getElementsByTagName(t),g=0;g<o.length;g++){var v=o[g];if(!(v[Vi]||v[it]||t==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var w=v.getAttribute(i)||"";w=t+w;var S=u.get(w);S?S.push(v):u.set(w,[v])}}return u}function up(t,i,o){t=t.ownerDocument||t,t.head.insertBefore(o,i==="title"?t.querySelector("head > title"):null)}function E_(t,i,o){if(o===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function cp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function S_(t,i,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=pi(u.href),v=i.querySelector(Sr(g));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Zo.bind(t),i.then(t,t)),o.state.loading|=4,o.instance=v,nt(v);return}v=i.ownerDocument||i,u=op(u),(g=Jt.get(g))&&Xu(u,g),v=v.createElement("link"),nt(v);var w=v;w._p=new Promise(function(S,N){w.onload=S,w.onerror=N}),lt(v,"link",u),o.instance=v}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(t.count++,o=Zo.bind(t),i.addEventListener("load",o),i.addEventListener("error",o))}}var Wu=0;function C_(t,i){return t.stylesheets&&t.count===0&&ta(t,t.stylesheets),0<t.count||0<t.imgCount?function(o){var u=setTimeout(function(){if(t.stylesheets&&ta(t,t.stylesheets),t.unsuspend){var v=t.unsuspend;t.unsuspend=null,v()}},6e4+i);0<t.imgBytes&&Wu===0&&(Wu=62500*r_());var g=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ta(t,t.stylesheets),t.unsuspend)){var v=t.unsuspend;t.unsuspend=null,v()}},(t.imgBytes>Wu?50:800)+i);return t.unsuspend=o,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Zo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ta(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ea=null;function ta(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ea=new Map,i.forEach(T_,t),ea=null,Zo.call(t))}function T_(t,i){if(!(i.state.loading&4)){var o=ea.get(t);if(o)var u=o.get(null);else{o=new Map,ea.set(t,o);for(var g=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var w=g[v];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),u=w)}u&&o.set(null,u)}g=i.instance,w=g.getAttribute("data-precedence"),v=o.get(w)||u,v===u&&o.set(null,g),o.set(w,g),this.count++,u=Zo.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),v?v.parentNode.insertBefore(g,v.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(g,t.firstChild)),i.state.loading|=4}}var Tr={$$typeof:k,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function A_(t,i,o,u,g,v,w,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ja(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ja(0),this.hiddenUpdates=Ja(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function dp(t,i,o,u,g,v,w,S,N,P,q,H){return t=new A_(t,i,o,w,N,P,q,H,S),i=1,v===!0&&(i|=24),v=Nt(3,null,null,i),t.current=v,v.stateNode=t,i=Ml(),i.refCount++,t.pooledCache=i,i.refCount++,v.memoizedState={element:u,isDehydrated:o,cache:i},Pl(v),t}function fp(t){return t?(t=Js,t):Js}function hp(t,i,o,u,g,v){g=fp(g),u.context===null?u.context=g:u.pendingContext=g,u=Bn(i),u.payload={element:o},v=v===void 0?null:v,v!==null&&(u.callback=v),o=qn(t,u,i),o!==null&&(wt(o,t,i),ir(o,t,i))}function mp(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<i?o:i}}function Zu(t,i){mp(t,i),(t=t.alternate)&&mp(t,i)}function pp(t){if(t.tag===13||t.tag===31){var i=hs(t,67108864);i!==null&&wt(i,t,67108864),Zu(t,67108864)}}function gp(t){if(t.tag===13||t.tag===31){var i=It();i=Ka(i);var o=hs(t,i);o!==null&&wt(o,t,i),Zu(t,i)}}var na=!0;function N_(t,i,o,u){var g=B.T;B.T=null;var v=K.p;try{K.p=2,ec(t,i,o,u)}finally{K.p=v,B.T=g}}function R_(t,i,o,u){var g=B.T;B.T=null;var v=K.p;try{K.p=8,ec(t,i,o,u)}finally{K.p=v,B.T=g}}function ec(t,i,o,u){if(na){var g=tc(u);if(g===null)qu(t,i,u,sa,o),vp(t,u);else if(M_(g,t,i,o,u))u.stopPropagation();else if(vp(t,u),i&4&&-1<D_.indexOf(t)){for(;g!==null;){var v=js(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var w=ls(v.pendingLanes);if(w!==0){var S=v;for(S.pendingLanes|=2,S.entangledLanes|=2;w;){var N=1<<31-Tt(w);S.entanglements[1]|=N,w&=~N}an(v),(Ce&6)===0&&(Bo=St()+500,_r(0))}}break;case 31:case 13:S=hs(v,2),S!==null&&wt(S,v,2),Vo(),Zu(v,2)}if(v=tc(u),v===null&&qu(t,i,u,sa,o),v===g)break;g=v}g!==null&&u.stopPropagation()}else qu(t,i,u,null,o)}}function tc(t){return t=sl(t),nc(t)}var sa=null;function nc(t){if(sa=null,t=Ps(t),t!==null){var i=l(t);if(i===null)t=null;else{var o=i.tag;if(o===13){if(t=c(i),t!==null)return t;t=null}else if(o===31){if(t=m(i),t!==null)return t;t=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return sa=t,null}function yp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(p0()){case Sd:return 2;case Cd:return 8;case zr:case g0:return 32;case Td:return 268435456;default:return 32}default:return 32}}var sc=!1,Qn=null,Wn=null,Zn=null,Ar=new Map,Nr=new Map,es=[],D_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vp(t,i){switch(t){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":Ar.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nr.delete(i.pointerId)}}function Rr(t,i,o,u,g,v){return t===null||t.nativeEvent!==v?(t={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:v,targetContainers:[g]},i!==null&&(i=js(i),i!==null&&pp(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),t)}function M_(t,i,o,u,g){switch(i){case"focusin":return Qn=Rr(Qn,t,i,o,u,g),!0;case"dragenter":return Wn=Rr(Wn,t,i,o,u,g),!0;case"mouseover":return Zn=Rr(Zn,t,i,o,u,g),!0;case"pointerover":var v=g.pointerId;return Ar.set(v,Rr(Ar.get(v)||null,t,i,o,u,g)),!0;case"gotpointercapture":return v=g.pointerId,Nr.set(v,Rr(Nr.get(v)||null,t,i,o,u,g)),!0}return!1}function xp(t){var i=Ps(t.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=c(o),i!==null){t.blockedOn=i,kd(t.priority,function(){gp(o)});return}}else if(i===31){if(i=m(o),i!==null){t.blockedOn=i,kd(t.priority,function(){gp(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ia(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var o=tc(t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);nl=u,o.target.dispatchEvent(u),nl=null}else return i=js(o),i!==null&&pp(i),t.blockedOn=o,!1;i.shift()}return!0}function _p(t,i,o){ia(t)&&o.delete(i)}function k_(){sc=!1,Qn!==null&&ia(Qn)&&(Qn=null),Wn!==null&&ia(Wn)&&(Wn=null),Zn!==null&&ia(Zn)&&(Zn=null),Ar.forEach(_p),Nr.forEach(_p)}function ra(t,i){t.blockedOn===i&&(t.blockedOn=null,sc||(sc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,k_)))}var oa=null;function bp(t){oa!==t&&(oa=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){oa===t&&(oa=null);for(var i=0;i<t.length;i+=3){var o=t[i],u=t[i+1],g=t[i+2];if(typeof u!="function"){if(nc(u||o)===null)continue;break}var v=js(o);v!==null&&(t.splice(i,3),i-=3,tu(v,{pending:!0,data:g,method:o.method,action:u},u,g))}}))}function yi(t){function i(N){return ra(N,t)}Qn!==null&&ra(Qn,t),Wn!==null&&ra(Wn,t),Zn!==null&&ra(Zn,t),Ar.forEach(i),Nr.forEach(i);for(var o=0;o<es.length;o++){var u=es[o];u.blockedOn===t&&(u.blockedOn=null)}for(;0<es.length&&(o=es[0],o.blockedOn===null);)xp(o),o.blockedOn===null&&es.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var g=o[u],v=o[u+1],w=g[gt]||null;if(typeof v=="function")w||bp(o);else if(w){var S=null;if(v&&v.hasAttribute("formAction")){if(g=v,w=v[gt]||null)S=w.formAction;else if(nc(g)!==null)continue}else S=w.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),bp(o)}}}function wp(){function t(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(w){return g=w})},focusReset:"manual",scroll:"manual"})}function i(){g!==null&&(g(),g=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),g!==null&&(g(),g=null)}}}function ic(t){this._internalRoot=t}aa.prototype.render=ic.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var o=i.current,u=It();hp(o,u,t,i,null,null)},aa.prototype.unmount=ic.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;hp(t.current,2,null,t,null,null),Vo(),i[Us]=null}};function aa(t){this._internalRoot=t}aa.prototype.unstable_scheduleHydration=function(t){if(t){var i=Md();t={blockedOn:null,target:t,priority:i};for(var o=0;o<es.length&&i!==0&&i<es[o].priority;o++);es.splice(o,0,t),o===0&&xp(t)}};var Ep=e.version;if(Ep!=="19.2.0")throw Error(r(527,Ep,"19.2.0"));K.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(i),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var I_={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var la=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!la.isDisabled&&la.supportsFiber)try{Li=la.inject(I_),Ct=la}catch{}}return Mr.createRoot=function(t,i){if(!a(t))throw Error(r(299));var o=!1,u="",g=Dh,v=Mh,w=kh;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),i=dp(t,1,!1,null,null,o,u,null,g,v,w,wp),t[Us]=i.current,Bu(t),new ic(i)},Mr.hydrateRoot=function(t,i,o){if(!a(t))throw Error(r(299));var u=!1,g="",v=Dh,w=Mh,S=kh,N=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(N=o.formState)),i=dp(t,1,!0,i,o??null,u,g,N,v,w,S,wp),i.context=fp(null),o=i.current,u=It(),u=Ka(u),g=Bn(u),g.callback=null,qn(o,g,u),o=u,i.current.lanes=o,qi(i,o),an(i),t[Us]=i.current,Bu(t),new aa(i)},Mr.version="19.2.0",Mr}var Ip;function z_(){if(Ip)return ac.exports;Ip=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ac.exports=F_(),ac.exports}var $_=z_();const J_=({onNavClick:n,cartCount:e,onOpenCart:s})=>{const[r,a]=$.useState(!1),[l,c]=$.useState(!1);$.useEffect(()=>{const x=()=>{a(window.scrollY>50)};return window.addEventListener("scroll",x),()=>window.removeEventListener("scroll",x)},[]);const m=(x,_)=>{c(!1),n(x,_)},y=x=>{x.preventDefault(),c(!1),s()},p=r||l?"text-[#2C2A26]":"text-[#F5F2EB]";return f.jsxs(f.Fragment,{children:[f.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-700 ease-in-out ${r||l?"bg-[#F5F2EB]/90 backdrop-blur-md py-4 shadow-sm":"bg-transparent py-8"}`,children:f.jsxs("div",{className:"max-w-[1800px] mx-auto px-8 flex items-center justify-between",children:[f.jsx("a",{href:"#",onClick:x=>{x.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}),n(x,"")},className:"z-50 relative transition-opacity duration-500 hover:opacity-80",children:f.jsx("img",{src:"/assets/logo.jpg",alt:"Bihh Logo",className:"h-16 w-16 object-cover rounded-full"})}),f.jsxs("div",{className:`hidden md:flex items-center gap-12 text-sm font-medium tracking-widest uppercase transition-colors duration-500 ${p}`,children:[f.jsx("a",{href:"#products",onClick:x=>m(x,"products"),className:"hover:opacity-60 transition-opacity",children:"Cars"}),f.jsx("a",{href:"#about",onClick:x=>m(x,"about"),className:"hover:opacity-60 transition-opacity",children:"About"}),f.jsx("a",{href:"#journal",onClick:x=>m(x,"journal"),className:"hover:opacity-60 transition-opacity",children:"Roadtrips"})]}),f.jsxs("div",{className:`flex items-center gap-6 z-50 relative transition-colors duration-500 ${p}`,children:[f.jsxs("button",{onClick:y,className:"text-sm font-medium uppercase tracking-widest hover:opacity-60 transition-opacity hidden sm:block",children:["Cart (",e,")"]}),f.jsx("button",{className:`block md:hidden focus:outline-none transition-colors duration-500 ${p}`,onClick:()=>c(!l),children:l?f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})})]})]})}),f.jsx("div",{className:`fixed inset-0 bg-[#F5F2EB] z-40 flex flex-col justify-center items-center transition-all duration-500 ease-in-out ${l?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-10 pointer-events-none"}`,children:f.jsxs("div",{className:"flex flex-col items-center space-y-8 text-xl font-serif font-medium text-[#2C2A26]",children:[f.jsx("a",{href:"#products",onClick:x=>m(x,"products"),className:"hover:opacity-60 transition-opacity",children:"Cars"}),f.jsx("a",{href:"#about",onClick:x=>m(x,"about"),className:"hover:opacity-60 transition-opacity",children:"About"}),f.jsx("a",{href:"#journal",onClick:x=>m(x,"journal"),className:"hover:opacity-60 transition-opacity",children:"Roadtrips"}),f.jsxs("button",{onClick:y,className:"hover:opacity-60 transition-opacity text-base uppercase tracking-widest font-sans mt-8",children:["Cart (",e,")"]})]})})]})};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/const K_=()=>{const n=(e,s)=>{e.preventDefault();const r=document.getElementById(s);if(r){const c=r.getBoundingClientRect().top+window.scrollY-85;window.scrollTo({top:c,behavior:"smooth"});try{window.history.pushState(null,"",`#${s}`)}catch{}}};return f.jsxs("section",{className:"relative w-full h-screen min-h-[800px] overflow-hidden bg-[#D6D1C7]",children:[f.jsxs("div",{className:"absolute inset-0 w-full h-full overflow-hidden",children:[f.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-full min-w-full min-h-full",style:{width:"max(100vw, calc(100vh * (16/9)))",height:"max(100vh, calc(100vw * (9/16)))"},children:f.jsx("iframe",{src:"https://www.youtube.com/embed/wLd3dfix2B8?autoplay=1&mute=1&loop=1&playlist=wLd3dfix2B8&controls=0&showinfo=0&rel=0&modestbranding=1&playsinline=1&iv_load_policy=3",title:"Hero background video",className:"absolute top-0 left-0 w-full h-full pointer-events-none",allow:"autoplay; encrypted-media",frameBorder:"0"})}),f.jsx("div",{className:"absolute inset-0 bg-[#433E38]/40 mix-blend-multiply"}),f.jsx("div",{className:"absolute inset-0 bg-[#313030]/20"})]}),f.jsx("div",{className:"relative z-10 h-full flex flex-col justify-center items-start text-left md:items-center md:text-center px-6",children:f.jsxs("div",{className:"animate-fade-in-up w-full md:w-auto",children:[f.jsx("span",{className:"block text-xs md:text-sm font-medium uppercase tracking-[0.2em] text-white/90 mb-6 backdrop-blur-sm bg-white/10 px-4 py-2 rounded-full mx-0 md:mx-auto w-fit",children:"Premium Kenyan Travel"}),f.jsxs("h1",{className:"text-6xl md:text-8xl lg:text-9xl font-serif font-normal text-white tracking-tight mb-8 drop-shadow-sm",children:["Move ",f.jsx("span",{className:"italic text-[#F5F2EB]",children:"different."})]}),f.jsxs("p",{className:"max-w-lg mx-0 md:mx-auto text-lg md:text-xl text-white/90 font-light leading-relaxed mb-12 text-shadow-sm",children:["From the chaos of the CBD to the silence of the Mara. ",f.jsx("br",{}),"Experience Kenya with Bihh."]}),f.jsx("a",{href:"#products",onClick:e=>n(e,"products"),className:"group relative px-10 py-4 bg-[#F5F2EB] text-[#2C2A26] rounded-full text-sm font-semibold uppercase tracking-widest hover:bg-white transition-all duration-500 overflow-hidden shadow-lg hover:shadow-xl inline-block",children:f.jsx("span",{className:"relative z-10 group-hover:text-[#2C2A26]",children:"View Collection"})})]})}),f.jsx("div",{className:"absolute bottom-12 left-1/2 -translate-x-1/2 animate-bounce text-white/50",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})]})};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Y_=({product:n,onClick:e})=>{var s;return!n||!n.name||!n.imageUrl||!n.pricePerDay?(console.error("ProductCard: Invalid product data",n),null):f.jsxs("div",{className:"group flex flex-col gap-6 cursor-pointer",onClick:()=>e(n),children:[f.jsxs("div",{className:"relative w-full aspect-[16/9] overflow-hidden bg-[#EBE7DE]",children:[f.jsx("img",{src:n.imageUrl,alt:n.name,className:"w-full h-full object-cover transition-transform duration-1000 ease-in-out group-hover:scale-110 sepia-[0.1]"}),f.jsx("div",{className:"absolute inset-0 bg-[#2C2A26]/0 group-hover:bg-[#2C2A26]/5 transition-colors duration-500 flex items-center justify-center",children:f.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-all duration-500 translate-y-4 group-hover:translate-y-0",children:f.jsx("span",{className:"bg-white/90 backdrop-blur text-[#2C2A26] px-6 py-3 rounded-full text-xs uppercase tracking-widest font-medium",children:"View Details"})})})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("h3",{className:"text-2xl font-serif font-medium text-[#2C2A26] mb-1 group-hover:opacity-70 transition-opacity",children:n.name}),f.jsx("p",{className:"text-sm font-light text-[#5D5A53] mb-3 tracking-wide",children:n.category||"Vehicle"}),f.jsxs("span",{className:"text-sm font-medium text-[#2C2A26] block",children:["KSh ",((s=n.pricePerDay)==null?void 0:s.toLocaleString())||"0"," / day"]})]})]})};var Tc=function(n,e){return Tc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(s[a]=r[a])},Tc(n,e)};function Ly(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Tc(n,e);function s(){this.constructor=n}n.prototype=e===null?Object.create(e):(s.prototype=e.prototype,new s)}var Ea=function(){return Ea=Object.assign||function(e){for(var s,r=1,a=arguments.length;r<a;r++){s=arguments[r];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e},Ea.apply(this,arguments)};function ki(n,e){var s={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(s[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(s[r[a]]=n[r[a]]);return s}function By(n,e,s,r){var a=arguments.length,l=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,s):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(n,e,s,r);else for(var m=n.length-1;m>=0;m--)(c=n[m])&&(l=(a<3?c(l):a>3?c(e,s,l):c(e,s))||l);return a>3&&l&&Object.defineProperty(e,s,l),l}function qy(n,e){return function(s,r){e(s,r,n)}}function Vy(n,e,s,r,a,l){function c(U){if(U!==void 0&&typeof U!="function")throw new TypeError("Function expected");return U}for(var m=r.kind,y=m==="getter"?"get":m==="setter"?"set":"value",p=!e&&n?r.static?n:n.prototype:null,x=e||(p?Object.getOwnPropertyDescriptor(p,r.name):{}),_,b=!1,E=s.length-1;E>=0;E--){var C={};for(var T in r)C[T]=T==="access"?{}:r[T];for(var T in r.access)C.access[T]=r.access[T];C.addInitializer=function(U){if(b)throw new TypeError("Cannot add initializers after decoration has completed");l.push(c(U||null))};var A=(0,s[E])(m==="accessor"?{get:x.get,set:x.set}:x[y],C);if(m==="accessor"){if(A===void 0)continue;if(A===null||typeof A!="object")throw new TypeError("Object expected");(_=c(A.get))&&(x.get=_),(_=c(A.set))&&(x.set=_),(_=c(A.init))&&a.unshift(_)}else(_=c(A))&&(m==="field"?a.unshift(_):x[y]=_)}p&&Object.defineProperty(p,r.name,x),b=!0}function Hy(n,e,s){for(var r=arguments.length>2,a=0;a<e.length;a++)s=r?e[a].call(n,s):e[a].call(n);return r?s:void 0}function Gy(n){return typeof n=="symbol"?n:"".concat(n)}function Fy(n,e,s){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:s?"".concat(s," ",e):e})}function zy(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function Z(n,e,s,r){function a(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function m(x){try{p(r.next(x))}catch(_){c(_)}}function y(x){try{p(r.throw(x))}catch(_){c(_)}}function p(x){x.done?l(x.value):a(x.value).then(m,y)}p((r=r.apply(n,e||[])).next())})}function $y(n,e){var s={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=m(0),c.throw=m(1),c.return=m(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function m(p){return function(x){return y([p,x])}}function y(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(s=0)),s;)try{if(r=1,a&&(l=p[0]&2?a.return:p[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,p[1])).done)return l;switch(a=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return s.label++,{value:p[1],done:!1};case 5:s.label++,a=p[1],p=[0];continue;case 7:p=s.ops.pop(),s.trys.pop();continue;default:if(l=s.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){s=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){s.label=p[1];break}if(p[0]===6&&s.label<l[1]){s.label=l[1],l=p;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(p);break}l[2]&&s.ops.pop(),s.trys.pop();continue}p=e.call(n,s)}catch(x){p=[6,x],a=0}finally{r=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var ka=Object.create?(function(n,e,s,r){r===void 0&&(r=s);var a=Object.getOwnPropertyDescriptor(e,s);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(n,r,a)}):(function(n,e,s,r){r===void 0&&(r=s),n[r]=e[s]});function Jy(n,e){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(e,s)&&ka(e,n,s)}function Sa(n){var e=typeof Symbol=="function"&&Symbol.iterator,s=e&&n[e],r=0;if(s)return s.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qc(n,e){var s=typeof Symbol=="function"&&n[Symbol.iterator];if(!s)return n;var r=s.call(n),a,l=[],c;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)l.push(a.value)}catch(m){c={error:m}}finally{try{a&&!a.done&&(s=r.return)&&s.call(r)}finally{if(c)throw c.error}}return l}function Ky(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Qc(arguments[e]));return n}function Yy(){for(var n=0,e=0,s=arguments.length;e<s;e++)n+=arguments[e].length;for(var r=Array(n),a=0,e=0;e<s;e++)for(var l=arguments[e],c=0,m=l.length;c<m;c++,a++)r[a]=l[c];return r}function Xy(n,e,s){if(s||arguments.length===2)for(var r=0,a=e.length,l;r<a;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return n.concat(l||Array.prototype.slice.call(e))}function Mi(n){return this instanceof Mi?(this.v=n,this):new Mi(n)}function Qy(n,e,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=s.apply(n,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(E){return function(C){return Promise.resolve(C).then(E,_)}}function m(E,C){r[E]&&(a[E]=function(T){return new Promise(function(A,U){l.push([E,T,A,U])>1||y(E,T)})},C&&(a[E]=C(a[E])))}function y(E,C){try{p(r[E](C))}catch(T){b(l[0][3],T)}}function p(E){E.value instanceof Mi?Promise.resolve(E.value.v).then(x,_):b(l[0][2],E)}function x(E){y("next",E)}function _(E){y("throw",E)}function b(E,C){E(C),l.shift(),l.length&&y(l[0][0],l[0][1])}}function Wy(n){var e,s;return e={},r("next"),r("throw",function(a){throw a}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(a,l){e[a]=n[a]?function(c){return(s=!s)?{value:Mi(n[a](c)),done:!1}:l?l(c):c}:l}}function Zy(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],s;return e?e.call(n):(n=typeof Sa=="function"?Sa(n):n[Symbol.iterator](),s={},r("next"),r("throw"),r("return"),s[Symbol.asyncIterator]=function(){return this},s);function r(l){s[l]=n[l]&&function(c){return new Promise(function(m,y){c=n[l](c),a(m,y,c.done,c.value)})}}function a(l,c,m,y){Promise.resolve(y).then(function(p){l({value:p,done:m})},c)}}function ev(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var X_=Object.create?(function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}):function(n,e){n.default=e},Ac=function(n){return Ac=Object.getOwnPropertyNames||function(e){var s=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s[s.length]=r);return s},Ac(n)};function tv(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var s=Ac(n),r=0;r<s.length;r++)s[r]!=="default"&&ka(e,n,s[r]);return X_(e,n),e}function nv(n){return n&&n.__esModule?n:{default:n}}function sv(n,e,s,r){if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?r:s==="a"?r.call(n):r?r.value:e.get(n)}function iv(n,e,s,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!a:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(n,s):a?a.value=s:e.set(n,s),s}function rv(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function ov(n,e,s){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,a;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],s&&(a=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");a&&(r=function(){try{a.call(this)}catch(l){return Promise.reject(l)}}),n.stack.push({value:e,dispose:r,async:s})}else s&&n.stack.push({async:!0});return e}var Q_=typeof SuppressedError=="function"?SuppressedError:function(n,e,s){var r=new Error(s);return r.name="SuppressedError",r.error=n,r.suppressed=e,r};function av(n){function e(l){n.error=n.hasError?new Q_(l,n.error,"An error was suppressed during disposal."):l,n.hasError=!0}var s,r=0;function a(){for(;s=n.stack.pop();)try{if(!s.async&&r===1)return r=0,n.stack.push(s),Promise.resolve().then(a);if(s.dispose){var l=s.dispose.call(s.value);if(s.async)return r|=2,Promise.resolve(l).then(a,function(c){return e(c),a()})}else r|=1}catch(c){e(c)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return a()}function lv(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,r,a,l,c){return r?e?".jsx":".js":a&&(!l||!c)?s:a+l+"."+c.toLowerCase()+"js"}):n}const W_={__extends:Ly,__assign:Ea,__rest:ki,__decorate:By,__param:qy,__esDecorate:Vy,__runInitializers:Hy,__propKey:Gy,__setFunctionName:Fy,__metadata:zy,__awaiter:Z,__generator:$y,__createBinding:ka,__exportStar:Jy,__values:Sa,__read:Qc,__spread:Ky,__spreadArrays:Yy,__spreadArray:Xy,__await:Mi,__asyncGenerator:Qy,__asyncDelegator:Wy,__asyncValues:Zy,__makeTemplateObject:ev,__importStar:tv,__importDefault:nv,__classPrivateFieldGet:sv,__classPrivateFieldSet:iv,__classPrivateFieldIn:rv,__addDisposableResource:ov,__disposeResources:av,__rewriteRelativeImportExtension:lv},Z_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ov,get __assign(){return Ea},__asyncDelegator:Wy,__asyncGenerator:Qy,__asyncValues:Zy,__await:Mi,__awaiter:Z,__classPrivateFieldGet:sv,__classPrivateFieldIn:rv,__classPrivateFieldSet:iv,__createBinding:ka,__decorate:By,__disposeResources:av,__esDecorate:Vy,__exportStar:Jy,__extends:Ly,__generator:$y,__importDefault:nv,__importStar:tv,__makeTemplateObject:ev,__metadata:zy,__param:qy,__propKey:Gy,__read:Qc,__rest:ki,__rewriteRelativeImportExtension:lv,__runInitializers:Hy,__setFunctionName:Fy,__spread:Ky,__spreadArray:Xy,__spreadArrays:Yy,__values:Sa,default:W_},Symbol.toStringTag,{value:"Module"})),eb=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class Wc extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class tb extends Wc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Up extends Wc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Pp extends Wc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Nc;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Nc||(Nc={}));class nb{constructor(e,{headers:s={},customFetch:r,region:a=Nc.Any}={}){this.url=e,this.headers=s,this.region=a,this.fetch=eb(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Z(this,arguments,void 0,function*(s,r={}){var a;let l,c;try{const{headers:m,method:y,body:p,signal:x,timeout:_}=r;let b={},{region:E}=r;E||(E=this.region);const C=new URL(`${this.url}/${s}`);E&&E!=="any"&&(b["x-region"]=E,C.searchParams.set("forceFunctionRegion",E));let T;p&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",T=p):typeof p=="string"?(b["Content-Type"]="text/plain",T=p):typeof FormData<"u"&&p instanceof FormData?T=p:(b["Content-Type"]="application/json",T=JSON.stringify(p)):T=p;let A=x;_&&(c=new AbortController,l=setTimeout(()=>c.abort(),_),x?(A=c.signal,x.addEventListener("abort",()=>c.abort())):A=c.signal);const U=yield this.fetch(C.toString(),{method:y||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),m),body:T,signal:A}).catch(Y=>{throw new tb(Y)}),O=U.headers.get("x-relay-error");if(O&&O==="true")throw new Up(U);if(!U.ok)throw new Pp(U);let k=((a=U.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),F;return k==="application/json"?F=yield U.json():k==="application/octet-stream"||k==="application/pdf"?F=yield U.blob():k==="text/event-stream"?F=U:k==="multipart/form-data"?F=yield U.formData():F=yield U.text(),{data:F,error:null,response:U}}catch(m){return{data:null,error:m,response:m instanceof Pp||m instanceof Up?m.context:void 0}}finally{l&&clearTimeout(l)}})}}var dt={};const Ii=j_(Z_);var ua={},ca={},da={},fa={},ha={},ma={},jp;function uv(){if(jp)return ma;jp=1,Object.defineProperty(ma,"__esModule",{value:!0});class n extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return ma.default=n,ma}var Op;function cv(){if(Op)return ha;Op=1,Object.defineProperty(ha,"__esModule",{value:!0});const e=Ii.__importDefault(uv());class s{constructor(a){var l,c;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(l=a.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=a.signal,this.isMaybeSingle=(c=a.isMaybeSingle)!==null&&c!==void 0?c:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=new Headers(this.headers),this.headers.set(a,l),this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let m=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var p,x,_,b;let E=null,C=null,T=null,A=y.status,U=y.statusText;if(y.ok){if(this.method!=="HEAD"){const Y=await y.text();Y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?C=Y:C=JSON.parse(Y))}const k=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),F=(_=y.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");k&&F&&F.length>1&&(T=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(E={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,T=null,A=406,U="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const k=await y.text();try{E=JSON.parse(k),Array.isArray(E)&&y.status===404&&(C=[],E=null,A=200,U="OK")}catch{y.status===404&&k===""?(A=204,U="No Content"):E={message:k}}if(E&&this.isMaybeSingle&&(!((b=E==null?void 0:E.details)===null||b===void 0)&&b.includes("0 rows"))&&(E=null,A=200,U="OK"),E&&this.shouldThrowOnError)throw new e.default(E)}return{error:E,data:C,count:T,status:A,statusText:U}});return this.shouldThrowOnError||(m=m.catch(y=>{var p,x,_,b,E,C;let T="";const A=y==null?void 0:y.cause;if(A){const U=(p=A==null?void 0:A.message)!==null&&p!==void 0?p:"",O=(x=A==null?void 0:A.code)!==null&&x!==void 0?x:"";T=`${(_=y==null?void 0:y.name)!==null&&_!==void 0?_:"FetchError"}: ${y==null?void 0:y.message}`,T+=`

Caused by: ${(b=A==null?void 0:A.name)!==null&&b!==void 0?b:"Error"}: ${U}`,O&&(T+=` (${O})`),A!=null&&A.stack&&(T+=`
${A.stack}`)}else T=(E=y==null?void 0:y.stack)!==null&&E!==void 0?E:"";return{error:{message:`${(C=y==null?void 0:y.name)!==null&&C!==void 0?C:"FetchError"}: ${y==null?void 0:y.message}`,details:T,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),m.then(a,l)}returns(){return this}overrideTypes(){return this}}return ha.default=s,ha}var Lp;function dv(){if(Lp)return fa;Lp=1,Object.defineProperty(fa,"__esModule",{value:!0});const e=Ii.__importDefault(cv());class s extends e.default{select(a){let l=!1;const c=(a??"*").split("").map(m=>/\s/.test(m)&&!l?"":(m==='"'&&(l=!l),m)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:l=!0,nullsFirst:c,foreignTable:m,referencedTable:y=m}={}){const p=y?`${y}.order`:"order",x=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${x?`${x},`:""}${a}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:c=l}={}){const m=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(m,`${a}`),this}range(a,l,{foreignTable:c,referencedTable:m=c}={}){const y=typeof m>"u"?"offset":`${m}.offset`,p=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(y,`${a}`),this.url.searchParams.set(p,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:l=!1,settings:c=!1,buffers:m=!1,wal:y=!1,format:p="text"}={}){var x;const _=[a?"analyze":null,l?"verbose":null,c?"settings":null,m?"buffers":null,y?"wal":null].filter(Boolean).join("|"),b=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${b}"; options=${_};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return fa.default=s,fa}var Bp;function Zc(){if(Bp)return da;Bp=1,Object.defineProperty(da,"__esModule",{value:!0});const e=Ii.__importDefault(dv()),s=new RegExp("[,()]");class r extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}regexMatch(l,c){return this.url.searchParams.append(l,`match.${c}`),this}regexIMatch(l,c){return this.url.searchParams.append(l,`imatch.${c}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}isDistinct(l,c){return this.url.searchParams.append(l,`isdistinct.${c}`),this}in(l,c){const m=Array.from(new Set(c)).map(y=>typeof y=="string"&&s.test(y)?`"${y}"`:`${y}`).join(",");return this.url.searchParams.append(l,`in.(${m})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:m,type:y}={}){let p="";y==="plain"?p="pl":y==="phrase"?p="ph":y==="websearch"&&(p="w");const x=m===void 0?"":`(${m})`;return this.url.searchParams.append(l,`${p}fts${x}.${c}`),this}match(l){return Object.entries(l).forEach(([c,m])=>{this.url.searchParams.append(c,`eq.${m}`)}),this}not(l,c,m){return this.url.searchParams.append(l,`not.${c}.${m}`),this}or(l,{foreignTable:c,referencedTable:m=c}={}){const y=m?`${m}.or`:"or";return this.url.searchParams.append(y,`(${l})`),this}filter(l,c,m){return this.url.searchParams.append(l,`${c}.${m}`),this}}return da.default=r,da}var qp;function fv(){if(qp)return ca;qp=1,Object.defineProperty(ca,"__esModule",{value:!0});const e=Ii.__importDefault(Zc());class s{constructor(a,{headers:l={},schema:c,fetch:m}){this.url=a,this.headers=new Headers(l),this.schema=c,this.fetch=m}select(a,l){const{head:c=!1,count:m}=l??{},y=c?"HEAD":"GET";let p=!1;const x=(a??"*").split("").map(_=>/\s/.test(_)&&!p?"":(_==='"'&&(p=!p),_)).join("");return this.url.searchParams.set("select",x),m&&this.headers.append("Prefer",`count=${m}`),new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:l,defaultToNull:c=!0}={}){var m;const y="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const p=a.reduce((x,_)=>x.concat(Object.keys(_)),[]);if(p.length>0){const x=[...new Set(p)].map(_=>`"${_}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(a,{onConflict:l,ignoreDuplicates:c=!1,count:m,defaultToNull:y=!0}={}){var p;const x="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),m&&this.headers.append("Prefer",`count=${m}`),y||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const _=a.reduce((b,E)=>b.concat(Object.keys(E)),[]);if(_.length>0){const b=[...new Set(_)].map(E=>`"${E}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(a,{count:l}={}){var c;const m="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:a}={}){var l;const c="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return ca.default=s,ca}var Vp;function sb(){if(Vp)return ua;Vp=1,Object.defineProperty(ua,"__esModule",{value:!0});const n=Ii,e=n.__importDefault(fv()),s=n.__importDefault(Zc());class r{constructor(l,{headers:c={},schema:m,fetch:y}={}){this.url=l,this.headers=new Headers(c),this.schemaName=m,this.fetch=y}from(l){if(!l||typeof l!="string"||l.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new r(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:m=!1,get:y=!1,count:p}={}){var x;let _;const b=new URL(`${this.url}/rpc/${l}`);let E;m||y?(_=m?"HEAD":"GET",Object.entries(c).filter(([T,A])=>A!==void 0).map(([T,A])=>[T,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([T,A])=>{b.searchParams.append(T,A)})):(_="POST",E=c);const C=new Headers(this.headers);return p&&C.set("Prefer",`count=${p}`),new s.default({method:_,url:b,headers:C,schema:this.schemaName,body:E,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}}return ua.default=r,ua}var Hp;function ib(){if(Hp)return dt;Hp=1,Object.defineProperty(dt,"__esModule",{value:!0}),dt.PostgrestError=dt.PostgrestBuilder=dt.PostgrestTransformBuilder=dt.PostgrestFilterBuilder=dt.PostgrestQueryBuilder=dt.PostgrestClient=void 0;const n=Ii,e=n.__importDefault(sb());dt.PostgrestClient=e.default;const s=n.__importDefault(fv());dt.PostgrestQueryBuilder=s.default;const r=n.__importDefault(Zc());dt.PostgrestFilterBuilder=r.default;const a=n.__importDefault(dv());dt.PostgrestTransformBuilder=a.default;const l=n.__importDefault(cv());dt.PostgrestBuilder=l.default;const c=n.__importDefault(uv());return dt.PostgrestError=c.default,dt.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:c.default},dt}var hv=ib();const mv=Oy(hv),rb=P_({__proto__:null,default:mv},[hv]),{PostgrestClient:ob,PostgrestQueryBuilder:LR,PostgrestFilterBuilder:BR,PostgrestTransformBuilder:qR,PostgrestBuilder:VR,PostgrestError:HR}=mv||rb;class ab{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const r=s.node,a=parseInt(r.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const r=this.getWebSocketConstructor();return new r(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const lb="2.86.0",ub=`realtime-js/${lb}`,pv="1.0.0",cb="2.0.0",Gp=pv,Rc=1e4,db=1e3,fb=100;var Rs;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Rs||(Rs={}));var et;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(et||(et={}));var tn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(tn||(tn={}));var Dc;(function(n){n.websocket="websocket"})(Dc||(Dc={}));var Ds;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ds||(Ds={}));class hb{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,s){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return s(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var s;return this._isArrayBuffer((s=e.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var s,r;const a=(r=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var s,r;const a=(r=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,s,r){var a,l;const c=e.topic,m=(a=e.ref)!==null&&a!==void 0?a:"",y=(l=e.join_ref)!==null&&l!==void 0?l:"",p=e.payload.event,x=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},_=Object.keys(x).length===0?"":JSON.stringify(x);if(y.length>255)throw new Error(`joinRef length ${y.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+y.length+m.length+c.length+p.length+_.length,E=new ArrayBuffer(this.HEADER_LENGTH+b);let C=new DataView(E),T=0;C.setUint8(T++,this.KINDS.userBroadcastPush),C.setUint8(T++,y.length),C.setUint8(T++,m.length),C.setUint8(T++,c.length),C.setUint8(T++,p.length),C.setUint8(T++,_.length),C.setUint8(T++,s),Array.from(y,U=>C.setUint8(T++,U.charCodeAt(0))),Array.from(m,U=>C.setUint8(T++,U.charCodeAt(0))),Array.from(c,U=>C.setUint8(T++,U.charCodeAt(0))),Array.from(p,U=>C.setUint8(T++,U.charCodeAt(0))),Array.from(_,U=>C.setUint8(T++,U.charCodeAt(0)));var A=new Uint8Array(E.byteLength+r.byteLength);return A.set(new Uint8Array(E),0),A.set(new Uint8Array(r),E.byteLength),A.buffer}decode(e,s){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return s(r)}if(typeof e=="string"){const r=JSON.parse(e),[a,l,c,m,y]=r;return s({join_ref:a,ref:l,topic:c,event:m,payload:y})}return s({})}_binaryDecode(e){const s=new DataView(e),r=s.getUint8(0),a=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,s,a)}}_decodeUserBroadcast(e,s,r){const a=s.getUint8(1),l=s.getUint8(2),c=s.getUint8(3),m=s.getUint8(4);let y=this.HEADER_LENGTH+4;const p=r.decode(e.slice(y,y+a));y=y+a;const x=r.decode(e.slice(y,y+l));y=y+l;const _=r.decode(e.slice(y,y+c));y=y+c;const b=e.slice(y,e.byteLength),E=m===this.JSON_ENCODING?JSON.parse(r.decode(b)):b,C={type:this.BROADCAST_EVENT,event:x,payload:E};return c>0&&(C.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(e){var s;return e instanceof ArrayBuffer||((s=e==null?void 0:e.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(e,s){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>s.includes(r)))}}class gv{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Oe||(Oe={}));const Fp=(n,e,s={})=>{var r;const a=(r=s.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=mb(c,n,e,a),l),{}):{}},mb=(n,e,s,r)=>{const a=e.find(m=>m.name===n),l=a==null?void 0:a.type,c=s[n];return l&&!r.includes(l)?yv(l,c):Mc(c)},yv=(n,e)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return vb(e,s)}switch(n){case Oe.bool:return pb(e);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return gb(e);case Oe.json:case Oe.jsonb:return yb(e);case Oe.timestamp:return xb(e);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return Mc(e);default:return Mc(e)}},Mc=n=>n,pb=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},gb=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},yb=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},vb=(n,e)=>{if(typeof n!="string")return n;const s=n.length-1,r=n[s];if(n[0]==="{"&&r==="}"){let l;const c=n.slice(1,s);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(m=>yv(e,m))}return n},xb=n=>typeof n=="string"?n.replace(" ","T"):n,vv=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class dc{constructor(e,s,r={},a=Rc){this.channel=e,this.event=s,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var zp;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(zp||(zp={}));class Pr{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:l,onLeave:c,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pr.syncState(this.state,a,l,c),this.pendingDiffs.forEach(y=>{this.state=Pr.syncDiff(this.state,y,l,c)}),this.pendingDiffs=[],m()}),this.channel._on(r.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Pr.syncDiff(this.state,a,l,c),m())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,a){const l=this.cloneDeep(e),c=this.transformState(s),m={},y={};return this.map(l,(p,x)=>{c[p]||(y[p]=x)}),this.map(c,(p,x)=>{const _=l[p];if(_){const b=x.map(A=>A.presence_ref),E=_.map(A=>A.presence_ref),C=x.filter(A=>E.indexOf(A.presence_ref)<0),T=_.filter(A=>b.indexOf(A.presence_ref)<0);C.length>0&&(m[p]=C),T.length>0&&(y[p]=T)}else m[p]=x}),this.syncDiff(l,{joins:m,leaves:y},r,a)}static syncDiff(e,s,r,a){const{joins:l,leaves:c}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(l,(m,y)=>{var p;const x=(p=e[m])!==null&&p!==void 0?p:[];if(e[m]=this.cloneDeep(y),x.length>0){const _=e[m].map(E=>E.presence_ref),b=x.filter(E=>_.indexOf(E.presence_ref)<0);e[m].unshift(...b)}r(m,x,y)}),this.map(c,(m,y)=>{let p=e[m];if(!p)return;const x=y.map(_=>_.presence_ref);p=p.filter(_=>x.indexOf(_.presence_ref)<0),e[m]=p,a(m,p,y),p.length===0&&delete e[m]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const a=e[r];return"metas"in a?s[r]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):s[r]=a,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $p;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})($p||($p={}));var jr;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(jr||(jr={}));var An;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(An||(An={}));class ed{constructor(e,s={config:{}},r){var a,l;if(this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new dc(this,tn.join,this.params,this.timeout),this.rejoinTimer=new gv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tn.reply,{},(c,m)=>{this._trigger(this._replyEventName(m),c)}),this.presence=new Pr(this),this.broadcastEndpointURL=vv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var r,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==et.closed){const{config:{broadcast:c,presence:m,private:y}}=this.params,p=(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(E=>E.filter))!==null&&a!==void 0?a:[],x=!!this.bindings[jr.PRESENCE]&&this.bindings[jr.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,_={},b={broadcast:c,presence:Object.assign(Object.assign({},m),{enabled:x}),postgres_changes:p,private:y};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(E=>e==null?void 0:e(An.CHANNEL_ERROR,E)),this._onClose(()=>e==null?void 0:e(An.CLOSED)),this.updateJoinPayload(Object.assign({config:b},_)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:E})=>{var C;if(this.socket.setAuth(),E===void 0){e==null||e(An.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,A=(C=T==null?void 0:T.length)!==null&&C!==void 0?C:0,U=[];for(let O=0;O<A;O++){const k=T[O],{filter:{event:F,schema:Y,table:J,filter:z}}=k,de=E&&E[O];if(de&&de.event===F&&de.schema===Y&&de.table===J&&de.filter===z)U.push(Object.assign(Object.assign({},k),{id:de.id}));else{this.unsubscribe(),this.state=et.errored,e==null||e(An.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=U,e&&e(An.SUBSCRIBED);return}}).receive("error",E=>{this.state=et.errored,e==null||e(An.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(An.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this.state===et.joined&&e===jr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,r)}async httpSend(e,s,r={}){var a;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:s,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);if(m.status===202)return{success:!0};let y=m.statusText;try{const p=await m.json();y=p.error||p.message||y}catch{}return Promise.reject(new Error(y))}async send(e,s={}){var r,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,y={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=p.body)===null||a===void 0?void 0:a.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,m,y;const p=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((y=(m=(c=this.params)===null||c===void 0?void 0:c.config)===null||m===void 0?void 0:m.broadcast)===null||y===void 0)&&y.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=et.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new dc(this,tn.leave,{},e),r.receive("ok",()=>{s(),a("ok")}).receive("timeout",()=>{s(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=et.closed,this.bindings={}}async _fetchWithTimeout(e,s,r){const a=new AbortController,l=setTimeout(()=>a.abort(),r),c=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:a.signal}));return clearTimeout(l),c}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new dc(this,e,s,r);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>fb){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var a,l;const c=e.toLocaleLowerCase(),{close:m,error:y,leave:p,join:x}=tn;if(r&&[m,y,p,x].indexOf(c)>=0&&r!==this._joinRef())return;let b=this._onMessage(c,s,r);if(s&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(E=>{var C,T,A;return((C=E.filter)===null||C===void 0?void 0:C.event)==="*"||((A=(T=E.filter)===null||T===void 0?void 0:T.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===c}).map(E=>E.callback(b,r)):(l=this.bindings[c])===null||l===void 0||l.filter(E=>{var C,T,A,U,O,k;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in E){const F=E.id,Y=(C=E.filter)===null||C===void 0?void 0:C.event;return F&&((T=s.ids)===null||T===void 0?void 0:T.includes(F))&&(Y==="*"||(Y==null?void 0:Y.toLocaleLowerCase())===((A=s.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const F=(O=(U=E==null?void 0:E.filter)===null||U===void 0?void 0:U.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return F==="*"||F===((k=s==null?void 0:s.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===c}).map(E=>{if(typeof b=="object"&&"ids"in b){const C=b.data,{schema:T,table:A,commit_timestamp:U,type:O,errors:k}=C;b=Object.assign(Object.assign({},{schema:T,table:A,commit_timestamp:U,eventType:O,new:{},old:{},errors:k}),this._getPayloadRecords(C))}E.callback(b,r)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const a=e.toLocaleLowerCase(),l={type:a,filter:s,callback:r};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===r&&ed.isEqual(a.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(tn.close,{},e)}_onError(e){this._on(tn.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Fp(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Fp(e.columns,e.old_record)),s}}const fc=()=>{},pa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_b=[1e3,2e3,5e3,1e4],bb=1e4,wb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Eb{constructor(e,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Rc,this.transport=null,this.heartbeatIntervalMs=pa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fc,this.ref=0,this.reconnectTimer=null,this.vsn=Gp,this.logger=fc,this.conn=null,this.sendBuffer=[],this.serializer=new hb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${Dc.websocket}`,this.httpEndpoint=vv(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ab.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Rs.connecting:return Ds.Connecting;case Rs.open:return Ds.Open;case Rs.closing:return Ds.Closing;default:return Ds.Closed}}isConnected(){return this.connectionState()===Ds.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const r=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===r);if(a)return a;{const l=new ed(`realtime:${e}`,s,this);return this.channels.push(l),l}}push(e){const{topic:s,event:r,payload:a,ref:l}=e,c=()=>{this.encode(e,m=>{var y;(y=this.conn)===null||y===void 0||y.send(m)})};this.log("push",`${s} ${r} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(db,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},pa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:a,payload:l,ref:c}=s,m=c?`(${c})`:"",y=l.status||"";this.log("receive",`${y} ${r} ${a} ${m}`.trim(),l),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(a,l,c)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Rs.open||this.conn.readyState===Rs.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(tn.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",a=new URLSearchParams(s);return`${e}${r}${a}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([wb],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const a={access_token:s,version:ub};s&&r.updateJoinPayload(a),r.joinedOnce&&r._isJoined()&&r._push(tn.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(s)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new gv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},pa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,r,a,l,c,m,y,p,x,_,b,E;switch(this.transport=(s=e==null?void 0:e.transport)!==null&&s!==void 0?s:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Rc,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:pa.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(m=e==null?void 0:e.heartbeatCallback)!==null&&m!==void 0?m:fc,this.vsn=(y=e==null?void 0:e.vsn)!==null&&y!==void 0?y:Gp,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:(C=>_b[C-1]||bb),this.vsn){case pv:this.encode=(x=e==null?void 0:e.encode)!==null&&x!==void 0?x:((C,T)=>T(JSON.stringify(C))),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:((C,T)=>T(JSON.parse(C)));break;case cb:this.encode=(b=e==null?void 0:e.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(E=e==null?void 0:e.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Ia extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function He(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Sb extends Ia{constructor(e,s,r){super(e),this.name="StorageApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class kc extends Ia{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}const td=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Cb=()=>Response,Ic=n=>{if(Array.isArray(n))return n.map(s=>Ic(s));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([s,r])=>{const a=s.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=Ic(r)}),e},Tb=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Ab=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n),hc=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},Nb=(n,e,s)=>Z(void 0,void 0,void 0,function*(){const r=yield Cb();n instanceof r&&!(s!=null&&s.noResolveJson)?n.json().then(a=>{const l=n.status||500,c=(a==null?void 0:a.statusCode)||l+"";e(new Sb(hc(a),l,c))}).catch(a=>{e(new kc(hc(a),a))}):e(new kc(hc(n),n))}),Rb=(n,e,s,r)=>{const a={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!r?a:(Tb(r)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(r)):a.body=r,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),s))};function Gr(n,e,s,r,a,l){return Z(this,void 0,void 0,function*(){return new Promise((c,m)=>{n(s,Rb(e,r,a,l)).then(y=>{if(!y.ok)throw y;return r!=null&&r.noResolveJson?y:y.json()}).then(y=>c(y)).catch(y=>Nb(y,m,r))})})}function Lr(n,e,s,r){return Z(this,void 0,void 0,function*(){return Gr(n,"GET",e,s,r)})}function en(n,e,s,r,a){return Z(this,void 0,void 0,function*(){return Gr(n,"POST",e,r,a,s)})}function Uc(n,e,s,r,a){return Z(this,void 0,void 0,function*(){return Gr(n,"PUT",e,r,a,s)})}function Db(n,e,s,r){return Z(this,void 0,void 0,function*(){return Gr(n,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function nd(n,e,s,r,a){return Z(this,void 0,void 0,function*(){return Gr(n,"DELETE",e,r,a,s)})}class Mb{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}then(e,s){return this.execute().then(e,s)}execute(){return Z(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(He(e))return{data:null,error:e};throw e}})}}var xv;class kb{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s,this[xv]="BlobDownloadBuilder",this.promise=null}asStream(){return new Mb(this.downloadFn,this.shouldThrowOnError)}then(e,s){return this.getPromise().then(e,s)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Z(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(He(e))return{data:null,error:e};throw e}})}}xv=Symbol.toStringTag;const Ib={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ub{constructor(e,s={},r,a){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=r,this.fetch=td(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,r,a){return Z(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},Jp),a);let m=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const y=c.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),y&&l.append("metadata",this.encodeMetadata(y)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),y&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(y))):(l=r,m["cache-control"]=`max-age=${c.cacheControl}`,m["content-type"]=c.contentType,y&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(y))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),a!=null&&a.headers&&(m=Object.assign(Object.assign({},m),a.headers));const p=this._removeEmptyFolders(s),x=this._getFinalPath(p),_=yield(e=="PUT"?Uc:en)(this.fetch,`${this.url}/object/${x}`,l,Object.assign({headers:m},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:_.Id,fullPath:_.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(He(l))return{data:null,error:l};throw l}})}upload(e,s,r){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,a){return Z(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),m=new URL(this.url+`/object/upload/sign/${c}`);m.searchParams.set("token",s);try{let y;const p=Object.assign({upsert:Jp.upsert},a),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(y=new FormData,y.append("cacheControl",p.cacheControl),y.append("",r)):typeof FormData<"u"&&r instanceof FormData?(y=r,y.append("cacheControl",p.cacheControl)):(y=r,x["cache-control"]=`max-age=${p.cacheControl}`,x["content-type"]=p.contentType);const _=yield Uc(this.fetch,m.toString(),y,{headers:x});return{data:{path:l,fullPath:_.Key},error:null}}catch(y){if(this.shouldThrowOnError)throw y;if(He(y))return{data:null,error:y};throw y}})}createSignedUploadUrl(e,s){return Z(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const a=Object.assign({},this.headers);s!=null&&s.upsert&&(a["x-upsert"]="true");const l=yield en(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),c=new URL(this.url+l.url),m=c.searchParams.get("token");if(!m)throw new Ia("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:m},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}update(e,s,r){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return Z(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}copy(e,s,r){return Z(this,void 0,void 0,function*(){try{return{data:{path:(yield en(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}createSignedUrl(e,s,r){return Z(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield en(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}createSignedUrls(e,s,r){return Z(this,void 0,void 0,function*(){try{const a=yield en(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}download(e,s){const a=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),c=l?`?${l}`:"",m=this._getFinalPath(e),y=()=>Lr(this.fetch,`${this.url}/${a}/${m}${c}`,{headers:this.headers,noResolveJson:!0});return new kb(y,this.shouldThrowOnError)}info(e){return Z(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield Lr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Ic(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}exists(e){return Z(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Db(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r)&&r instanceof kc){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),a=[],l=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";l!==""&&a.push(l);const m=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",y=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});y!==""&&a.push(y);let p=a.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${r}${p}`)}}}remove(e){return Z(this,void 0,void 0,function*(){try{return{data:yield nd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}list(e,s,r){return Z(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Ib),s),{prefix:e||""});return{data:yield en(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}listV2(e,s){return Z(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield en(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const _v="2.86.0",bv={"X-Client-Info":`storage-js/${_v}`};class Pb{constructor(e,s={},r,a){this.shouldThrowOnError=!1;const l=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bv),s),this.fetch=td(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Z(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(e);return{data:yield Lr(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}getBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}createBucket(e){return Z(this,arguments,void 0,function*(s,r={public:!1}){try{return{data:yield en(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}updateBucket(e,s){return Z(this,void 0,void 0,function*(){try{return{data:yield Uc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield nd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(e){const s={};return e&&("limit"in e&&(s.limit=String(e.limit)),"offset"in e&&(s.offset=String(e.offset)),e.search&&(s.search=e.search),e.sortColumn&&(s.sortColumn=e.sortColumn),e.sortOrder&&(s.sortOrder=e.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}var Br=class extends Error{constructor(n,e){var s;super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((s=e.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function jb(n,e,s){const r=new URL(e,n);if(s)for(const[a,l]of Object.entries(s))l!==void 0&&r.searchParams.set(a,l);return r.toString()}async function Ob(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function Lb(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:s,path:r,query:a,body:l,headers:c}){const m=jb(n.baseUrl,r,a),y=await Ob(n.auth),p=await e(m,{method:s,headers:{...l?{"Content-Type":"application/json"}:{},...y,...c},body:l?JSON.stringify(l):void 0}),x=await p.text(),_=(p.headers.get("content-type")||"").includes("application/json"),b=_&&x?JSON.parse(x):x;if(!p.ok){const E=_?b:void 0,C=E==null?void 0:E.error;throw new Br((C==null?void 0:C.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:C==null?void 0:C.type,icebergCode:C==null?void 0:C.code,details:E})}return{status:p.status,headers:p.headers,data:b}}}}function ga(n){return n.join("")}var Bb=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:ga(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(n,e){const s={namespace:n.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ga(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ga(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ga(n.namespace)}`}),!0}catch(e){if(e instanceof Br&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(s){if(s instanceof Br&&s.status===409)return;throw s}}};function vi(n){return n.join("")}var qb=class{constructor(n,e="",s){this.client=n,this.prefix=e,this.accessDelegation=s}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vi(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vi(n.namespace)}/tables`,body:e,headers:s})).data.metadata}async updateTable(n,e){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vi(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vi(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vi(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vi(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(s){if(s instanceof Br&&s.status===404)return!1;throw s}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(s){if(s instanceof Br&&s.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw s}}},Vb=class{constructor(n){var r;let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const s=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=Lb({baseUrl:s,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(r=n.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Bb(this.client,e),this.tableOps=new qb(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}};class Hb{constructor(e,s={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bv),s),this.fetch=td(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}listBuckets(e){return Z(this,void 0,void 0,function*(){try{const s=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&s.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&s.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&s.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&s.set("sortOrder",e.sortOrder),e!=null&&e.search&&s.set("search",e.search);const r=s.toString(),a=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Lr(this.fetch,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield nd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}from(e){if(!Ab(e))throw new Ia("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new Vb({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>Z(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const sd={"X-Client-Info":`storage-js/${_v}`,"Content-Type":"application/json"};class wv extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Pt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class mc extends wv{constructor(e,s,r){super(e),this.name="StorageVectorsApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Gb extends wv{constructor(e,s){super(e),this.name="StorageVectorsUnknownError",this.originalError=s}}var Kp;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Kp||(Kp={}));const id=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Fb=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Yp=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),zb=(n,e,s)=>Z(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(s!=null&&s.noResolveJson)){const a=n.status||500,l=n;if(typeof l.json=="function")l.json().then(c=>{const m=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||a+"";e(new mc(Yp(c),a,m))}).catch(()=>{const c=a+"",m=l.statusText||`HTTP ${a} error`;e(new mc(m,a,c))});else{const c=a+"",m=l.statusText||`HTTP ${a} error`;e(new mc(m,a,c))}}else e(new Gb(Yp(n),n))}),$b=(n,e,s,r)=>{const a={method:n,headers:(e==null?void 0:e.headers)||{}};return r?(Fb(r)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(r)):a.body=r,Object.assign(Object.assign({},a),s)):a};function Jb(n,e,s,r,a,l){return Z(this,void 0,void 0,function*(){return new Promise((c,m)=>{n(s,$b(e,r,a,l)).then(y=>{if(!y.ok)throw y;if(r!=null&&r.noResolveJson)return y;const p=y.headers.get("content-type");return!p||!p.includes("application/json")?{}:y.json()}).then(y=>c(y)).catch(y=>zb(y,m,r))})})}function jt(n,e,s,r,a){return Z(this,void 0,void 0,function*(){return Jb(n,"POST",e,r,a,s)})}class Kb{constructor(e,s={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sd),s),this.fetch=id(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Z(this,void 0,void 0,function*(){try{return{data:(yield jt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pt(s))return{data:null,error:s};throw s}})}getIndex(e,s){return Z(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:s},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}listIndexes(e){return Z(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pt(s))return{data:null,error:s};throw s}})}deleteIndex(e,s){return Z(this,void 0,void 0,function*(){try{return{data:(yield jt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:s},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}}class Yb{constructor(e,s={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sd),s),this.fetch=id(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Z(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield jt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pt(s))return{data:null,error:s};throw s}})}getVectors(e){return Z(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pt(s))return{data:null,error:s};throw s}})}listVectors(e){return Z(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield jt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pt(s))return{data:null,error:s};throw s}})}queryVectors(e){return Z(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pt(s))return{data:null,error:s};throw s}})}deleteVectors(e){return Z(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield jt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pt(s))return{data:null,error:s};throw s}})}}class Xb{constructor(e,s={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sd),s),this.fetch=id(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:(yield jt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pt(s))return{data:null,error:s};throw s}})}getBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pt(s))return{data:null,error:s};throw s}})}listBuckets(){return Z(this,arguments,void 0,function*(e={}){try{return{data:yield jt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pt(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:(yield jt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pt(s))return{data:null,error:s};throw s}})}}class Qb extends Xb{constructor(e,s={}){super(e,s.headers||{},s.fetch)}from(e){return new Wb(this.url,this.headers,e,this.fetch)}createBucket(e){const s=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Z(this,void 0,void 0,function*(){return s.createBucket.call(this,e)})}getBucket(e){const s=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Z(this,void 0,void 0,function*(){return s.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Z(this,arguments,void 0,function*(s={}){return e.listBuckets.call(this,s)})}deleteBucket(e){const s=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Z(this,void 0,void 0,function*(){return s.deleteBucket.call(this,e)})}}class Wb extends Kb{constructor(e,s,r,a){super(e,s,a),this.vectorBucketName=r}createIndex(e){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Z(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Z(this,arguments,void 0,function*(s={}){return e.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Z(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Z(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Zb(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Zb extends Yb{constructor(e,s,r,a,l){super(e,s,l),this.vectorBucketName=r,this.indexName=a}putVectors(e){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Z(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Z(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Z(this,arguments,void 0,function*(s={}){return e.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Z(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Z(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class ew extends Pb{constructor(e,s={},r,a){super(e,s,r,a)}from(e){return new Ub(this.url,this.headers,e,this.fetch)}get vectors(){return new Qb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Hb(this.url+"/iceberg",this.headers,this.fetch)}}const tw="2.86.0";let Ir="";typeof Deno<"u"?Ir="deno":typeof document<"u"?Ir="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ir="react-native":Ir="node";const nw={"X-Client-Info":`supabase-js-${Ir}/${tw}`},sw={headers:nw},iw={schema:"public"},rw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ow={},aw=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),lw=()=>Headers,uw=(n,e,s)=>{const r=aw(s),a=lw();return async(l,c)=>{var m;const y=(m=await e())!==null&&m!==void 0?m:n;let p=new a(c==null?void 0:c.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${y}`),r(l,Object.assign(Object.assign({},c),{headers:p}))}};function cw(n){return n.endsWith("/")?n:n+"/"}function dw(n,e){var s,r;const{db:a,auth:l,realtime:c,global:m}=n,{db:y,auth:p,realtime:x,global:_}=e,b={db:Object.assign(Object.assign({},y),a),auth:Object.assign(Object.assign({},p),l),realtime:Object.assign(Object.assign({},x),c),storage:{},global:Object.assign(Object.assign(Object.assign({},_),m),{headers:Object.assign(Object.assign({},(s=_==null?void 0:_.headers)!==null&&s!==void 0?s:{}),(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?b.accessToken=n.accessToken:delete b.accessToken,b}function fw(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(cw(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ev="2.86.0",Si=30*1e3,Pc=3,pc=Pc*Si,hw="http://localhost:9999",mw="supabase.auth.token",pw={"X-Client-Info":`gotrue-js/${Ev}`},jc="X-Supabase-Api-Version",Sv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yw=600*1e3;class qr extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function se(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class vw extends qr{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function xw(n){return se(n)&&n.name==="AuthApiError"}class Ms extends qr{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class rs extends qr{constructor(e,s,r,a){super(e,r,a),this.name=s,this.status=r}}class Ut extends rs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _w(n){return se(n)&&n.name==="AuthSessionMissingError"}class xi extends rs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ya extends rs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class va extends rs{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bw(n){return se(n)&&n.name==="AuthImplicitGrantRedirectError"}class Xp extends rs{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Oc extends rs{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function gc(n){return se(n)&&n.name==="AuthRetryableFetchError"}class Qp extends rs{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Lc extends rs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ca="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Wp=` 	
\r=`.split(""),ww=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Wp.length;e+=1)n[Wp[e].charCodeAt(0)]=-2;for(let e=0;e<Ca.length;e+=1)n[Ca[e].charCodeAt(0)]=e;return n})();function Zp(n,e,s){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Ca[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Ca[r]),e.queuedBits-=6}}function Cv(n,e,s){const r=ww[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function eg(n){const e=[],s=c=>{e.push(String.fromCodePoint(c))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{Cw(c,r,s)};for(let c=0;c<n.length;c+=1)Cv(n.charCodeAt(c),a,l);return e.join("")}function Ew(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Sw(n,e){for(let s=0;s<n.length;s+=1){let r=n.charCodeAt(s);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(n.charCodeAt(s+1)-56320&65535|a)+65536,s+=1}Ew(r,e)}}function Cw(n,e,s){if(e.utf8seq===0){if(n<=127){s(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Ai(n){const e=[],s={queue:0,queuedBits:0},r=a=>{e.push(a)};for(let a=0;a<n.length;a+=1)Cv(n.charCodeAt(a),s,r);return new Uint8Array(e)}function Tw(n){const e=[];return Sw(n,s=>e.push(s)),new Uint8Array(e)}function ks(n){const e=[],s={queue:0,queuedBits:0},r=a=>{e.push(a)};return n.forEach(a=>Zp(a,s,r)),Zp(null,s,r),e.join("")}function Aw(n){return Math.round(Date.now()/1e3)+n}function Nw(){return Symbol("auth-callback")}const ut=()=>typeof window<"u"&&typeof document<"u",Ts={tested:!1,writable:!1},Tv=()=>{if(!ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ts.tested)return Ts.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ts.tested=!0,Ts.writable=!0}catch{Ts.tested=!0,Ts.writable=!1}return Ts.writable};function Rw(n){const e={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return s.searchParams.forEach((r,a)=>{e[a]=r}),e}const Av=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Dw=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Ci=async(n,e,s)=>{await n.setItem(e,JSON.stringify(s))},As=async(n,e)=>{const s=await n.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ns=async(n,e)=>{await n.removeItem(e)};class Ua{constructor(){this.promise=new Ua.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Ua.promiseConstructor=Promise;function yc(n){const e=n.split(".");if(e.length!==3)throw new Lc("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!gw.test(e[r]))throw new Lc("JWT not in base64url format");return{header:JSON.parse(eg(e[0])),payload:JSON.parse(eg(e[1])),signature:Ai(e[2]),raw:{header:e[0],payload:e[1]}}}async function Mw(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function kw(n,e){return new Promise((r,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await n(l);if(!e(l,null,c)){r(c);return}}catch(c){if(!e(l,c)){a(c);return}}})()})}function Iw(n){return("0"+n.toString(16)).substr(-2)}function Uw(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let a="";for(let l=0;l<56;l++)a+=s.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(e),Array.from(e,Iw).join("")}async function Pw(n){const s=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",s),a=new Uint8Array(r);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function jw(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await Pw(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _i(n,e,s=!1){const r=Uw();let a=r;s&&(a+="/PASSWORD_RECOVERY"),await Ci(n,`${e}-code-verifier`,a);const l=await jw(r);return[l,r===l?"plain":"s256"]}const Ow=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Lw(n){const e=n.headers.get(jc);if(!e||!e.match(Ow))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Bw(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function qw(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Vw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bi(n){if(!Vw.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vc(){const n={};return new Proxy(n,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Hw(n,e){return new Proxy(n,{get:(s,r,a)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,r,a)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(s,r,a)}})}function tg(n){return JSON.parse(JSON.stringify(n))}const Ns=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Gw=[502,503,504];async function ng(n){var e;if(!Dw(n))throw new Oc(Ns(n),0);if(Gw.includes(n.status))throw new Oc(Ns(n),n.status);let s;try{s=await n.json()}catch(l){throw new Ms(Ns(l),l)}let r;const a=Lw(n);if(a&&a.getTime()>=Sv["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Qp(Ns(s),n.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ut}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Qp(Ns(s),n.status,s.weak_password.reasons);throw new vw(Ns(s),n.status||500,r)}const Fw=(n,e,s,r)=>{const a={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),s))};async function oe(n,e,s,r){var a;const l=Object.assign({},r==null?void 0:r.headers);l[jc]||(l[jc]=Sv["2024-01-01"].name),r!=null&&r.jwt&&(l.Authorization=`Bearer ${r.jwt}`);const c=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(c.redirect_to=r.redirectTo);const m=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",y=await zw(n,e,s+m,{headers:l,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(y):{data:Object.assign({},y),error:null}}async function zw(n,e,s,r,a,l){const c=Fw(e,r,a,l);let m;try{m=await n(s,Object.assign({},c))}catch(y){throw console.error(y),new Oc(Ns(y),0)}if(m.ok||await ng(m),r!=null&&r.noResolveJson)return m;try{return await m.json()}catch(y){await ng(y)}}function Zt(n){var e;let s=null;Kw(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=Aw(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:s,user:r},error:null}}function sg(n){const e=Zt(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function ss(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function $w(n){return{data:n,error:null}}function Jw(n){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:a,verification_type:l}=n,c=ki(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:e,email_otp:s,hashed_token:r,redirect_to:a,verification_type:l},y=Object.assign({},c);return{data:{properties:m,user:y},error:null}}function ig(n){return n}function Kw(n){return n.access_token&&n.refresh_token&&n.expires_in}const xc=["global","local","others"];class Yw{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=Av(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=xc[0]){if(xc.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xc.join(", ")}`);try{return await oe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:ss})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=ki(e,["options"]),a=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Jw,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(se(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await oe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ss})}catch(s){if(se(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,a,l,c,m,y;try{const p={nextPage:null,lastPage:0,total:0},x=await oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:ig});if(x.error)throw x.error;const _=await x.json(),b=(c=x.headers.get("x-total-count"))!==null&&c!==void 0?c:0,E=(y=(m=x.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&y!==void 0?y:[];return E.length>0&&(E.forEach(C=>{const T=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(C.split(";")[1].split("=")[1]);p[`${A}Page`]=T}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(se(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){bi(e);try{return await oe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ss})}catch(s){if(se(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){bi(e);try{return await oe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:ss})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){bi(e);try{return await oe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:ss})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){bi(e.userId);try{const{data:s,error:r}=await oe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:s,error:r}}catch(s){if(se(s))return{data:null,error:s};throw s}}async _deleteFactor(e){bi(e.userId),bi(e.id);try{return{data:await oe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,r,a,l,c,m,y;try{const p={nextPage:null,lastPage:0,total:0},x=await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:ig});if(x.error)throw x.error;const _=await x.json(),b=(c=x.headers.get("x-total-count"))!==null&&c!==void 0?c:0,E=(y=(m=x.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&y!==void 0?y:[];return E.length>0&&(E.forEach(C=>{const T=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(C.split(";")[1].split("=")[1]);p[`${A}Page`]=T}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(se(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(se(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(se(s))return{data:null,error:s};throw s}}async _updateOAuthClient(e,s){try{return await oe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:s,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await oe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(se(s))return{data:null,error:s};throw s}}}function rg(n={}){return{getItem:e=>n[e]||null,setItem:(e,s)=>{n[e]=s},removeItem:e=>{delete n[e]}}}const wi={debug:!!(globalThis&&Tv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Nv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Xw extends Nv{}async function Qw(n,e,s){wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),wi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,a.name);try{return await s()}finally{wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,a.name)}}else{if(e===0)throw wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Xw(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(wi.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Ww(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Rv(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function Zw(n){return parseInt(n,16)}function eE(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function tE(n){var e;const{chainId:s,domain:r,expirationTime:a,issuedAt:l=new Date,nonce:c,notBefore:m,requestId:y,resources:p,scheme:x,uri:_,version:b}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const E=Rv(n.address),C=x?`${x}://${r}`:r,T=n.statement?`${n.statement}
`:"",A=`${C} wants you to sign in with your Ethereum account:
${E}

${T}`;let U=`URI: ${_}
Version: ${b}
Chain ID: ${s}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(a&&(U+=`
Expiration Time: ${a.toISOString()}`),m&&(U+=`
Not Before: ${m.toISOString()}`),y&&(U+=`
Request ID: ${y}`),p){let O=`
Resources:`;for(const k of p){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);O+=`
- ${k}`}U+=O}return`${A}
${U}`}class We extends Error{constructor({message:e,code:s,cause:r,name:a}){var l;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(l=a??(r instanceof Error?r.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=s}}class Ta extends We{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function nE({error:n,options:e}){var s,r,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new We({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=l.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new We({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=l.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new We({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new We({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new We({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new We({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return l.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new We({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new We({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const c=window.location.hostname;if(Dv(c)){if(l.rp.id!==c)return new We({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new We({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function sE({error:n,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new We({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new We({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(Dv(r)){if(s.rpId!==r)return new We({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class iE{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const rE=new iE;function oE(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:s,excludeCredentials:r}=n,a=ki(n,["challenge","user","excludeCredentials"]),l=Ai(e).buffer,c=Object.assign(Object.assign({},s),{id:Ai(s.id).buffer}),m=Object.assign(Object.assign({},a),{challenge:l,user:c});if(r&&r.length>0){m.excludeCredentials=new Array(r.length);for(let y=0;y<r.length;y++){const p=r[y];m.excludeCredentials[y]=Object.assign(Object.assign({},p),{id:Ai(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return m}function aE(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:s}=n,r=ki(n,["challenge","allowCredentials"]),a=Ai(e).buffer,l=Object.assign(Object.assign({},r),{challenge:a});if(s&&s.length>0){l.allowCredentials=new Array(s.length);for(let c=0;c<s.length;c++){const m=s[c];l.allowCredentials[c]=Object.assign(Object.assign({},m),{id:Ai(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return l}function lE(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:ks(new Uint8Array(n.response.attestationObject)),clientDataJSON:ks(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function uE(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,r=n.getClientExtensionResults(),a=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:ks(new Uint8Array(a.authenticatorData)),clientDataJSON:ks(new Uint8Array(a.clientDataJSON)),signature:ks(new Uint8Array(a.signature)),userHandle:a.userHandle?ks(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Dv(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function og(){var n,e;return!!(ut()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function cE(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ta("Browser returned unexpected credential type",e)}:{data:null,error:new Ta("Empty credential response",e)}}catch(e){return{data:null,error:nE({error:e,options:n})}}}async function dE(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ta("Browser returned unexpected credential type",e)}:{data:null,error:new Ta("Empty credential response",e)}}catch(e){return{data:null,error:sE({error:e,options:n})}}}const fE={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},hE={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Aa(...n){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),s=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),r={};for(const a of n)if(a)for(const l in a){const c=a[l];if(c!==void 0)if(Array.isArray(c))r[l]=c;else if(s(c))r[l]=c;else if(e(c)){const m=r[l];e(m)?r[l]=Aa(m,c):r[l]=Aa(c)}else r[l]=c}return r}function mE(n,e){return Aa(fE,n,e||{})}function pE(n,e){return Aa(hE,n,e||{})}class gE{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:r,signal:a},l){try{const{data:c,error:m}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!c)return{data:null,error:m};const y=a??rE.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:p}=c.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${r}`),p.displayName||(p.displayName=p.name)}switch(c.webauthn.type){case"create":{const p=mE(c.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:x,error:_}=await cE({publicKey:p,signal:y});return x?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:x}},error:null}:{data:null,error:_}}case"request":{const p=pE(c.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:x,error:_}=await dE(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p,signal:y}));return x?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:x}},error:null}:{data:null,error:_}}}}catch(c){return se(c)?{data:null,error:c}:{data:null,error:new Ms("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:s,webauthn:r}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!s)return{data:null,error:new qr("rpId is required for WebAuthn authentication")};try{if(!og())return{data:null,error:new Ms("Browser does not support WebAuthn",null)};const{data:c,error:m}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:r},signal:a},{request:l});if(!c)return{data:null,error:m};const{webauthn:y}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:y.type,rpId:s,rpOrigins:r,credential_response:y.credential_response}})}catch(c){return se(c)?{data:null,error:c}:{data:null,error:new Ms("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!s)return{data:null,error:new qr("rpId is required for WebAuthn registration")};try{if(!og())return{data:null,error:new Ms("Browser does not support WebAuthn",null)};const{data:c,error:m}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(x=>{var _;return(_=x.data)===null||_===void 0?void 0:_.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x==null?void 0:x.id}):void 0),{data:null,error:m};const{data:y,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:s,rpOrigins:r},signal:a},{create:l});return y?this._verify({factorId:c.id,challengeId:y.challengeId,webauthn:{rpId:s,rpOrigins:r,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:p}}catch(c){return se(c)?{data:null,error:c}:{data:null,error:new Ms("Unexpected error in register",c)}}}}Ww();const yE={url:hw,storageKey:mw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function ag(n,e,s){return await s()}const Ei={};class Vr{get jwks(){var e,s;return(s=(e=Ei[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Ei[this.storageKey]=Object.assign(Object.assign({},Ei[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Ei[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ei[this.storageKey]=Object.assign(Object.assign({},Ei[this.storageKey]),{cachedAt:e})}constructor(e){var s,r,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},yE),e);if(this.storageKey=l.storageKey,this.instanceID=(s=Vr.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Vr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&ut()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Yw({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Av(l.fetch),this.lock=l.lock||ag,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:ut()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Qw:this.lock=ag,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new gE(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Tv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rg(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=rg(this.memoryStorage)),ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ev}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let s={},r="none";if(ut()&&(s=Rw(window.location.href),this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce")),ut()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:l}=await this._getSessionFromURL(s,r);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),bw(l)){const y=(e=l.details)===null||e===void 0?void 0:e.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:m}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",m),await this._saveSession(c),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return se(s)?this._returnResult({error:s}):this._returnResult({error:new Ms("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,a;try{const l=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Zt}),{data:c,error:m}=l;if(m||!c)return this._returnResult({data:{user:null,session:null},error:m});const y=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:p,session:y},error:null})}catch(l){if(se(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var s,r,a;try{let l;if("email"in e){const{email:x,password:_,options:b}=e;let E=null,C=null;this.flowType==="pkce"&&([E,C]=await _i(this.storage,this.storageKey)),l=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:x,password:_,data:(s=b==null?void 0:b.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:E,code_challenge_method:C},xform:Zt})}else if("phone"in e){const{phone:x,password:_,options:b}=e;l=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:_,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},channel:(a=b==null?void 0:b.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Zt})}else throw new ya("You must provide either an email or phone number and a password");const{data:c,error:m}=l;if(m||!c)return this._returnResult({data:{user:null,session:null},error:m});const y=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:p,session:y},error:null})}catch(l){if(se(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let s;if("email"in e){const{email:l,password:c,options:m}=e;s=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:sg})}else if("phone"in e){const{phone:l,password:c,options:m}=e;s=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:sg})}else throw new ya("You must provide either an email or phone number and a password");const{data:r,error:a}=s;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!r||!r.session||!r.user){const l=new xi;return this._returnResult({data:{user:null,session:null},error:l})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(s){if(se(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(e){var s,r,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,r,a,l,c,m,y,p,x,_,b;let E,C;if("message"in e)E=e.message,C=e.signature;else{const{chain:T,wallet:A,statement:U,options:O}=e;let k;if(ut())if(typeof A=="object")k=A;else{const ee=window;if("ethereum"in ee&&typeof ee.ethereum=="object"&&"request"in ee.ethereum&&typeof ee.ethereum.request=="function")k=ee.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=A}const F=new URL((s=O==null?void 0:O.url)!==null&&s!==void 0?s:window.location.href),Y=await k.request({method:"eth_requestAccounts"}).then(ee=>ee).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Y||Y.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const J=Rv(Y[0]);let z=(r=O==null?void 0:O.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!z){const ee=await k.request({method:"eth_chainId"});z=Zw(ee)}const de={domain:F.host,address:J,statement:U,uri:F.href,version:"1",chainId:z,nonce:(a=O==null?void 0:O.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(l=O==null?void 0:O.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(m=O==null?void 0:O.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(y=O==null?void 0:O.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(p=O==null?void 0:O.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(x=O==null?void 0:O.signInWithEthereum)===null||x===void 0?void 0:x.resources};E=tE(de),C=await k.request({method:"personal_sign",params:[eE(E),J]})}try{const{data:T,error:A}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:C},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Zt});if(A)throw A;if(!T||!T.session||!T.user){const U=new xi;return this._returnResult({data:{user:null,session:null},error:U})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:A})}catch(T){if(se(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(e){var s,r,a,l,c,m,y,p,x,_,b,E;let C,T;if("message"in e)C=e.message,T=e.signature;else{const{chain:A,wallet:U,statement:O,options:k}=e;let F;if(ut())if(typeof U=="object")F=U;else{const J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))F=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=U}const Y=new URL((s=k==null?void 0:k.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in F&&F.signIn){const J=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:Y.host,uri:Y.href}),O?{statement:O}:null));let z;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")z=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)z=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)C=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),T=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${Y.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${Y.href}`,`Issued At: ${(a=(r=k==null?void 0:k.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=k==null?void 0:k.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((c=k==null?void 0:k.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((m=k==null?void 0:k.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((y=k==null?void 0:k.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((p=k==null?void 0:k.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((_=(x=k==null?void 0:k.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||_===void 0)&&_.length?["Resources",...k.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const J=await F.signMessage(new TextEncoder().encode(C),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=J}}try{const{data:A,error:U}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:ks(T)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Zt});if(U)throw U;if(!A||!A.session||!A.user){const O=new xi;return this._returnResult({data:{user:null,session:null},error:O})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:U})}catch(A){if(se(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(e){const s=await As(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(s??"").split("/");try{const{data:l,error:c}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Zt});if(await ns(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const m=new xi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(se(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:s,provider:r,token:a,access_token:l,nonce:c}=e,m=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Zt}),{data:y,error:p}=m;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!y||!y.session||!y.user){const x=new xi;return this._returnResult({data:{user:null,session:null},error:x})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:p})}catch(s){if(se(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(e){var s,r,a,l,c;try{if("email"in e){const{email:m,options:y}=e;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await _i(this.storage,this.storageKey));const{error:_}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=y==null?void 0:y.data)!==null&&s!==void 0?s:{},create_user:(r=y==null?void 0:y.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:p,code_challenge_method:x},redirectTo:y==null?void 0:y.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in e){const{phone:m,options:y}=e,{data:p,error:x}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(a=y==null?void 0:y.data)!==null&&a!==void 0?a:{},create_user:(l=y==null?void 0:y.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},channel:(c=y==null?void 0:y.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:x})}throw new ya("You must provide either an email or phone number.")}catch(m){if(se(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(e){var s,r;try{let a,l;"options"in e&&(a=(s=e.options)===null||s===void 0?void 0:s.redirectTo,l=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:m}=await oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:Zt});if(m)throw m;if(!c)throw new Error("An error occurred on token verification.");const y=c.session,p=c.user;return y!=null&&y.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:p,session:y},error:null})}catch(a){if(se(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var s,r,a,l,c;try{let m=null,y=null;this.flowType==="pkce"&&([m,y]=await _i(this.storage,this.storageKey));const p=await oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:y}),headers:this.headers,xform:$w});return!((l=p.data)===null||l===void 0)&&l.url&&ut()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(m){if(se(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new Ut;const{error:a}=await oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(se(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:a,options:l}=e,{error:c}=await oe(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:r,type:a,options:l}=e,{data:c,error:m}=await oe(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:m})}throw new ya("You must provide either an email or phone number and a type")}catch(s){if(se(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await As(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<pc:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const c=await As(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=vc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=Hw(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ss}):await this._useSession(async s=>{var r,a,l;const{data:c,error:m}=s;if(m)throw m;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ut}:await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:ss})})}catch(s){if(se(s))return _w(s)&&(await this._removeSession(),await ns(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:a,error:l}=r;if(l)throw l;if(!a.session)throw new Ut;const c=a.session;let m=null,y=null;this.flowType==="pkce"&&e.email!=null&&([m,y]=await _i(this.storage,this.storageKey));const{data:p,error:x}=await oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:m,code_challenge_method:y}),jwt:c.access_token,xform:ss});if(x)throw x;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(r){if(se(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ut;const s=Date.now()/1e3;let r=s,a=!0,l=null;const{payload:c}=yc(e.access_token);if(c.exp&&(r=c.exp,a=r<=s),a){const{data:m,error:y}=await this._callRefreshToken(e.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!m)return{data:{user:null,session:null},error:null};l=m}else{const{data:m,error:y}=await this._getUser(e.access_token);if(y)throw y;l={access_token:e.access_token,refresh_token:e.refresh_token,user:m.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(s){if(se(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:c,error:m}=s;if(m)throw m;e=(r=c.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ut;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(se(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(e,s){try{if(!ut())throw new va("No browser detected.");if(e.error||e.error_description||e.error_code)throw new va(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Xp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new va("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Xp("No code detected.");const{data:O,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:m,expires_at:y,token_type:p}=e;if(!l||!m||!c||!p)throw new va("No session defined in URL");const x=Math.round(Date.now()/1e3),_=parseInt(m);let b=x+_;y&&(b=parseInt(y));const E=b-x;E*1e3<=Si&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${_}s`);const C=b-_;x-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,b,x):x-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,b,x);const{data:T,error:A}=await this._getUser(l);if(A)throw A;const U={provider_token:r,provider_refresh_token:a,access_token:l,expires_in:_,expires_at:b,refresh_token:c,token_type:p,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:U,redirectType:e.type},error:null})}catch(r){if(se(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await As(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:a,error:l}=s;if(l)return this._returnResult({error:l});const c=(r=a.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:m}=await this.admin.signOut(c,e);if(m&&!(xw(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return e!=="others"&&(await this._removeSession(),await ns(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const s=Nw(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,a;try{const{data:{session:l},error:c}=s;if(c)throw c;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,s={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await _i(this.storage,this.storageKey,!0));try{return await oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(l){if(se(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:r,error:a}=await this._useSession(async l=>{var c,m,y,p,x;const{data:_,error:b}=l;if(b)throw b;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(m=e.options)===null||m===void 0?void 0:m.scopes,queryParams:(y=e.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await oe(this.fetch,"GET",E,{headers:this.headers,jwt:(x=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&x!==void 0?x:void 0})});if(a)throw a;return ut()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(se(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var r;try{const{error:a,data:{session:l}}=s;if(a)throw a;const{options:c,provider:m,token:y,access_token:p,nonce:x}=e,_=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=l==null?void 0:l.access_token)!==null&&r!==void 0?r:void 0,body:{provider:m,id_token:y,access_token:p,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Zt}),{data:b,error:E}=_;return E?this._returnResult({data:{user:null,session:null},error:E}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new xi}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:E}))}catch(a){if(se(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,a;const{data:l,error:c}=s;if(c)throw c;return await oe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await kw(async a=>(a>0&&await Mw(200*Math.pow(2,a-1)),this._debug(s,"refreshing attempt",a),await oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Zt})),(a,l)=>{const c=200*Math.pow(2,a);return l&&gc(l)&&Date.now()+c-r<Si})}catch(r){if(this._debug(s,"error",r),se(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),ut()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await As(this.storage,this.storageKey);if(a&&this.userStorage){let c=await As(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await Ci(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:vc()}else if(a&&!a.user&&!a.user){const c=await As(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(a.user=c.user,await ns(this.storage,this.storageKey+"-user"),await Ci(this.storage,this.storageKey,a)):a.user=vc()}if(this._debug(r,"session from storage",a),!this._isValidSession(a)){this._debug(r,"session is not valid"),a!==null&&await this._removeSession();return}const l=((s=a.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<pc;if(this._debug(r,`session has${l?"":" not"} expired with margin of ${pc}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),gc(c)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:m}=await this._getUser(a.access_token);!m&&(c!=null&&c.user)?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(r,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(r,"error",a),console.error(a);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new Ut;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ua;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new Ut;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const m={data:l.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(l){if(this._debug(a,"error",l),se(l)){const c={data:null,error:l};return gc(l)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,s,r=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(e,s)}catch(y){l.push(y)}});if(await Promise.all(c),l.length>0){for(let m=0;m<l.length;m+=1)console.error(l[m]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await Ci(this.userStorage,this.storageKey+"-user",{user:s.user});const a=Object.assign({},s);delete a.user;const l=tg(a);await Ci(this.storage,this.storageKey,l)}else{const a=tg(s);await Ci(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await ns(this.storage,this.storageKey),await ns(this.storage,this.storageKey+"-code-verifier"),await ns(this.storage,this.storageKey+"-user"),this.userStorage&&await ns(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ut()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Si);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-e)/Si);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Si}ms, refresh threshold is ${Pc} ticks`),a<=Pc&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Nv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ut()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const a=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[l,c]=await _i(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(m.toString())}if(r!=null&&r.queryParams){const l=new URLSearchParams(r.queryParams);a.push(l.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:a,error:l}=s;return l?this._returnResult({data:null,error:l}):await oe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,a;const{data:l,error:c}=s;if(c)return this._returnResult({data:null,error:c});const m=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:y,error:p}=await oe(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&y.type==="totp"&&(!((a=y==null?void 0:y.totp)===null||a===void 0)&&a.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:a,error:l}=s;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?lE(e.webauthn.credential_response):uE(e.webauthn.credential_response)})}:{code:e.code}),{data:m,error:y}=await oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:y}))})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:a,error:l}=s;if(l)return this._returnResult({data:null,error:l});const c=await oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});if(c.error)return c;const{data:m}=c;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:oE(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:aE(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=s==null?void 0:s.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,s;const{data:{session:r},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=yc(r.access_token);let c=null;l.aal&&(c=l.aal);let m=c;((s=(e=r.user.factors)===null||e===void 0?void 0:e.filter(x=>x.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(m="aal2");const p=l.amr||[];return{data:{currentLevel:c,nextLevel:m,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async s=>{const{data:{session:r},error:a}=s;return a?this._returnResult({data:null,error:a}):r?await oe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Ut})})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(e,s){try{return await this._useSession(async r=>{const{data:{session:a},error:l}=r;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Ut});const c=await oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return c.data&&c.data.redirect_url&&ut()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,s){try{return await this._useSession(async r=>{const{data:{session:a},error:l}=r;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Ut});const c=await oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return c.data&&c.data.redirect_url&&ut()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;return r?this._returnResult({data:null,error:r}):s?await oe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ut})})}catch(e){if(se(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async s=>{const{data:{session:r},error:a}=s;return a?this._returnResult({data:null,error:a}):r?(await oe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ut})})}catch(s){if(se(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(m=>m.kid===e);if(r)return r;const a=Date.now();if(r=this.jwks.keys.find(m=>m.kid===e),r&&this.jwks_cached_at+yw>a)return r;const{data:l,error:c}=await oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,r=l.keys.find(m=>m.kid===e),!r)?null:r}async getClaims(e,s={}){try{let r=e;if(!r){const{data:E,error:C}=await this.getSession();if(C||!E.session)return this._returnResult({data:null,error:C});r=E.session.access_token}const{header:a,payload:l,signature:c,raw:{header:m,payload:y}}=yc(r);s!=null&&s.allowExpired||Bw(l.exp);const p=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!p){const{error:E}=await this.getUser(r);if(E)throw E;return{data:{claims:l,header:a,signature:c},error:null}}const x=qw(a.alg),_=await crypto.subtle.importKey("jwk",p,x,!0,["verify"]);if(!await crypto.subtle.verify(x,_,c,Tw(`${m}.${y}`)))throw new Lc("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}}Vr.nextInstanceID={};const vE=Vr;class xE extends vE{constructor(e){super(e)}}class _E{constructor(e,s,r){var a,l,c;this.supabaseUrl=e,this.supabaseKey=s;const m=fw(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const y=`sb-${m.hostname.split(".")[0]}-auth-token`,p={db:iw,realtime:ow,auth:Object.assign(Object.assign({},rw),{storageKey:y}),global:sw},x=dw(r??{},p);this.storageKey=(a=x.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=x.global.headers)!==null&&l!==void 0?l:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(_,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=x.auth)!==null&&c!==void 0?c:{},this.headers,x.global.fetch),this.fetch=uw(s,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new ob(new URL("rest/v1",m).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new ew(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new nb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,s;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:a,userStorage:l,storageKey:c,flowType:m,lock:y,debug:p,throwOnError:x},_,b){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xE({url:this.authUrl.href,headers:Object.assign(Object.assign({},E),_),storageKey:c,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:a,userStorage:l,flowType:m,lock:y,debug:p,throwOnError:x,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Eb(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const bE=(n,e,s)=>new _E(n,e,s);function wE(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}wE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const EE="https://brsjcuibqvvsldrkshtj.supabase.co",SE="sb_publishable_nIX1MOk-kgvSCEeH-XvSmg_ndx4X0d0",Ue=bE(EE,SE),_c="bihh_vehicles_fallback",bc="bihh_vehicles_sync",Et={getVehicles:()=>{const n=localStorage.getItem(_c);if(n)try{return JSON.parse(n)}catch(s){console.error("Error parsing local vehicles:",s)}const e=[];return localStorage.setItem(_c,JSON.stringify(e)),e},setVehicles:n=>{localStorage.setItem(_c,JSON.stringify(n)),window.dispatchEvent(new CustomEvent(bc))},addVehicle:n=>{const e=Et.getVehicles(),s={...n,id:`local-${Date.now()}`,created_at:new Date().toISOString()};return Et.setVehicles([s,...e]),s},updateVehicle:(n,e)=>{const r=Et.getVehicles().map(a=>a.id===n?{...a,...e}:a);return Et.setVehicles(r),r.find(a=>a.id===n)},deleteVehicle:n=>{const s=Et.getVehicles().filter(r=>r.id!==n);Et.setVehicles(s)},subscribe:n=>(window.addEventListener(bc,n),()=>window.removeEventListener(bc,n))},rd=(n=!1)=>{const[e,s]=$.useState([]),[r,a]=$.useState(!0),[l,c]=$.useState(null),[m,y]=$.useState(!1),p=$.useCallback(()=>{const E=Et.getVehicles();s(n?E.filter(C=>C.status==="available"):E)},[n]);return $.useEffect(()=>{if((async()=>{try{a(!0);let C=Ue.from("vehicles").select("*");n&&(C=C.eq("status","available"));const{data:T,error:A}=await C.order("created_at",{ascending:!1});A?(console.warn("Database error, using localVehicleStore:",A.message),p(),y(!0)):(s(T||[]),y(!1))}catch{console.warn("Connection error, using localVehicleStore"),p(),y(!0)}finally{a(!1)}})(),m)return Et.subscribe(p);{const C=Ue.channel("vehicles-realtime").on("postgres_changes",{event:"*",schema:"public",table:"vehicles"},T=>{if(T.eventType==="INSERT"){const A=T.new;(!n||A.status==="available")&&s(U=>[A,...U])}else if(T.eventType==="UPDATE"){const A=T.new;s(U=>U.map(O=>O.id===A.id?A:O))}else T.eventType==="DELETE"&&s(A=>A.filter(U=>U.id!==T.old.id))}).subscribe();return()=>{Ue.removeChannel(C)}}},[n,m,p]),{vehicles:e,loading:r,error:l,addVehicle:async E=>{try{const{data:C,error:T}=await Ue.from("vehicles").insert([E]).select().single();return T?{data:Et.addVehicle(E),error:null}:{data:C,error:null}}catch{return{data:Et.addVehicle(E),error:null}}},updateVehicle:async(E,C)=>{try{const{data:T,error:A}=await Ue.from("vehicles").update(C).eq("id",E).select().single();return A?{data:Et.updateVehicle(E,C),error:null}:{data:T,error:null}}catch{return{data:Et.updateVehicle(E,C),error:null}}},deleteVehicle:async E=>{try{const{error:C}=await Ue.from("vehicles").delete().eq("id",E);return C?(Et.deleteVehicle(E),{error:null}):{error:null}}catch{return Et.deleteVehicle(E),{error:null}}},usingFallback:m}},CE=({onProductClick:n})=>{const{vehicles:e,loading:s,error:r}=rd(!0),[a,l]=$.useState("all"),c=["all","Saloon Car","SUV","Van","4x4","Compact Car","Luxury SUV"],m=a==="all"?e:e.filter(y=>y.category===a);return s?f.jsx("section",{id:"products",className:"py-20 bg-[#F5F2EB]",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsx("div",{className:"text-center",children:f.jsx("p",{className:"text-[#5D5A53]",children:"Loading vehicles..."})})})}):r?f.jsx("section",{id:"products",className:"py-20 bg-[#F5F2EB]",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsx("div",{className:"text-center",children:f.jsxs("p",{className:"text-red-600",children:["Error loading vehicles: ",r]})})})}):f.jsx("section",{id:"products",className:"py-32 px-6 md:px-12 bg-[#F5F2EB]",children:f.jsxs("div",{className:"max-w-[1800px] mx-auto",children:[f.jsxs("div",{className:"flex flex-col items-center text-center mb-24 space-y-8",children:[f.jsx("h2",{className:"text-4xl md:text-6xl font-serif text-[#2C2A26]",children:"The Collection"}),f.jsx("div",{className:"flex flex-wrap justify-center gap-8 pt-4 border-t border-[#D6D1C7]/50 w-full max-w-2xl",children:c.map(y=>f.jsx("button",{onClick:()=>l(y),className:`text-sm uppercase tracking-widest pb-1 border-b transition-all duration-300 ${a===y?"border-[#2C2A26] text-[#2C2A26]":"border-transparent text-[#A8A29E] hover:text-[#2C2A26]"}`,children:y==="all"?"All":y},y))})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-20",children:m.map(y=>f.jsx(Y_,{product:y,onClick:n},y.id))})]})})};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/const TE=()=>f.jsxs("section",{id:"about",className:"bg-[#EBE7DE]",children:[f.jsxs("div",{className:"py-24 px-6 md:px-12 max-w-[1800px] mx-auto flex flex-col md:flex-row items-start gap-16 md:gap-32",children:[f.jsxs("div",{className:"md:w-1/3",children:[f.jsxs("h2",{className:"text-4xl md:text-6xl font-serif text-[#2C2A26] leading-tight",children:["The road is ",f.jsx("br",{})," the destination."]}),f.jsx("p",{className:"text-lg md:text-xl text-[#5D5A53] font-light leading-relaxed mb-8",children:"Bihh was born from the vibrant energy of Nairobi and the serene beauty of the Kenyan landscape. We believe travel should be an experience, not just a commute."}),f.jsx("p",{className:"text-lg md:text-xl text-[#5D5A53] font-light leading-relaxed mb-8",children:'Whether you need a "Nganya" for a video shoot, a Land Cruiser for the Mara, or a sleek sedan for a business meeting, our fleet is curated for the Kenyan spirit. We combine luxury with local culture.'}),f.jsxs("div",{className:"grid grid-cols-2 gap-8 mt-12",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-serif text-[#2C2A26] mb-2",children:"Culture"}),f.jsx("p",{className:"text-[#5D5A53] font-light",children:"Authentic Kenyan vibes, from the music to the art."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-serif text-[#2C2A26] mb-2",children:"Freedom"}),f.jsx("p",{className:"text-[#5D5A53] font-light",children:"Explore every corner of the country in comfort."})]})]})]}),f.jsxs("div",{className:"md:w-2/3 max-w-2xl",children:[f.jsx("img",{src:"https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?auto=format&fit=crop&q=80&w=1200",alt:"Car on a scenic road",className:"w-full h-[400px] object-cover grayscale contrast-[0.9] brightness-110 mt-12"}),f.jsx("p",{className:"text-sm font-medium uppercase tracking-widest text-[#A8A29E] mt-4",children:"Pacific Coast Highway, California"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 min-h-[80vh]",children:[f.jsx("div",{className:"order-2 lg:order-1 relative h-[500px] lg:h-auto overflow-hidden group",children:f.jsx("img",{src:"https://images.unsplash.com/photo-1593055497720-4d9437aa6071?auto=format&fit=crop&q=80&w=1200",alt:"Car Interior",className:"absolute inset-0 w-full h-full object-cover transition-transform duration-[2s] group-hover:scale-105"})}),f.jsxs("div",{className:"order-1 lg:order-2 flex flex-col justify-center p-12 lg:p-24 bg-[#D6D1C7]",children:[f.jsx("span",{className:"text-xs font-bold uppercase tracking-[0.2em] text-[#5D5A53] mb-6",children:"Sanctuary"}),f.jsxs("h3",{className:"text-4xl md:text-5xl font-serif mb-8 text-[#2C2A26] leading-tight",children:["A cabin of ",f.jsx("br",{})," calm."]}),f.jsx("p",{className:"text-lg text-[#5D5A53] font-light leading-relaxed mb-12 max-w-md",children:"Every vehicle in our fleet is chosen for its interior serenity. Double-pane acoustic glass, active noise cancellation, and sustainable materials create a space where you can truly breathe."})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 min-h-[80vh]",children:[f.jsxs("div",{className:"flex flex-col justify-center p-12 lg:p-24 bg-[#2C2A26] text-[#F5F2EB]",children:[f.jsx("span",{className:"text-xs font-bold uppercase tracking-[0.2em] text-[#A8A29E] mb-6",children:"Freedom"}),f.jsxs("h3",{className:"text-4xl md:text-5xl font-serif mb-8 text-[#F5F2EB] leading-tight",children:["Range without ",f.jsx("br",{})," anxiety."]}),f.jsx("p",{className:"text-lg text-[#A8A29E] font-light leading-relaxed mb-12 max-w-md",children:"With ranges exceeding 400 miles and access to our exclusive network of rapid chargers, the horizon is yours to explore. We handle the logistics so you can focus on the drive."})]}),f.jsx("div",{className:"relative h-[500px] lg:h-auto overflow-hidden group",children:f.jsx("img",{src:"https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?auto=format&fit=crop&q=80&w=1200",alt:"Road trip landscape",className:"absolute inset-0 w-full h-full object-cover transition-transform duration-[2s] group-hover:scale-105 brightness-90"})})]})]}),wc="bihh_roadtrips_fallback",Ec="bihh_roadtrips_sync",Kt={getRoadtrips:()=>{const n=localStorage.getItem(wc);if(n)try{return JSON.parse(n)}catch(s){console.error("Error parsing local roadtrips:",s)}const e=[];return localStorage.setItem(wc,JSON.stringify(e)),e},setRoadtrips:n=>{localStorage.setItem(wc,JSON.stringify(n)),window.dispatchEvent(new CustomEvent(Ec))},addRoadtrip:n=>{const e=Kt.getRoadtrips(),s={...n,id:Date.now(),created_at:new Date().toISOString()};return Kt.setRoadtrips([s,...e]),s},updateRoadtrip:(n,e)=>{const r=Kt.getRoadtrips().map(a=>a.id===n?{...a,...e}:a);return Kt.setRoadtrips(r),r.find(a=>a.id===n)},deleteRoadtrip:n=>{const s=Kt.getRoadtrips().filter(r=>r.id!==n);Kt.setRoadtrips(s)},subscribe:n=>(window.addEventListener(Ec,n),()=>window.removeEventListener(Ec,n))},Mv=()=>{const[n,e]=$.useState([]),[s,r]=$.useState(!0),[a,l]=$.useState(null),[c,m]=$.useState(!1),y=$.useCallback(()=>{e(Kt.getRoadtrips())},[]);return $.useEffect(()=>{const _=async()=>{try{r(!0);const{data:b,error:E}=await Ue.from("roadtrips").select("*").order("created_at",{ascending:!1});if(E)console.warn("Database error, using localRoadtripStore:",E.message),y(),m(!0);else{const C=(b||[]).map(T=>({...T,image:T.image_url||T.image}));e(C),m(!1)}}catch{console.warn("Connection error, using localRoadtripStore"),y(),m(!0)}finally{r(!1)}};if(_(),c)return Kt.subscribe(y);{const b=Ue.channel("roadtrips-realtime").on("postgres_changes",{event:"*",schema:"public",table:"roadtrips"},()=>_()).subscribe();return()=>{Ue.removeChannel(b)}}},[c,y]),{roadtrips:n,loading:s,error:a,addRoadtrip:async _=>{try{const b={title:_.title,excerpt:_.excerpt,content:_.content,image_url:_.image,price:_.price,duration:_.duration,date:_.date},{data:E,error:C}=await Ue.from("roadtrips").insert([b]).select().single();if(C){console.warn("Supabase insert failed, using fallback");const T=Kt.addRoadtrip(_);return m(!0),y(),{data:T,error:null}}return{data:E,error:null}}catch{console.warn("Add roadtrip exception, using fallback");const E=Kt.addRoadtrip(_);return m(!0),y(),{data:E,error:null}}},deleteRoadtrip:async _=>{try{const{error:b}=await Ue.from("roadtrips").delete().eq("id",_);return b?(typeof _=="number"&&(Kt.deleteRoadtrip(_),m(!0),y()),{error:null}):{error:null}}catch{return typeof _=="number"&&(Kt.deleteRoadtrip(_),m(!0),y()),{error:null}}},usingFallback:c}},AE=({onArticleClick:n,onBookTrip:e})=>{const{roadtrips:s,loading:r}=Mv();return r&&s.length===0?f.jsx("section",{id:"journal",className:"bg-[#2C2A26] py-32 px-6 text-center text-white/50",children:f.jsx("p",{className:"font-serif italic text-xl",children:"Discovering new horizons..."})}):s.length===0?f.jsx("section",{id:"journal",className:"bg-[#2C2A26] py-32 px-6 text-center text-white/50",children:f.jsx("p",{className:"font-serif italic text-xl",children:"Our next collection of roadtrips is coming soon."})}):f.jsx("section",{id:"journal",className:"bg-[#2C2A26] py-32 px-6 md:px-12 text-white",children:f.jsxs("div",{className:"max-w-[1800px] mx-auto",children:[f.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end mb-20 pb-8 border-b border-white/20",children:f.jsxs("div",{children:[f.jsx("span",{className:"block text-xs font-bold uppercase tracking-[0.2em] text-[#D6D1C7] mb-4",children:"Experiences"}),f.jsx("h2",{className:"text-4xl md:text-6xl font-serif text-white",children:"Curated Roadtrips"})]})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12",children:s.map(a=>f.jsxs("div",{className:"group cursor-pointer flex flex-col text-left",children:[f.jsxs("div",{className:"w-full aspect-[4/3] overflow-hidden mb-8 bg-[#1A1816] relative",onClick:()=>n(a),children:[f.jsx("img",{src:a.image,alt:a.title,className:"w-full h-full object-cover grayscale transition-all duration-1000 group-hover:grayscale-0 group-hover:scale-105 opacity-80 group-hover:opacity-100"}),f.jsx("button",{onClick:l=>{l.stopPropagation(),e(a)},className:"absolute bottom-4 right-4 bg-white text-[#2C2A26] px-4 py-2 text-xs font-bold uppercase tracking-widest opacity-0 group-hover:opacity-100 transition-opacity duration-300 hover:bg-[#F5F2EB]",children:"Book Trip"})]}),f.jsxs("div",{className:"flex flex-col flex-1 text-left",children:[f.jsxs("div",{className:"flex items-center gap-4 text-xs font-medium uppercase tracking-widest text-[#D6D1C7] mb-3",children:[f.jsx("span",{children:a.date}),f.jsx("span",{children:""}),f.jsx("span",{children:a.duration})]}),f.jsx("h3",{className:"text-2xl font-serif text-white mb-4 leading-tight group-hover:underline decoration-1 underline-offset-4",children:a.title}),f.jsx("p",{className:"text-[#A8A29E] font-light leading-relaxed mb-6 line-clamp-2",children:a.excerpt}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("span",{className:"text-xl font-bold bg-[#F5F2EB] text-[#2C2A26] px-3 py-1",children:["KSh ",a.price.toLocaleString()]}),f.jsx("button",{className:"text-sm font-medium uppercase tracking-widest text-white border-b border-white/50 pb-1 hover:border-white transition-colors",children:"View Itinerary"})]})]})]},a.id))})]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let NE,RE;function DE(){return{geminiUrl:NE,vertexUrl:RE}}function ME(n,e,s,r){var a,l;if(!(n!=null&&n.baseUrl)){const c=DE();return e?(a=c.vertexUrl)!==null&&a!==void 0?a:s:(l=c.geminiUrl)!==null&&l!==void 0?l:r}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rn{}function Q(n,e){const s=/\{([^}]+)\}/g;return n.replace(s,(r,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const l=e[a];return l!=null?String(l):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function h(n,e,s){for(let l=0;l<e.length-1;l++){const c=e[l];if(c.endsWith("[]")){const m=c.slice(0,-2);if(!(m in n))if(Array.isArray(s))n[m]=Array.from({length:s.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(n[m])){const y=n[m];if(Array.isArray(s))for(let p=0;p<y.length;p++){const x=y[p];h(x,e.slice(l+1),s[p])}else for(const p of y)h(p,e.slice(l+1),s)}return}else if(c.endsWith("[0]")){const m=c.slice(0,-3);m in n||(n[m]=[{}]);const y=n[m];h(y[0],e.slice(l+1),s);return}(!n[c]||typeof n[c]!="object")&&(n[c]={}),n=n[c]}const r=e[e.length-1],a=n[r];if(a!==void 0){if(!s||typeof s=="object"&&Object.keys(s).length===0||s===a)return;if(typeof a=="object"&&typeof s=="object"&&a!==null&&s!==null)Object.assign(a,s);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof s=="object"&&s!==null&&!Array.isArray(s)?Object.assign(n,s):n[r]=s}function d(n,e,s=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let r=0;r<e.length;r++){if(typeof n!="object"||n===null)return s;const a=e[r];if(a.endsWith("[]")){const l=a.slice(0,-2);if(l in n){const c=n[l];return Array.isArray(c)?c.map(m=>d(m,e.slice(r+1),s)):s}else return s}else n=n[a]}return n}catch(r){if(r instanceof TypeError)return s;throw r}}function kE(n,e){for(const[s,r]of Object.entries(e)){const a=s.split("."),l=r.split("."),c=new Set;let m=-1;for(let y=0;y<a.length;y++)if(a[y]==="*"){m=y;break}if(m!==-1&&l.length>m)for(let y=m;y<l.length;y++){const p=l[y];p!=="*"&&!p.endsWith("[]")&&!p.endsWith("[0]")&&c.add(p)}Bc(n,a,l,0,c)}}function Bc(n,e,s,r,a){if(r>=e.length||typeof n!="object"||n===null)return;const l=e[r];if(l.endsWith("[]")){const c=l.slice(0,-2),m=n;if(c in m&&Array.isArray(m[c]))for(const y of m[c])Bc(y,e,s,r+1,a)}else if(l==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const c=n,m=Object.keys(c).filter(p=>!p.startsWith("_")&&!a.has(p)),y={};for(const p of m)y[p]=c[p];for(const[p,x]of Object.entries(y)){const _=[];for(const b of s.slice(r))b==="*"?_.push(p):_.push(b);h(c,_,x)}for(const p of m)delete c[p]}}else{const c=n;l in c&&Bc(c[l],e,s,r+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function od(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IE(n){const e={},s=d(n,["operationName"]);s!=null&&h(e,["operationName"],s);const r=d(n,["resourceName"]);return r!=null&&h(e,["_url","resourceName"],r),e}function UE(n){const e={},s=d(n,["name"]);s!=null&&h(e,["name"],s);const r=d(n,["metadata"]);r!=null&&h(e,["metadata"],r);const a=d(n,["done"]);a!=null&&h(e,["done"],a);const l=d(n,["error"]);l!=null&&h(e,["error"],l);const c=d(n,["response","generateVideoResponse"]);return c!=null&&h(e,["response"],jE(c)),e}function PE(n){const e={},s=d(n,["name"]);s!=null&&h(e,["name"],s);const r=d(n,["metadata"]);r!=null&&h(e,["metadata"],r);const a=d(n,["done"]);a!=null&&h(e,["done"],a);const l=d(n,["error"]);l!=null&&h(e,["error"],l);const c=d(n,["response"]);return c!=null&&h(e,["response"],OE(c)),e}function jE(n){const e={},s=d(n,["generatedSamples"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>LE(c))),h(e,["generatedVideos"],l)}const r=d(n,["raiMediaFilteredCount"]);r!=null&&h(e,["raiMediaFilteredCount"],r);const a=d(n,["raiMediaFilteredReasons"]);return a!=null&&h(e,["raiMediaFilteredReasons"],a),e}function OE(n){const e={},s=d(n,["videos"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>BE(c))),h(e,["generatedVideos"],l)}const r=d(n,["raiMediaFilteredCount"]);r!=null&&h(e,["raiMediaFilteredCount"],r);const a=d(n,["raiMediaFilteredReasons"]);return a!=null&&h(e,["raiMediaFilteredReasons"],a),e}function LE(n){const e={},s=d(n,["video"]);return s!=null&&h(e,["video"],zE(s)),e}function BE(n){const e={},s=d(n,["_self"]);return s!=null&&h(e,["video"],$E(s)),e}function qE(n){const e={},s=d(n,["operationName"]);return s!=null&&h(e,["_url","operationName"],s),e}function VE(n){const e={},s=d(n,["operationName"]);return s!=null&&h(e,["_url","operationName"],s),e}function HE(n){const e={},s=d(n,["name"]);s!=null&&h(e,["name"],s);const r=d(n,["metadata"]);r!=null&&h(e,["metadata"],r);const a=d(n,["done"]);a!=null&&h(e,["done"],a);const l=d(n,["error"]);l!=null&&h(e,["error"],l);const c=d(n,["response"]);return c!=null&&h(e,["response"],GE(c)),e}function GE(n){const e={},s=d(n,["sdkHttpResponse"]);s!=null&&h(e,["sdkHttpResponse"],s);const r=d(n,["parent"]);r!=null&&h(e,["parent"],r);const a=d(n,["documentName"]);return a!=null&&h(e,["documentName"],a),e}function kv(n){const e={},s=d(n,["name"]);s!=null&&h(e,["name"],s);const r=d(n,["metadata"]);r!=null&&h(e,["metadata"],r);const a=d(n,["done"]);a!=null&&h(e,["done"],a);const l=d(n,["error"]);l!=null&&h(e,["error"],l);const c=d(n,["response"]);return c!=null&&h(e,["response"],FE(c)),e}function FE(n){const e={},s=d(n,["sdkHttpResponse"]);s!=null&&h(e,["sdkHttpResponse"],s);const r=d(n,["parent"]);r!=null&&h(e,["parent"],r);const a=d(n,["documentName"]);return a!=null&&h(e,["documentName"],a),e}function zE(n){const e={},s=d(n,["uri"]);s!=null&&h(e,["uri"],s);const r=d(n,["encodedVideo"]);r!=null&&h(e,["videoBytes"],od(r));const a=d(n,["encoding"]);return a!=null&&h(e,["mimeType"],a),e}function $E(n){const e={},s=d(n,["gcsUri"]);s!=null&&h(e,["uri"],s);const r=d(n,["bytesBase64Encoded"]);r!=null&&h(e,["videoBytes"],od(r));const a=d(n,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var lg;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(lg||(lg={}));var ug;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(ug||(ug={}));var cg;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(cg||(cg={}));var is;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(is||(is={}));var dg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(dg||(dg={}));var fg;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(fg||(fg={}));var hg;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(hg||(hg={}));var mg;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(mg||(mg={}));var pg;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(pg||(pg={}));var gg;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(gg||(gg={}));var yg;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(yg||(yg={}));var vg;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(vg||(vg={}));var xg;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(xg||(xg={}));var _g;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(_g||(_g={}));var bg;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(bg||(bg={}));var wg;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(wg||(wg={}));var Eg;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Eg||(Eg={}));var Sg;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Sg||(Sg={}));var Cg;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Cg||(Cg={}));var Na;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Na||(Na={}));var Tg;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Tg||(Tg={}));var Ag;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Ag||(Ag={}));var Ng;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ng||(Ng={}));var qc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(qc||(qc={}));var Rg;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Rg||(Rg={}));var Dg;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Dg||(Dg={}));var Mg;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Mg||(Mg={}));var kg;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(kg||(kg={}));var Ig;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Ig||(Ig={}));var Ug;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Ug||(Ug={}));var Pg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(Pg||(Pg={}));var jg;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(jg||(jg={}));var Og;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Og||(Og={}));var Lg;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Lg||(Lg={}));var Bg;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Bg||(Bg={}));var qg;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(qg||(qg={}));var Vg;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Vg||(Vg={}));var Hg;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Hg||(Hg={}));var Gg;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Gg||(Gg={}));var Fg;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(Fg||(Fg={}));var zg;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(zg||(zg={}));var $g;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})($g||($g={}));var Jg;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Jg||(Jg={}));var Kg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(Kg||(Kg={}));var Yg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Yg||(Yg={}));var Xg;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Xg||(Xg={}));var Qg;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Qg||(Qg={}));var Wg;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Wg||(Wg={}));var Zg;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Zg||(Zg={}));var ey;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ey||(ey={}));var ty;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(ty||(ty={}));var ny;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ny||(ny={}));var sy;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(sy||(sy={}));var iy;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(iy||(iy={}));var Ti;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Ti||(Ti={}));class Vc{constructor(e){const s={};for(const r of e.headers.entries())s[r[0]]=r[1];this.headers=s,this.responseInternal=e}json(){return this.responseInternal.json()}}class kr{get text(){var e,s,r,a,l,c,m,y;if(((a=(r=(s=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||s===void 0?void 0:s.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",x=!1;const _=[];for(const b of(y=(m=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[E,C]of Object.entries(b))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(C!==null||C!==void 0)&&_.push(E);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;x=!0,p+=b.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?p:void 0}get data(){var e,s,r,a,l,c,m,y;if(((a=(r=(s=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||s===void 0?void 0:s.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const x=[];for(const _ of(y=(m=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[b,E]of Object.entries(_))b!=="inlineData"&&(E!==null||E!==void 0)&&x.push(b);_.inlineData&&typeof _.inlineData.data=="string"&&(p+=atob(_.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,s,r,a,l,c,m,y;if(((a=(r=(s=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||s===void 0?void 0:s.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(y=(m=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,s,r,a,l,c,m,y,p;if(((a=(r=(s=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||s===void 0?void 0:s.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(y=(m=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((x==null?void 0:x.length)!==0)return(p=x==null?void 0:x[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,s,r,a,l,c,m,y,p;if(((a=(r=(s=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||s===void 0?void 0:s.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(y=(m=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((x==null?void 0:x.length)!==0)return(p=x==null?void 0:x[0])===null||p===void 0?void 0:p.output}}class ry{}class oy{}class JE{}class KE{}class YE{}class XE{}class ay{}class ly{}class uy{}class QE{}class Ra{_fromAPIResponse({apiResponse:e,_isVertexAI:s}){const r=new Ra;let a;const l=e;return s?a=PE(l):a=UE(l),Object.assign(r,a),r}}class cy{}class dy{}class fy{}class WE{}class ZE{}class eS{}class ad{_fromAPIResponse({apiResponse:e,_isVertexAI:s}){const r=new ad,l=HE(e);return Object.assign(r,l),r}}class tS{}class nS{}class sS{}class hy{}class iS{get text(){var e,s,r;let a="",l=!1;const c=[];for(const m of(r=(s=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||s===void 0?void 0:s.parts)!==null&&r!==void 0?r:[]){for(const[y,p]of Object.entries(m))y!=="text"&&y!=="thought"&&p!==null&&c.push(y);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;l=!0,a+=m.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?a:void 0}get data(){var e,s,r;let a="";const l=[];for(const c of(r=(s=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||s===void 0?void 0:s.parts)!==null&&r!==void 0?r:[]){for(const[m,y]of Object.entries(c))m!=="inlineData"&&y!==null&&l.push(m);c.inlineData&&typeof c.inlineData.data=="string"&&(a+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class rS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ld{_fromAPIResponse({apiResponse:e,_isVertexAI:s}){const r=new ld,l=kv(e);return Object.assign(r,l),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Se(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const s=e.split("/",2);return`publishers/${s[0]}/models/${s[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Iv(n,e){const s=Se(n,e);return s?s.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${s}`:s.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${s}`:s:""}function Uv(n){return Array.isArray(n)?n.map(e=>Da(e)):[Da(n)]}function Da(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Pv(n){const e=Da(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function jv(n){const e=Da(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function my(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Ov(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>my(e)):[my(n)]}function Hc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function py(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function gy(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function ft(n){if(n==null)throw new Error("ContentUnion is required");return Hc(n)?n:{role:"user",parts:Ov(n)}}function ud(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(s=>{const r=ft(s);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(n.isVertexAI()){const s=ft(e);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]}return Array.isArray(e)?e.map(s=>ft(s)):[ft(e)]}function Yt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(py(n)||gy(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ft(n)]}const e=[],s=[],r=Hc(n[0]);for(const a of n){const l=Hc(a);if(l!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(a);else{if(py(a)||gy(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");s.push(a)}}return r||e.push({role:"user",parts:Ov(s)}),e}function oS(n,e){n.includes("null")&&(e.nullable=!0);const s=n.filter(r=>r!=="null");if(s.length===1)e.type=Object.values(is).includes(s[0].toUpperCase())?s[0].toUpperCase():is.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of s)e.anyOf.push({type:Object.values(is).includes(r.toUpperCase())?r.toUpperCase():is.TYPE_UNSPECIFIED})}}function Ni(n){const e={},s=["items"],r=["anyOf"],a=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=n.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,n=l[1]):l[1].type==="null"&&(e.nullable=!0,n=l[0])),n.type instanceof Array&&oS(n.type,e);for(const[c,m]of Object.entries(n))if(m!=null)if(c=="type"){if(m==="null")throw new Error("type: null can not be the only possible type for the field.");if(m instanceof Array)continue;e.type=Object.values(is).includes(m.toUpperCase())?m.toUpperCase():is.TYPE_UNSPECIFIED}else if(s.includes(c))e[c]=Ni(m);else if(r.includes(c)){const y=[];for(const p of m){if(p.type=="null"){e.nullable=!0;continue}y.push(Ni(p))}e[c]=y}else if(a.includes(c)){const y={};for(const[p,x]of Object.entries(m))y[p]=Ni(x);e[c]=y}else{if(c==="additionalProperties")continue;e[c]=m}return e}function cd(n){return Ni(n)}function dd(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function fd(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Ui(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ni(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ni(e.response));return n}function Pi(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const s of n)e.push(s);return e}function aS(n,e,s,r=1){const a=!e.startsWith(`${s}/`)&&e.split("/").length===r;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${s}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:a?`projects/${n.getProject()}/locations/${n.getLocation()}/${s}/${e}`:e:a?`${s}/${e}`:e}function Dn(n,e){if(typeof e!="string")throw new Error("name must be a string");return aS(n,e,"cachedContents")}function Lv(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function os(n){return od(n)}function lS(n){return n!=null&&typeof n=="object"&&"name"in n}function uS(n){return n!=null&&typeof n=="object"&&"video"in n}function cS(n){return n!=null&&typeof n=="object"&&"uri"in n}function Bv(n){var e;let s;if(lS(n)&&(s=n.name),!(cS(n)&&(s=n.uri,s===void 0))&&!(uS(n)&&(s=(e=n.video)===null||e===void 0?void 0:e.uri,s===void 0))){if(typeof n=="string"&&(s=n),s===void 0)throw new Error("Could not extract file name from the provided input.");if(s.startsWith("https://")){const a=s.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${s}`);s=a[0]}else s.startsWith("files/")&&(s=s.split("files/")[1]);return s}}function qv(n,e){let s;return n.isVertexAI()?s=e?"publishers/google/models":"models":s=e?"models":"tunedModels",s}function Vv(n){for(const e of["models","tunedModels","publisherModels"])if(dS(n,e))return n[e];return[]}function dS(n,e){return n!==null&&typeof n=="object"&&e in n}function fS(n,e={}){const s=n,r={name:s.name,description:s.description,parametersJsonSchema:s.inputSchema};return s.outputSchema&&(r.responseJsonSchema=s.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function hS(n,e={}){const s=[],r=new Set;for(const a of n){const l=a.name;if(r.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);r.add(l);const c=fS(a,e);c.functionDeclarations&&s.push(...c.functionDeclarations)}return{functionDeclarations:s}}function Hv(n,e){let s;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))s={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))s={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))s={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");s={inlinedRequests:e}}else s=e;const r=[s.gcsUri,s.bigqueryUri].filter(Boolean).length,a=[s.inlinedRequests,s.fileName].filter(Boolean).length;if(n.isVertexAI()){if(a>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return s}function mS(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Gv(n){if(typeof n!="object"||n===null)return{};const e=n,s=e.inlinedResponses;if(typeof s!="object"||s===null)return n;const a=s.inlinedResponses;if(!Array.isArray(a)||a.length===0)return n;let l=!1;for(const c of a){if(typeof c!="object"||c===null)continue;const y=c.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function ji(n,e){const s=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(s))return s.split("/").pop();throw new Error(`Invalid batch job name: ${s}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(s))return s.split("/").pop();if(/^\d+$/.test(s))return s;throw new Error(`Invalid batch job name: ${s}.`)}function Fv(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pS(n){const e={},s=d(n,["responsesFile"]);s!=null&&h(e,["fileName"],s);const r=d(n,["inlinedResponses","inlinedResponses"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>YS(c))),h(e,["inlinedResponses"],l)}const a=d(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["inlinedEmbedContentResponses"],l)}return e}function gS(n){const e={},s=d(n,["predictionsFormat"]);s!=null&&h(e,["format"],s);const r=d(n,["gcsDestination","outputUriPrefix"]);r!=null&&h(e,["gcsUri"],r);const a=d(n,["bigqueryDestination","outputUri"]);return a!=null&&h(e,["bigqueryUri"],a),e}function yS(n){const e={},s=d(n,["format"]);s!=null&&h(e,["predictionsFormat"],s);const r=d(n,["gcsUri"]);r!=null&&h(e,["gcsDestination","outputUriPrefix"],r);const a=d(n,["bigqueryUri"]);if(a!=null&&h(e,["bigqueryDestination","outputUri"],a),d(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ba(n){const e={},s=d(n,["name"]);s!=null&&h(e,["name"],s);const r=d(n,["metadata","displayName"]);r!=null&&h(e,["displayName"],r);const a=d(n,["metadata","state"]);a!=null&&h(e,["state"],Fv(a));const l=d(n,["metadata","createTime"]);l!=null&&h(e,["createTime"],l);const c=d(n,["metadata","endTime"]);c!=null&&h(e,["endTime"],c);const m=d(n,["metadata","updateTime"]);m!=null&&h(e,["updateTime"],m);const y=d(n,["metadata","model"]);y!=null&&h(e,["model"],y);const p=d(n,["metadata","output"]);return p!=null&&h(e,["dest"],pS(Gv(p))),e}function Gc(n){const e={},s=d(n,["name"]);s!=null&&h(e,["name"],s);const r=d(n,["displayName"]);r!=null&&h(e,["displayName"],r);const a=d(n,["state"]);a!=null&&h(e,["state"],Fv(a));const l=d(n,["error"]);l!=null&&h(e,["error"],l);const c=d(n,["createTime"]);c!=null&&h(e,["createTime"],c);const m=d(n,["startTime"]);m!=null&&h(e,["startTime"],m);const y=d(n,["endTime"]);y!=null&&h(e,["endTime"],y);const p=d(n,["updateTime"]);p!=null&&h(e,["updateTime"],p);const x=d(n,["model"]);x!=null&&h(e,["model"],x);const _=d(n,["inputConfig"]);_!=null&&h(e,["src"],vS(_));const b=d(n,["outputConfig"]);b!=null&&h(e,["dest"],gS(Gv(b)));const E=d(n,["completionStats"]);return E!=null&&h(e,["completionStats"],E),e}function vS(n){const e={},s=d(n,["instancesFormat"]);s!=null&&h(e,["format"],s);const r=d(n,["gcsSource","uris"]);r!=null&&h(e,["gcsUri"],r);const a=d(n,["bigquerySource","inputUri"]);return a!=null&&h(e,["bigqueryUri"],a),e}function xS(n,e){const s={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(e,["fileName"]);r!=null&&h(s,["fileName"],r);const a=d(e,["inlinedRequests"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>KS(n,c))),h(s,["requests","requests"],l)}return s}function _S(n){const e={},s=d(n,["format"]);s!=null&&h(e,["instancesFormat"],s);const r=d(n,["gcsUri"]);r!=null&&h(e,["gcsSource","uris"],r);const a=d(n,["bigqueryUri"]);if(a!=null&&h(e,["bigquerySource","inputUri"],a),d(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function bS(n){const e={},s=d(n,["data"]);if(s!=null&&h(e,["data"],s),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function wS(n,e){const s={},r=d(e,["name"]);return r!=null&&h(s,["_url","name"],ji(n,r)),s}function ES(n,e){const s={},r=d(e,["name"]);return r!=null&&h(s,["_url","name"],ji(n,r)),s}function SS(n){const e={},s=d(n,["content"]);s!=null&&h(e,["content"],s);const r=d(n,["citationMetadata"]);r!=null&&h(e,["citationMetadata"],CS(r));const a=d(n,["tokenCount"]);a!=null&&h(e,["tokenCount"],a);const l=d(n,["finishReason"]);l!=null&&h(e,["finishReason"],l);const c=d(n,["avgLogprobs"]);c!=null&&h(e,["avgLogprobs"],c);const m=d(n,["groundingMetadata"]);m!=null&&h(e,["groundingMetadata"],m);const y=d(n,["index"]);y!=null&&h(e,["index"],y);const p=d(n,["logprobsResult"]);p!=null&&h(e,["logprobsResult"],p);const x=d(n,["safetyRatings"]);if(x!=null){let b=x;Array.isArray(b)&&(b=b.map(E=>E)),h(e,["safetyRatings"],b)}const _=d(n,["urlContextMetadata"]);return _!=null&&h(e,["urlContextMetadata"],_),e}function CS(n){const e={},s=d(n,["citationSources"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(a=>a)),h(e,["citations"],r)}return e}function zv(n){const e={},s=d(n,["parts"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>nC(l))),h(e,["parts"],a)}const r=d(n,["role"]);return r!=null&&h(e,["role"],r),e}function TS(n,e){const s={},r=d(n,["displayName"]);if(e!==void 0&&r!=null&&h(e,["batch","displayName"],r),d(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return s}function AS(n,e){const s={},r=d(n,["displayName"]);e!==void 0&&r!=null&&h(e,["displayName"],r);const a=d(n,["dest"]);return e!==void 0&&a!=null&&h(e,["outputConfig"],yS(mS(a))),s}function yy(n,e){const s={},r=d(e,["model"]);r!=null&&h(s,["_url","model"],Se(n,r));const a=d(e,["src"]);a!=null&&h(s,["batch","inputConfig"],xS(n,Hv(n,a)));const l=d(e,["config"]);return l!=null&&TS(l,s),s}function NS(n,e){const s={},r=d(e,["model"]);r!=null&&h(s,["model"],Se(n,r));const a=d(e,["src"]);a!=null&&h(s,["inputConfig"],_S(Hv(n,a)));const l=d(e,["config"]);return l!=null&&AS(l,s),s}function RS(n,e){const s={},r=d(n,["displayName"]);return e!==void 0&&r!=null&&h(e,["batch","displayName"],r),s}function DS(n,e){const s={},r=d(e,["model"]);r!=null&&h(s,["_url","model"],Se(n,r));const a=d(e,["src"]);a!=null&&h(s,["batch","inputConfig"],OS(n,a));const l=d(e,["config"]);return l!=null&&RS(l,s),s}function MS(n,e){const s={},r=d(e,["name"]);return r!=null&&h(s,["_url","name"],ji(n,r)),s}function kS(n,e){const s={},r=d(e,["name"]);return r!=null&&h(s,["_url","name"],ji(n,r)),s}function IS(n){const e={},s=d(n,["sdkHttpResponse"]);s!=null&&h(e,["sdkHttpResponse"],s);const r=d(n,["name"]);r!=null&&h(e,["name"],r);const a=d(n,["done"]);a!=null&&h(e,["done"],a);const l=d(n,["error"]);return l!=null&&h(e,["error"],l),e}function US(n){const e={},s=d(n,["sdkHttpResponse"]);s!=null&&h(e,["sdkHttpResponse"],s);const r=d(n,["name"]);r!=null&&h(e,["name"],r);const a=d(n,["done"]);a!=null&&h(e,["done"],a);const l=d(n,["error"]);return l!=null&&h(e,["error"],l),e}function PS(n,e){const s={},r=d(e,["contents"]);if(r!=null){let l=ud(n,r);Array.isArray(l)&&(l=l.map(c=>c)),h(s,["requests[]","request","content"],l)}const a=d(e,["config"]);return a!=null&&(h(s,["_self"],jS(a,s)),kE(s,{"requests[].*":"requests[].request.*"})),s}function jS(n,e){const s={},r=d(n,["taskType"]);e!==void 0&&r!=null&&h(e,["requests[]","taskType"],r);const a=d(n,["title"]);e!==void 0&&a!=null&&h(e,["requests[]","title"],a);const l=d(n,["outputDimensionality"]);if(e!==void 0&&l!=null&&h(e,["requests[]","outputDimensionality"],l),d(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function OS(n,e){const s={},r=d(e,["fileName"]);r!=null&&h(s,["file_name"],r);const a=d(e,["inlinedRequests"]);return a!=null&&h(s,["requests"],PS(n,a)),s}function LS(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(n,["fileUri"]);s!=null&&h(e,["fileUri"],s);const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function BS(n){const e={},s=d(n,["id"]);s!=null&&h(e,["id"],s);const r=d(n,["args"]);r!=null&&h(e,["args"],r);const a=d(n,["name"]);if(a!=null&&h(e,["name"],a),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function qS(n){const e={},s=d(n,["mode"]);s!=null&&h(e,["mode"],s);const r=d(n,["allowedFunctionNames"]);if(r!=null&&h(e,["allowedFunctionNames"],r),d(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function VS(n,e,s){const r={},a=d(e,["systemInstruction"]);s!==void 0&&a!=null&&h(s,["systemInstruction"],zv(ft(a)));const l=d(e,["temperature"]);l!=null&&h(r,["temperature"],l);const c=d(e,["topP"]);c!=null&&h(r,["topP"],c);const m=d(e,["topK"]);m!=null&&h(r,["topK"],m);const y=d(e,["candidateCount"]);y!=null&&h(r,["candidateCount"],y);const p=d(e,["maxOutputTokens"]);p!=null&&h(r,["maxOutputTokens"],p);const x=d(e,["stopSequences"]);x!=null&&h(r,["stopSequences"],x);const _=d(e,["responseLogprobs"]);_!=null&&h(r,["responseLogprobs"],_);const b=d(e,["logprobs"]);b!=null&&h(r,["logprobs"],b);const E=d(e,["presencePenalty"]);E!=null&&h(r,["presencePenalty"],E);const C=d(e,["frequencyPenalty"]);C!=null&&h(r,["frequencyPenalty"],C);const T=d(e,["seed"]);T!=null&&h(r,["seed"],T);const A=d(e,["responseMimeType"]);A!=null&&h(r,["responseMimeType"],A);const U=d(e,["responseSchema"]);U!=null&&h(r,["responseSchema"],cd(U));const O=d(e,["responseJsonSchema"]);if(O!=null&&h(r,["responseJsonSchema"],O),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=d(e,["safetySettings"]);if(s!==void 0&&k!=null){let me=k;Array.isArray(me)&&(me=me.map(tt=>sC(tt))),h(s,["safetySettings"],me)}const F=d(e,["tools"]);if(s!==void 0&&F!=null){let me=Pi(F);Array.isArray(me)&&(me=me.map(tt=>rC(Ui(tt)))),h(s,["tools"],me)}const Y=d(e,["toolConfig"]);if(s!==void 0&&Y!=null&&h(s,["toolConfig"],iC(Y)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const J=d(e,["cachedContent"]);s!==void 0&&J!=null&&h(s,["cachedContent"],Dn(n,J));const z=d(e,["responseModalities"]);z!=null&&h(r,["responseModalities"],z);const de=d(e,["mediaResolution"]);de!=null&&h(r,["mediaResolution"],de);const ee=d(e,["speechConfig"]);if(ee!=null&&h(r,["speechConfig"],dd(ee)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ve=d(e,["thinkingConfig"]);ve!=null&&h(r,["thinkingConfig"],ve);const Ae=d(e,["imageConfig"]);return Ae!=null&&h(r,["imageConfig"],JS(Ae)),r}function HS(n){const e={},s=d(n,["sdkHttpResponse"]);s!=null&&h(e,["sdkHttpResponse"],s);const r=d(n,["candidates"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(p=>SS(p))),h(e,["candidates"],y)}const a=d(n,["modelVersion"]);a!=null&&h(e,["modelVersion"],a);const l=d(n,["promptFeedback"]);l!=null&&h(e,["promptFeedback"],l);const c=d(n,["responseId"]);c!=null&&h(e,["responseId"],c);const m=d(n,["usageMetadata"]);return m!=null&&h(e,["usageMetadata"],m),e}function GS(n,e){const s={},r=d(e,["name"]);return r!=null&&h(s,["_url","name"],ji(n,r)),s}function FS(n,e){const s={},r=d(e,["name"]);return r!=null&&h(s,["_url","name"],ji(n,r)),s}function zS(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=d(n,["enableWidget"]);return s!=null&&h(e,["enableWidget"],s),e}function $S(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=d(n,["timeRangeFilter"]);return s!=null&&h(e,["timeRangeFilter"],s),e}function JS(n){const e={},s=d(n,["aspectRatio"]);s!=null&&h(e,["aspectRatio"],s);const r=d(n,["imageSize"]);if(r!=null&&h(e,["imageSize"],r),d(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function KS(n,e){const s={},r=d(e,["model"]);r!=null&&h(s,["request","model"],Se(n,r));const a=d(e,["contents"]);if(a!=null){let m=Yt(a);Array.isArray(m)&&(m=m.map(y=>zv(y))),h(s,["request","contents"],m)}const l=d(e,["metadata"]);l!=null&&h(s,["metadata"],l);const c=d(e,["config"]);return c!=null&&h(s,["request","generationConfig"],VS(n,c,d(s,["request"],{}))),s}function YS(n){const e={},s=d(n,["response"]);s!=null&&h(e,["response"],HS(s));const r=d(n,["error"]);return r!=null&&h(e,["error"],r),e}function XS(n,e){const s={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);if(e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),d(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return s}function QS(n,e){const s={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);e!==void 0&&a!=null&&h(e,["_query","pageToken"],a);const l=d(n,["filter"]);return e!==void 0&&l!=null&&h(e,["_query","filter"],l),s}function WS(n){const e={},s=d(n,["config"]);return s!=null&&XS(s,e),e}function ZS(n){const e={},s=d(n,["config"]);return s!=null&&QS(s,e),e}function eC(n){const e={},s=d(n,["sdkHttpResponse"]);s!=null&&h(e,["sdkHttpResponse"],s);const r=d(n,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const a=d(n,["operations"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>ba(c))),h(e,["batchJobs"],l)}return e}function tC(n){const e={},s=d(n,["sdkHttpResponse"]);s!=null&&h(e,["sdkHttpResponse"],s);const r=d(n,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const a=d(n,["batchPredictionJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Gc(c))),h(e,["batchJobs"],l)}return e}function nC(n){const e={},s=d(n,["mediaResolution"]);s!=null&&h(e,["mediaResolution"],s);const r=d(n,["codeExecutionResult"]);r!=null&&h(e,["codeExecutionResult"],r);const a=d(n,["executableCode"]);a!=null&&h(e,["executableCode"],a);const l=d(n,["fileData"]);l!=null&&h(e,["fileData"],LS(l));const c=d(n,["functionCall"]);c!=null&&h(e,["functionCall"],BS(c));const m=d(n,["functionResponse"]);m!=null&&h(e,["functionResponse"],m);const y=d(n,["inlineData"]);y!=null&&h(e,["inlineData"],bS(y));const p=d(n,["text"]);p!=null&&h(e,["text"],p);const x=d(n,["thought"]);x!=null&&h(e,["thought"],x);const _=d(n,["thoughtSignature"]);_!=null&&h(e,["thoughtSignature"],_);const b=d(n,["videoMetadata"]);return b!=null&&h(e,["videoMetadata"],b),e}function sC(n){const e={},s=d(n,["category"]);if(s!=null&&h(e,["category"],s),d(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(n,["threshold"]);return r!=null&&h(e,["threshold"],r),e}function iC(n){const e={},s=d(n,["functionCallingConfig"]);s!=null&&h(e,["functionCallingConfig"],qS(s));const r=d(n,["retrievalConfig"]);return r!=null&&h(e,["retrievalConfig"],r),e}function rC(n){const e={},s=d(n,["functionDeclarations"]);if(s!=null){let x=s;Array.isArray(x)&&(x=x.map(_=>_)),h(e,["functionDeclarations"],x)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearchRetrieval"]);r!=null&&h(e,["googleSearchRetrieval"],r);const a=d(n,["computerUse"]);a!=null&&h(e,["computerUse"],a);const l=d(n,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=d(n,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=d(n,["googleMaps"]);m!=null&&h(e,["googleMaps"],zS(m));const y=d(n,["googleSearch"]);y!=null&&h(e,["googleSearch"],$S(y));const p=d(n,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Nn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Nn||(Nn={}));class Is{constructor(e,s,r,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=s,this.init(e,r,a)}init(e,s,r){var a,l;this.nameInternal=e,this.pageInternal=s[this.nameInternal]||[],this.sdkHttpResponseInternal=s==null?void 0:s.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!r||Object.keys(r).length===0?c={config:{}}:typeof r=="object"?c=Object.assign({},r):c=r,c.config&&(c.config.pageToken=s.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(a=c.config)===null||a===void 0?void 0:a.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oC extends Rn{constructor(e){super(),this.apiClient=e,this.create=async s=>(this.apiClient.isVertexAI()&&(s.config=this.formatDestination(s.src,s.config)),this.createInternal(s)),this.createEmbeddings=async s=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(s)},this.list=async(s={})=>new Is(Nn.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(s),s)}createInlinedGenerateContentRequest(e){const s=yy(this.apiClient,e),r=s._url,a=Q("{model}:batchGenerateContent",r),m=s.batch.inputConfig.requests,y=m.requests,p=[];for(const x of y){const _=Object.assign({},x);if(_.systemInstruction){const b=_.systemInstruction;delete _.systemInstruction;const E=_.request;E.systemInstruction=b,_.request=E}p.push(_)}return m.requests=p,delete s.config,delete s._url,delete s._query,{path:a,body:s}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,s){const r=s?Object.assign({},s):{},a=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${a}`),r.dest===void 0){const l=this.getGcsUri(e),c=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?r.dest=`${l.slice(0,-6)}/dest`:r.dest=`${l}_dest_${a}`;else if(c)r.dest=`${c}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var s,r,a,l;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=NS(this.apiClient,e);return m=Q("batchPredictionJobs",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>Gc(x))}else{const p=yy(this.apiClient,e);return m=Q("{model}:batchGenerateContent",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>ba(x))}}async createEmbeddingsInternal(e){var s,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=DS(this.apiClient,e);return l=Q("{model}:asyncBatchEmbedContent",m._url),c=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(y=>ba(y))}}async get(e){var s,r,a,l;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=FS(this.apiClient,e);return m=Q("batchPredictionJobs/{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>Gc(x))}else{const p=GS(this.apiClient,e);return m=Q("batches/{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>ba(x))}}async cancel(e){var s,r,a,l;let c="",m={};if(this.apiClient.isVertexAI()){const y=ES(this.apiClient,e);c=Q("batchPredictionJobs/{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const y=wS(this.apiClient,e);c=Q("batches/{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var s,r,a,l;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=ZS(e);return m=Q("batchPredictionJobs",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),c.then(x=>{const _=tC(x),b=new hy;return Object.assign(b,_),b})}else{const p=WS(e);return m=Q("batches",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),c.then(x=>{const _=eC(x),b=new hy;return Object.assign(b,_),b})}}async delete(e){var s,r,a,l;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=kS(this.apiClient,e);return m=Q("batchPredictionJobs/{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),c.then(x=>US(x))}else{const p=MS(this.apiClient,e);return m=Q("batches/{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),c.then(x=>IS(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aC(n){const e={},s=d(n,["data"]);if(s!=null&&h(e,["data"],s),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function vy(n){const e={},s=d(n,["parts"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>DC(l))),h(e,["parts"],a)}const r=d(n,["role"]);return r!=null&&h(e,["role"],r),e}function lC(n,e){const s={},r=d(n,["ttl"]);e!==void 0&&r!=null&&h(e,["ttl"],r);const a=d(n,["expireTime"]);e!==void 0&&a!=null&&h(e,["expireTime"],a);const l=d(n,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const c=d(n,["contents"]);if(e!==void 0&&c!=null){let x=Yt(c);Array.isArray(x)&&(x=x.map(_=>vy(_))),h(e,["contents"],x)}const m=d(n,["systemInstruction"]);e!==void 0&&m!=null&&h(e,["systemInstruction"],vy(ft(m)));const y=d(n,["tools"]);if(e!==void 0&&y!=null){let x=y;Array.isArray(x)&&(x=x.map(_=>kC(_))),h(e,["tools"],x)}const p=d(n,["toolConfig"]);if(e!==void 0&&p!=null&&h(e,["toolConfig"],MC(p)),d(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return s}function uC(n,e){const s={},r=d(n,["ttl"]);e!==void 0&&r!=null&&h(e,["ttl"],r);const a=d(n,["expireTime"]);e!==void 0&&a!=null&&h(e,["expireTime"],a);const l=d(n,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const c=d(n,["contents"]);if(e!==void 0&&c!=null){let _=Yt(c);Array.isArray(_)&&(_=_.map(b=>b)),h(e,["contents"],_)}const m=d(n,["systemInstruction"]);e!==void 0&&m!=null&&h(e,["systemInstruction"],ft(m));const y=d(n,["tools"]);if(e!==void 0&&y!=null){let _=y;Array.isArray(_)&&(_=_.map(b=>IC(b))),h(e,["tools"],_)}const p=d(n,["toolConfig"]);e!==void 0&&p!=null&&h(e,["toolConfig"],p);const x=d(n,["kmsKeyName"]);return e!==void 0&&x!=null&&h(e,["encryption_spec","kmsKeyName"],x),s}function cC(n,e){const s={},r=d(e,["model"]);r!=null&&h(s,["model"],Iv(n,r));const a=d(e,["config"]);return a!=null&&lC(a,s),s}function dC(n,e){const s={},r=d(e,["model"]);r!=null&&h(s,["model"],Iv(n,r));const a=d(e,["config"]);return a!=null&&uC(a,s),s}function fC(n,e){const s={},r=d(e,["name"]);return r!=null&&h(s,["_url","name"],Dn(n,r)),s}function hC(n,e){const s={},r=d(e,["name"]);return r!=null&&h(s,["_url","name"],Dn(n,r)),s}function mC(n){const e={},s=d(n,["sdkHttpResponse"]);return s!=null&&h(e,["sdkHttpResponse"],s),e}function pC(n){const e={},s=d(n,["sdkHttpResponse"]);return s!=null&&h(e,["sdkHttpResponse"],s),e}function gC(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(n,["fileUri"]);s!=null&&h(e,["fileUri"],s);const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function yC(n){const e={},s=d(n,["id"]);s!=null&&h(e,["id"],s);const r=d(n,["args"]);r!=null&&h(e,["args"],r);const a=d(n,["name"]);if(a!=null&&h(e,["name"],a),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function vC(n){const e={},s=d(n,["mode"]);s!=null&&h(e,["mode"],s);const r=d(n,["allowedFunctionNames"]);if(r!=null&&h(e,["allowedFunctionNames"],r),d(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function xC(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const s=d(n,["description"]);s!=null&&h(e,["description"],s);const r=d(n,["name"]);r!=null&&h(e,["name"],r);const a=d(n,["parameters"]);a!=null&&h(e,["parameters"],a);const l=d(n,["parametersJsonSchema"]);l!=null&&h(e,["parametersJsonSchema"],l);const c=d(n,["response"]);c!=null&&h(e,["response"],c);const m=d(n,["responseJsonSchema"]);return m!=null&&h(e,["responseJsonSchema"],m),e}function _C(n,e){const s={},r=d(e,["name"]);return r!=null&&h(s,["_url","name"],Dn(n,r)),s}function bC(n,e){const s={},r=d(e,["name"]);return r!=null&&h(s,["_url","name"],Dn(n,r)),s}function wC(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=d(n,["enableWidget"]);return s!=null&&h(e,["enableWidget"],s),e}function EC(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=d(n,["timeRangeFilter"]);return s!=null&&h(e,["timeRangeFilter"],s),e}function SC(n,e){const s={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);return e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),s}function CC(n,e){const s={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);return e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),s}function TC(n){const e={},s=d(n,["config"]);return s!=null&&SC(s,e),e}function AC(n){const e={},s=d(n,["config"]);return s!=null&&CC(s,e),e}function NC(n){const e={},s=d(n,["sdkHttpResponse"]);s!=null&&h(e,["sdkHttpResponse"],s);const r=d(n,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const a=d(n,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["cachedContents"],l)}return e}function RC(n){const e={},s=d(n,["sdkHttpResponse"]);s!=null&&h(e,["sdkHttpResponse"],s);const r=d(n,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const a=d(n,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["cachedContents"],l)}return e}function DC(n){const e={},s=d(n,["mediaResolution"]);s!=null&&h(e,["mediaResolution"],s);const r=d(n,["codeExecutionResult"]);r!=null&&h(e,["codeExecutionResult"],r);const a=d(n,["executableCode"]);a!=null&&h(e,["executableCode"],a);const l=d(n,["fileData"]);l!=null&&h(e,["fileData"],gC(l));const c=d(n,["functionCall"]);c!=null&&h(e,["functionCall"],yC(c));const m=d(n,["functionResponse"]);m!=null&&h(e,["functionResponse"],m);const y=d(n,["inlineData"]);y!=null&&h(e,["inlineData"],aC(y));const p=d(n,["text"]);p!=null&&h(e,["text"],p);const x=d(n,["thought"]);x!=null&&h(e,["thought"],x);const _=d(n,["thoughtSignature"]);_!=null&&h(e,["thoughtSignature"],_);const b=d(n,["videoMetadata"]);return b!=null&&h(e,["videoMetadata"],b),e}function MC(n){const e={},s=d(n,["functionCallingConfig"]);s!=null&&h(e,["functionCallingConfig"],vC(s));const r=d(n,["retrievalConfig"]);return r!=null&&h(e,["retrievalConfig"],r),e}function kC(n){const e={},s=d(n,["functionDeclarations"]);if(s!=null){let x=s;Array.isArray(x)&&(x=x.map(_=>_)),h(e,["functionDeclarations"],x)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearchRetrieval"]);r!=null&&h(e,["googleSearchRetrieval"],r);const a=d(n,["computerUse"]);a!=null&&h(e,["computerUse"],a);const l=d(n,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=d(n,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=d(n,["googleMaps"]);m!=null&&h(e,["googleMaps"],wC(m));const y=d(n,["googleSearch"]);y!=null&&h(e,["googleSearch"],EC(y));const p=d(n,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function IC(n){const e={},s=d(n,["functionDeclarations"]);if(s!=null){let _=s;Array.isArray(_)&&(_=_.map(b=>xC(b))),h(e,["functionDeclarations"],_)}const r=d(n,["retrieval"]);r!=null&&h(e,["retrieval"],r);const a=d(n,["googleSearchRetrieval"]);a!=null&&h(e,["googleSearchRetrieval"],a);const l=d(n,["computerUse"]);if(l!=null&&h(e,["computerUse"],l),d(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(n,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const m=d(n,["enterpriseWebSearch"]);m!=null&&h(e,["enterpriseWebSearch"],m);const y=d(n,["googleMaps"]);y!=null&&h(e,["googleMaps"],y);const p=d(n,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const x=d(n,["urlContext"]);return x!=null&&h(e,["urlContext"],x),e}function UC(n,e){const s={},r=d(n,["ttl"]);e!==void 0&&r!=null&&h(e,["ttl"],r);const a=d(n,["expireTime"]);return e!==void 0&&a!=null&&h(e,["expireTime"],a),s}function PC(n,e){const s={},r=d(n,["ttl"]);e!==void 0&&r!=null&&h(e,["ttl"],r);const a=d(n,["expireTime"]);return e!==void 0&&a!=null&&h(e,["expireTime"],a),s}function jC(n,e){const s={},r=d(e,["name"]);r!=null&&h(s,["_url","name"],Dn(n,r));const a=d(e,["config"]);return a!=null&&UC(a,s),s}function OC(n,e){const s={},r=d(e,["name"]);r!=null&&h(s,["_url","name"],Dn(n,r));const a=d(e,["config"]);return a!=null&&PC(a,s),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LC extends Rn{constructor(e){super(),this.apiClient=e,this.list=async(s={})=>new Is(Nn.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(s),s)}async create(e){var s,r,a,l;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=dC(this.apiClient,e);return m=Q("cachedContents",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>x)}else{const p=cC(this.apiClient,e);return m=Q("cachedContents",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>x)}}async get(e){var s,r,a,l;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=bC(this.apiClient,e);return m=Q("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>x)}else{const p=_C(this.apiClient,e);return m=Q("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>x)}}async delete(e){var s,r,a,l;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=hC(this.apiClient,e);return m=Q("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),c.then(x=>{const _=pC(x),b=new dy;return Object.assign(b,_),b})}else{const p=fC(this.apiClient,e);return m=Q("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),c.then(x=>{const _=mC(x),b=new dy;return Object.assign(b,_),b})}}async update(e){var s,r,a,l;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=OC(this.apiClient,e);return m=Q("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>x)}else{const p=jC(this.apiClient,e);return m=Q("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>x)}}async listInternal(e){var s,r,a,l;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=AC(e);return m=Q("cachedContents",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),c.then(x=>{const _=RC(x),b=new fy;return Object.assign(b,_),b})}else{const p=TC(e);return m=Q("cachedContents",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),c.then(x=>{const _=NC(x),b=new fy;return Object.assign(b,_),b})}}}function xy(n){var e=typeof Symbol=="function"&&Symbol.iterator,s=e&&n[e],r=0;if(s)return s.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qe(n){return this instanceof qe?(this.v=n,this):new qe(n)}function Ri(n,e,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=s.apply(n,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(E){return function(C){return Promise.resolve(C).then(E,_)}}function m(E,C){r[E]&&(a[E]=function(T){return new Promise(function(A,U){l.push([E,T,A,U])>1||y(E,T)})},C&&(a[E]=C(a[E])))}function y(E,C){try{p(r[E](C))}catch(T){b(l[0][3],T)}}function p(E){E.value instanceof qe?Promise.resolve(E.value.v).then(x,_):b(l[0][2],E)}function x(E){y("next",E)}function _(E){y("throw",E)}function b(E,C){E(C),l.shift(),l.length&&y(l[0][0],l[0][1])}}function Or(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],s;return e?e.call(n):(n=typeof xy=="function"?xy(n):n[Symbol.iterator](),s={},r("next"),r("throw"),r("return"),s[Symbol.asyncIterator]=function(){return this},s);function r(l){s[l]=n[l]&&function(c){return new Promise(function(m,y){c=n[l](c),a(m,y,c.done,c.value)})}}function a(l,c,m,y){Promise.resolve(y).then(function(p){l({value:p,done:m})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BC(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const s=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return s===void 0?!1:$v(s)}function $v(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function qC(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function _y(n){if(n===void 0||n.length===0)return[];const e=[],s=n.length;let r=0;for(;r<s;)if(n[r].role==="user")e.push(n[r]),r++;else{const a=[];let l=!0;for(;r<s&&n[r].role==="model";)a.push(n[r]),l&&!$v(n[r])&&(l=!1),r++;l?e.push(...a):e.pop()}return e}class VC{constructor(e,s){this.modelsModule=e,this.apiClient=s}create(e){return new HC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class HC{constructor(e,s,r,a={},l=[]){this.apiClient=e,this.modelsModule=s,this.model=r,this.config=a,this.history=l,this.sendPromise=Promise.resolve(),qC(l)}async sendMessage(e){var s;await this.sendPromise;const r=ft(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(s=e.config)!==null&&s!==void 0?s:this.config});return this.sendPromise=(async()=>{var l,c,m;const y=await a,p=(c=(l=y.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,x=y.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let b=[];x!=null&&(b=(m=x.slice(_))!==null&&m!==void 0?m:[]);const E=p?[p]:[];this.recordHistory(r,E,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var s;await this.sendPromise;const r=ft(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(s=e.config)!==null&&s!==void 0?s:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const l=await a;return this.processStreamResponse(l,r)}getHistory(e=!1){const s=e?_y(this.history):this.history;return structuredClone(s)}processStreamResponse(e,s){var r,a;return Ri(this,arguments,function*(){var c,m,y,p;const x=[];try{for(var _=!0,b=Or(e),E;E=yield qe(b.next()),c=E.done,!c;_=!0){p=E.value,_=!1;const C=p;if(BC(C)){const T=(a=(r=C.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content;T!==void 0&&x.push(T)}yield yield qe(C)}}catch(C){m={error:C}}finally{try{!_&&!c&&(y=b.return)&&(yield qe(y.call(b)))}finally{if(m)throw m.error}}this.recordHistory(s,x)})}recordHistory(e,s,r){let a=[];s.length>0&&s.every(l=>l.role!==void 0)?a=s:a.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(..._y(r)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pa extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Pa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GC(n){const e={},s=d(n,["file"]);return s!=null&&h(e,["file"],s),e}function FC(n){const e={},s=d(n,["sdkHttpResponse"]);return s!=null&&h(e,["sdkHttpResponse"],s),e}function zC(n){const e={},s=d(n,["name"]);return s!=null&&h(e,["_url","file"],Bv(s)),e}function $C(n){const e={},s=d(n,["sdkHttpResponse"]);return s!=null&&h(e,["sdkHttpResponse"],s),e}function JC(n){const e={},s=d(n,["name"]);return s!=null&&h(e,["_url","file"],Bv(s)),e}function KC(n,e){const s={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);return e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),s}function YC(n){const e={},s=d(n,["config"]);return s!=null&&KC(s,e),e}function XC(n){const e={},s=d(n,["sdkHttpResponse"]);s!=null&&h(e,["sdkHttpResponse"],s);const r=d(n,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const a=d(n,["files"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QC extends Rn{constructor(e){super(),this.apiClient=e,this.list=async(s={})=>new Is(Nn.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(s),s)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(s=>s)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var s,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=YC(e);return l=Q("files",m._url),c=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:y.headers},x})),a.then(y=>{const p=XC(y),x=new tS;return Object.assign(x,p),x})}}async createInternal(e){var s,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=GC(e);return l=Q("upload/v1beta/files",m._url),c=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(y=>{const p=FC(y),x=new nS;return Object.assign(x,p),x})}}async get(e){var s,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=JC(e);return l=Q("files/{file}",m._url),c=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(e){var s,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=zC(e);return l=Q("files/{file}",m._url),c=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:y.headers},x})),a.then(y=>{const p=$C(y),x=new sS;return Object.assign(x,p),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wa(n){const e={},s=d(n,["data"]);if(s!=null&&h(e,["data"],s),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function WC(n){const e={},s=d(n,["parts"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>m2(l))),h(e,["parts"],a)}const r=d(n,["role"]);return r!=null&&h(e,["role"],r),e}function ZC(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(n,["fileUri"]);s!=null&&h(e,["fileUri"],s);const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function e2(n){const e={},s=d(n,["id"]);s!=null&&h(e,["id"],s);const r=d(n,["args"]);r!=null&&h(e,["args"],r);const a=d(n,["name"]);if(a!=null&&h(e,["name"],a),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function t2(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const s=d(n,["description"]);s!=null&&h(e,["description"],s);const r=d(n,["name"]);r!=null&&h(e,["name"],r);const a=d(n,["parameters"]);a!=null&&h(e,["parameters"],a);const l=d(n,["parametersJsonSchema"]);l!=null&&h(e,["parametersJsonSchema"],l);const c=d(n,["response"]);c!=null&&h(e,["response"],c);const m=d(n,["responseJsonSchema"]);return m!=null&&h(e,["responseJsonSchema"],m),e}function n2(n){const e={},s=d(n,["modelSelectionConfig"]);s!=null&&h(e,["modelConfig"],s);const r=d(n,["responseJsonSchema"]);r!=null&&h(e,["responseJsonSchema"],r);const a=d(n,["audioTimestamp"]);a!=null&&h(e,["audioTimestamp"],a);const l=d(n,["candidateCount"]);l!=null&&h(e,["candidateCount"],l);const c=d(n,["enableAffectiveDialog"]);c!=null&&h(e,["enableAffectiveDialog"],c);const m=d(n,["frequencyPenalty"]);m!=null&&h(e,["frequencyPenalty"],m);const y=d(n,["logprobs"]);y!=null&&h(e,["logprobs"],y);const p=d(n,["maxOutputTokens"]);p!=null&&h(e,["maxOutputTokens"],p);const x=d(n,["mediaResolution"]);x!=null&&h(e,["mediaResolution"],x);const _=d(n,["presencePenalty"]);_!=null&&h(e,["presencePenalty"],_);const b=d(n,["responseLogprobs"]);b!=null&&h(e,["responseLogprobs"],b);const E=d(n,["responseMimeType"]);E!=null&&h(e,["responseMimeType"],E);const C=d(n,["responseModalities"]);C!=null&&h(e,["responseModalities"],C);const T=d(n,["responseSchema"]);T!=null&&h(e,["responseSchema"],T);const A=d(n,["routingConfig"]);A!=null&&h(e,["routingConfig"],A);const U=d(n,["seed"]);U!=null&&h(e,["seed"],U);const O=d(n,["speechConfig"]);O!=null&&h(e,["speechConfig"],Jv(O));const k=d(n,["stopSequences"]);k!=null&&h(e,["stopSequences"],k);const F=d(n,["temperature"]);F!=null&&h(e,["temperature"],F);const Y=d(n,["thinkingConfig"]);Y!=null&&h(e,["thinkingConfig"],Y);const J=d(n,["topK"]);J!=null&&h(e,["topK"],J);const z=d(n,["topP"]);if(z!=null&&h(e,["topP"],z),d(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function s2(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=d(n,["enableWidget"]);return s!=null&&h(e,["enableWidget"],s),e}function i2(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=d(n,["timeRangeFilter"]);return s!=null&&h(e,["timeRangeFilter"],s),e}function r2(n,e){const s={},r=d(n,["generationConfig"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig"],r);const a=d(n,["responseModalities"]);e!==void 0&&a!=null&&h(e,["setup","generationConfig","responseModalities"],a);const l=d(n,["temperature"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","temperature"],l);const c=d(n,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const m=d(n,["topK"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","topK"],m);const y=d(n,["maxOutputTokens"]);e!==void 0&&y!=null&&h(e,["setup","generationConfig","maxOutputTokens"],y);const p=d(n,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const x=d(n,["seed"]);e!==void 0&&x!=null&&h(e,["setup","generationConfig","seed"],x);const _=d(n,["speechConfig"]);e!==void 0&&_!=null&&h(e,["setup","generationConfig","speechConfig"],fd(_));const b=d(n,["thinkingConfig"]);e!==void 0&&b!=null&&h(e,["setup","generationConfig","thinkingConfig"],b);const E=d(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],E);const C=d(n,["systemInstruction"]);e!==void 0&&C!=null&&h(e,["setup","systemInstruction"],WC(ft(C)));const T=d(n,["tools"]);if(e!==void 0&&T!=null){let J=Pi(T);Array.isArray(J)&&(J=J.map(z=>g2(Ui(z)))),h(e,["setup","tools"],J)}const A=d(n,["sessionResumption"]);e!==void 0&&A!=null&&h(e,["setup","sessionResumption"],p2(A));const U=d(n,["inputAudioTranscription"]);e!==void 0&&U!=null&&h(e,["setup","inputAudioTranscription"],U);const O=d(n,["outputAudioTranscription"]);e!==void 0&&O!=null&&h(e,["setup","outputAudioTranscription"],O);const k=d(n,["realtimeInputConfig"]);e!==void 0&&k!=null&&h(e,["setup","realtimeInputConfig"],k);const F=d(n,["contextWindowCompression"]);e!==void 0&&F!=null&&h(e,["setup","contextWindowCompression"],F);const Y=d(n,["proactivity"]);return e!==void 0&&Y!=null&&h(e,["setup","proactivity"],Y),s}function o2(n,e){const s={},r=d(n,["generationConfig"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig"],n2(r));const a=d(n,["responseModalities"]);e!==void 0&&a!=null&&h(e,["setup","generationConfig","responseModalities"],a);const l=d(n,["temperature"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","temperature"],l);const c=d(n,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const m=d(n,["topK"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","topK"],m);const y=d(n,["maxOutputTokens"]);e!==void 0&&y!=null&&h(e,["setup","generationConfig","maxOutputTokens"],y);const p=d(n,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const x=d(n,["seed"]);e!==void 0&&x!=null&&h(e,["setup","generationConfig","seed"],x);const _=d(n,["speechConfig"]);e!==void 0&&_!=null&&h(e,["setup","generationConfig","speechConfig"],Jv(fd(_)));const b=d(n,["thinkingConfig"]);e!==void 0&&b!=null&&h(e,["setup","generationConfig","thinkingConfig"],b);const E=d(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],E);const C=d(n,["systemInstruction"]);e!==void 0&&C!=null&&h(e,["setup","systemInstruction"],ft(C));const T=d(n,["tools"]);if(e!==void 0&&T!=null){let J=Pi(T);Array.isArray(J)&&(J=J.map(z=>y2(Ui(z)))),h(e,["setup","tools"],J)}const A=d(n,["sessionResumption"]);e!==void 0&&A!=null&&h(e,["setup","sessionResumption"],A);const U=d(n,["inputAudioTranscription"]);e!==void 0&&U!=null&&h(e,["setup","inputAudioTranscription"],U);const O=d(n,["outputAudioTranscription"]);e!==void 0&&O!=null&&h(e,["setup","outputAudioTranscription"],O);const k=d(n,["realtimeInputConfig"]);e!==void 0&&k!=null&&h(e,["setup","realtimeInputConfig"],k);const F=d(n,["contextWindowCompression"]);e!==void 0&&F!=null&&h(e,["setup","contextWindowCompression"],F);const Y=d(n,["proactivity"]);return e!==void 0&&Y!=null&&h(e,["setup","proactivity"],Y),s}function a2(n,e){const s={},r=d(e,["model"]);r!=null&&h(s,["setup","model"],Se(n,r));const a=d(e,["config"]);return a!=null&&h(s,["config"],r2(a,s)),s}function l2(n,e){const s={},r=d(e,["model"]);r!=null&&h(s,["setup","model"],Se(n,r));const a=d(e,["config"]);return a!=null&&h(s,["config"],o2(a,s)),s}function u2(n){const e={},s=d(n,["musicGenerationConfig"]);return s!=null&&h(e,["musicGenerationConfig"],s),e}function c2(n){const e={},s=d(n,["weightedPrompts"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(a=>a)),h(e,["weightedPrompts"],r)}return e}function d2(n){const e={},s=d(n,["media"]);if(s!=null){let p=Uv(s);Array.isArray(p)&&(p=p.map(x=>wa(x))),h(e,["mediaChunks"],p)}const r=d(n,["audio"]);r!=null&&h(e,["audio"],wa(jv(r)));const a=d(n,["audioStreamEnd"]);a!=null&&h(e,["audioStreamEnd"],a);const l=d(n,["video"]);l!=null&&h(e,["video"],wa(Pv(l)));const c=d(n,["text"]);c!=null&&h(e,["text"],c);const m=d(n,["activityStart"]);m!=null&&h(e,["activityStart"],m);const y=d(n,["activityEnd"]);return y!=null&&h(e,["activityEnd"],y),e}function f2(n){const e={},s=d(n,["media"]);if(s!=null){let p=Uv(s);Array.isArray(p)&&(p=p.map(x=>x)),h(e,["mediaChunks"],p)}const r=d(n,["audio"]);r!=null&&h(e,["audio"],jv(r));const a=d(n,["audioStreamEnd"]);a!=null&&h(e,["audioStreamEnd"],a);const l=d(n,["video"]);l!=null&&h(e,["video"],Pv(l));const c=d(n,["text"]);c!=null&&h(e,["text"],c);const m=d(n,["activityStart"]);m!=null&&h(e,["activityStart"],m);const y=d(n,["activityEnd"]);return y!=null&&h(e,["activityEnd"],y),e}function h2(n){const e={},s=d(n,["setupComplete"]);s!=null&&h(e,["setupComplete"],s);const r=d(n,["serverContent"]);r!=null&&h(e,["serverContent"],r);const a=d(n,["toolCall"]);a!=null&&h(e,["toolCall"],a);const l=d(n,["toolCallCancellation"]);l!=null&&h(e,["toolCallCancellation"],l);const c=d(n,["usageMetadata"]);c!=null&&h(e,["usageMetadata"],v2(c));const m=d(n,["goAway"]);m!=null&&h(e,["goAway"],m);const y=d(n,["sessionResumptionUpdate"]);return y!=null&&h(e,["sessionResumptionUpdate"],y),e}function m2(n){const e={},s=d(n,["mediaResolution"]);s!=null&&h(e,["mediaResolution"],s);const r=d(n,["codeExecutionResult"]);r!=null&&h(e,["codeExecutionResult"],r);const a=d(n,["executableCode"]);a!=null&&h(e,["executableCode"],a);const l=d(n,["fileData"]);l!=null&&h(e,["fileData"],ZC(l));const c=d(n,["functionCall"]);c!=null&&h(e,["functionCall"],e2(c));const m=d(n,["functionResponse"]);m!=null&&h(e,["functionResponse"],m);const y=d(n,["inlineData"]);y!=null&&h(e,["inlineData"],wa(y));const p=d(n,["text"]);p!=null&&h(e,["text"],p);const x=d(n,["thought"]);x!=null&&h(e,["thought"],x);const _=d(n,["thoughtSignature"]);_!=null&&h(e,["thoughtSignature"],_);const b=d(n,["videoMetadata"]);return b!=null&&h(e,["videoMetadata"],b),e}function p2(n){const e={},s=d(n,["handle"]);if(s!=null&&h(e,["handle"],s),d(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Jv(n){const e={},s=d(n,["languageCode"]);s!=null&&h(e,["languageCode"],s);const r=d(n,["voiceConfig"]);if(r!=null&&h(e,["voiceConfig"],r),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function g2(n){const e={},s=d(n,["functionDeclarations"]);if(s!=null){let x=s;Array.isArray(x)&&(x=x.map(_=>_)),h(e,["functionDeclarations"],x)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearchRetrieval"]);r!=null&&h(e,["googleSearchRetrieval"],r);const a=d(n,["computerUse"]);a!=null&&h(e,["computerUse"],a);const l=d(n,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=d(n,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=d(n,["googleMaps"]);m!=null&&h(e,["googleMaps"],s2(m));const y=d(n,["googleSearch"]);y!=null&&h(e,["googleSearch"],i2(y));const p=d(n,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function y2(n){const e={},s=d(n,["functionDeclarations"]);if(s!=null){let _=s;Array.isArray(_)&&(_=_.map(b=>t2(b))),h(e,["functionDeclarations"],_)}const r=d(n,["retrieval"]);r!=null&&h(e,["retrieval"],r);const a=d(n,["googleSearchRetrieval"]);a!=null&&h(e,["googleSearchRetrieval"],a);const l=d(n,["computerUse"]);if(l!=null&&h(e,["computerUse"],l),d(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(n,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const m=d(n,["enterpriseWebSearch"]);m!=null&&h(e,["enterpriseWebSearch"],m);const y=d(n,["googleMaps"]);y!=null&&h(e,["googleMaps"],y);const p=d(n,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const x=d(n,["urlContext"]);return x!=null&&h(e,["urlContext"],x),e}function v2(n){const e={},s=d(n,["promptTokenCount"]);s!=null&&h(e,["promptTokenCount"],s);const r=d(n,["cachedContentTokenCount"]);r!=null&&h(e,["cachedContentTokenCount"],r);const a=d(n,["candidatesTokenCount"]);a!=null&&h(e,["responseTokenCount"],a);const l=d(n,["toolUsePromptTokenCount"]);l!=null&&h(e,["toolUsePromptTokenCount"],l);const c=d(n,["thoughtsTokenCount"]);c!=null&&h(e,["thoughtsTokenCount"],c);const m=d(n,["totalTokenCount"]);m!=null&&h(e,["totalTokenCount"],m);const y=d(n,["promptTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(C=>C)),h(e,["promptTokensDetails"],E)}const p=d(n,["cacheTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(C=>C)),h(e,["cacheTokensDetails"],E)}const x=d(n,["candidatesTokensDetails"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(C=>C)),h(e,["responseTokensDetails"],E)}const _=d(n,["toolUsePromptTokensDetails"]);if(_!=null){let E=_;Array.isArray(E)&&(E=E.map(C=>C)),h(e,["toolUsePromptTokensDetails"],E)}const b=d(n,["trafficType"]);return b!=null&&h(e,["trafficType"],b),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function x2(n){const e={},s=d(n,["data"]);if(s!=null&&h(e,["data"],s),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function _2(n){const e={},s=d(n,["content"]);s!=null&&h(e,["content"],s);const r=d(n,["citationMetadata"]);r!=null&&h(e,["citationMetadata"],b2(r));const a=d(n,["tokenCount"]);a!=null&&h(e,["tokenCount"],a);const l=d(n,["finishReason"]);l!=null&&h(e,["finishReason"],l);const c=d(n,["avgLogprobs"]);c!=null&&h(e,["avgLogprobs"],c);const m=d(n,["groundingMetadata"]);m!=null&&h(e,["groundingMetadata"],m);const y=d(n,["index"]);y!=null&&h(e,["index"],y);const p=d(n,["logprobsResult"]);p!=null&&h(e,["logprobsResult"],p);const x=d(n,["safetyRatings"]);if(x!=null){let b=x;Array.isArray(b)&&(b=b.map(E=>E)),h(e,["safetyRatings"],b)}const _=d(n,["urlContextMetadata"]);return _!=null&&h(e,["urlContextMetadata"],_),e}function b2(n){const e={},s=d(n,["citationSources"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(a=>a)),h(e,["citations"],r)}return e}function w2(n,e){const s={},r=d(e,["model"]);r!=null&&h(s,["_url","model"],Se(n,r));const a=d(e,["contents"]);if(a!=null){let l=Yt(a);Array.isArray(l)&&(l=l.map(c=>c)),h(s,["contents"],l)}return s}function E2(n){const e={},s=d(n,["sdkHttpResponse"]);s!=null&&h(e,["sdkHttpResponse"],s);const r=d(n,["tokensInfo"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),h(e,["tokensInfo"],a)}return e}function S2(n){const e={},s=d(n,["values"]);s!=null&&h(e,["values"],s);const r=d(n,["statistics"]);return r!=null&&h(e,["statistics"],C2(r)),e}function C2(n){const e={},s=d(n,["truncated"]);s!=null&&h(e,["truncated"],s);const r=d(n,["token_count"]);return r!=null&&h(e,["tokenCount"],r),e}function ja(n){const e={},s=d(n,["parts"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>UT(l))),h(e,["parts"],a)}const r=d(n,["role"]);return r!=null&&h(e,["role"],r),e}function T2(n){const e={},s=d(n,["controlType"]);s!=null&&h(e,["controlType"],s);const r=d(n,["enableControlImageComputation"]);return r!=null&&h(e,["computeControl"],r),e}function A2(n){const e={};if(d(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function N2(n,e){const s={},r=d(n,["systemInstruction"]);e!==void 0&&r!=null&&h(e,["systemInstruction"],ft(r));const a=d(n,["tools"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(m=>Wv(m))),h(e,["tools"],c)}const l=d(n,["generationConfig"]);return e!==void 0&&l!=null&&h(e,["generationConfig"],xT(l)),s}function R2(n,e){const s={},r=d(e,["model"]);r!=null&&h(s,["_url","model"],Se(n,r));const a=d(e,["contents"]);if(a!=null){let c=Yt(a);Array.isArray(c)&&(c=c.map(m=>ja(m))),h(s,["contents"],c)}const l=d(e,["config"]);return l!=null&&A2(l),s}function D2(n,e){const s={},r=d(e,["model"]);r!=null&&h(s,["_url","model"],Se(n,r));const a=d(e,["contents"]);if(a!=null){let c=Yt(a);Array.isArray(c)&&(c=c.map(m=>m)),h(s,["contents"],c)}const l=d(e,["config"]);return l!=null&&N2(l,s),s}function M2(n){const e={},s=d(n,["sdkHttpResponse"]);s!=null&&h(e,["sdkHttpResponse"],s);const r=d(n,["totalTokens"]);r!=null&&h(e,["totalTokens"],r);const a=d(n,["cachedContentTokenCount"]);return a!=null&&h(e,["cachedContentTokenCount"],a),e}function k2(n){const e={},s=d(n,["sdkHttpResponse"]);s!=null&&h(e,["sdkHttpResponse"],s);const r=d(n,["totalTokens"]);return r!=null&&h(e,["totalTokens"],r),e}function I2(n,e){const s={},r=d(e,["model"]);return r!=null&&h(s,["_url","name"],Se(n,r)),s}function U2(n,e){const s={},r=d(e,["model"]);return r!=null&&h(s,["_url","name"],Se(n,r)),s}function P2(n){const e={},s=d(n,["sdkHttpResponse"]);return s!=null&&h(e,["sdkHttpResponse"],s),e}function j2(n){const e={},s=d(n,["sdkHttpResponse"]);return s!=null&&h(e,["sdkHttpResponse"],s),e}function O2(n,e){const s={},r=d(n,["outputGcsUri"]);e!==void 0&&r!=null&&h(e,["parameters","storageUri"],r);const a=d(n,["negativePrompt"]);e!==void 0&&a!=null&&h(e,["parameters","negativePrompt"],a);const l=d(n,["numberOfImages"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const c=d(n,["aspectRatio"]);e!==void 0&&c!=null&&h(e,["parameters","aspectRatio"],c);const m=d(n,["guidanceScale"]);e!==void 0&&m!=null&&h(e,["parameters","guidanceScale"],m);const y=d(n,["seed"]);e!==void 0&&y!=null&&h(e,["parameters","seed"],y);const p=d(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&h(e,["parameters","safetySetting"],p);const x=d(n,["personGeneration"]);e!==void 0&&x!=null&&h(e,["parameters","personGeneration"],x);const _=d(n,["includeSafetyAttributes"]);e!==void 0&&_!=null&&h(e,["parameters","includeSafetyAttributes"],_);const b=d(n,["includeRaiReason"]);e!==void 0&&b!=null&&h(e,["parameters","includeRaiReason"],b);const E=d(n,["language"]);e!==void 0&&E!=null&&h(e,["parameters","language"],E);const C=d(n,["outputMimeType"]);e!==void 0&&C!=null&&h(e,["parameters","outputOptions","mimeType"],C);const T=d(n,["outputCompressionQuality"]);e!==void 0&&T!=null&&h(e,["parameters","outputOptions","compressionQuality"],T);const A=d(n,["addWatermark"]);e!==void 0&&A!=null&&h(e,["parameters","addWatermark"],A);const U=d(n,["labels"]);e!==void 0&&U!=null&&h(e,["labels"],U);const O=d(n,["editMode"]);e!==void 0&&O!=null&&h(e,["parameters","editMode"],O);const k=d(n,["baseSteps"]);return e!==void 0&&k!=null&&h(e,["parameters","editConfig","baseSteps"],k),s}function L2(n,e){const s={},r=d(e,["model"]);r!=null&&h(s,["_url","model"],Se(n,r));const a=d(e,["prompt"]);a!=null&&h(s,["instances[0]","prompt"],a);const l=d(e,["referenceImages"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(y=>qT(y))),h(s,["instances[0]","referenceImages"],m)}const c=d(e,["config"]);return c!=null&&O2(c,s),s}function B2(n){const e={},s=d(n,["sdkHttpResponse"]);s!=null&&h(e,["sdkHttpResponse"],s);const r=d(n,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>Oa(l))),h(e,["generatedImages"],a)}return e}function q2(n,e){const s={},r=d(n,["taskType"]);e!==void 0&&r!=null&&h(e,["requests[]","taskType"],r);const a=d(n,["title"]);e!==void 0&&a!=null&&h(e,["requests[]","title"],a);const l=d(n,["outputDimensionality"]);if(e!==void 0&&l!=null&&h(e,["requests[]","outputDimensionality"],l),d(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function V2(n,e){const s={},r=d(n,["taskType"]);e!==void 0&&r!=null&&h(e,["instances[]","task_type"],r);const a=d(n,["title"]);e!==void 0&&a!=null&&h(e,["instances[]","title"],a);const l=d(n,["outputDimensionality"]);e!==void 0&&l!=null&&h(e,["parameters","outputDimensionality"],l);const c=d(n,["mimeType"]);e!==void 0&&c!=null&&h(e,["instances[]","mimeType"],c);const m=d(n,["autoTruncate"]);return e!==void 0&&m!=null&&h(e,["parameters","autoTruncate"],m),s}function H2(n,e){const s={},r=d(e,["model"]);r!=null&&h(s,["_url","model"],Se(n,r));const a=d(e,["contents"]);if(a!=null){let m=ud(n,a);Array.isArray(m)&&(m=m.map(y=>y)),h(s,["requests[]","content"],m)}const l=d(e,["config"]);l!=null&&q2(l,s);const c=d(e,["model"]);return c!==void 0&&h(s,["requests[]","model"],Se(n,c)),s}function G2(n,e){const s={},r=d(e,["model"]);r!=null&&h(s,["_url","model"],Se(n,r));const a=d(e,["contents"]);if(a!=null){let c=ud(n,a);Array.isArray(c)&&(c=c.map(m=>m)),h(s,["instances[]","content"],c)}const l=d(e,["config"]);return l!=null&&V2(l,s),s}function F2(n){const e={},s=d(n,["sdkHttpResponse"]);s!=null&&h(e,["sdkHttpResponse"],s);const r=d(n,["embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["embeddings"],l)}const a=d(n,["metadata"]);return a!=null&&h(e,["metadata"],a),e}function z2(n){const e={},s=d(n,["sdkHttpResponse"]);s!=null&&h(e,["sdkHttpResponse"],s);const r=d(n,["predictions[]","embeddings"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>S2(c))),h(e,["embeddings"],l)}const a=d(n,["metadata"]);return a!=null&&h(e,["metadata"],a),e}function $2(n){const e={},s=d(n,["endpoint"]);s!=null&&h(e,["name"],s);const r=d(n,["deployedModelId"]);return r!=null&&h(e,["deployedModelId"],r),e}function J2(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(n,["fileUri"]);s!=null&&h(e,["fileUri"],s);const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function K2(n){const e={},s=d(n,["id"]);s!=null&&h(e,["id"],s);const r=d(n,["args"]);r!=null&&h(e,["args"],r);const a=d(n,["name"]);if(a!=null&&h(e,["name"],a),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Y2(n){const e={},s=d(n,["mode"]);s!=null&&h(e,["mode"],s);const r=d(n,["allowedFunctionNames"]);if(r!=null&&h(e,["allowedFunctionNames"],r),d(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function X2(n){const e={};if(d(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const s=d(n,["description"]);s!=null&&h(e,["description"],s);const r=d(n,["name"]);r!=null&&h(e,["name"],r);const a=d(n,["parameters"]);a!=null&&h(e,["parameters"],a);const l=d(n,["parametersJsonSchema"]);l!=null&&h(e,["parametersJsonSchema"],l);const c=d(n,["response"]);c!=null&&h(e,["response"],c);const m=d(n,["responseJsonSchema"]);return m!=null&&h(e,["responseJsonSchema"],m),e}function Q2(n,e,s){const r={},a=d(e,["systemInstruction"]);s!==void 0&&a!=null&&h(s,["systemInstruction"],ja(ft(a)));const l=d(e,["temperature"]);l!=null&&h(r,["temperature"],l);const c=d(e,["topP"]);c!=null&&h(r,["topP"],c);const m=d(e,["topK"]);m!=null&&h(r,["topK"],m);const y=d(e,["candidateCount"]);y!=null&&h(r,["candidateCount"],y);const p=d(e,["maxOutputTokens"]);p!=null&&h(r,["maxOutputTokens"],p);const x=d(e,["stopSequences"]);x!=null&&h(r,["stopSequences"],x);const _=d(e,["responseLogprobs"]);_!=null&&h(r,["responseLogprobs"],_);const b=d(e,["logprobs"]);b!=null&&h(r,["logprobs"],b);const E=d(e,["presencePenalty"]);E!=null&&h(r,["presencePenalty"],E);const C=d(e,["frequencyPenalty"]);C!=null&&h(r,["frequencyPenalty"],C);const T=d(e,["seed"]);T!=null&&h(r,["seed"],T);const A=d(e,["responseMimeType"]);A!=null&&h(r,["responseMimeType"],A);const U=d(e,["responseSchema"]);U!=null&&h(r,["responseSchema"],cd(U));const O=d(e,["responseJsonSchema"]);if(O!=null&&h(r,["responseJsonSchema"],O),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=d(e,["safetySettings"]);if(s!==void 0&&k!=null){let me=k;Array.isArray(me)&&(me=me.map(tt=>VT(tt))),h(s,["safetySettings"],me)}const F=d(e,["tools"]);if(s!==void 0&&F!=null){let me=Pi(F);Array.isArray(me)&&(me=me.map(tt=>KT(Ui(tt)))),h(s,["tools"],me)}const Y=d(e,["toolConfig"]);if(s!==void 0&&Y!=null&&h(s,["toolConfig"],JT(Y)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const J=d(e,["cachedContent"]);s!==void 0&&J!=null&&h(s,["cachedContent"],Dn(n,J));const z=d(e,["responseModalities"]);z!=null&&h(r,["responseModalities"],z);const de=d(e,["mediaResolution"]);de!=null&&h(r,["mediaResolution"],de);const ee=d(e,["speechConfig"]);if(ee!=null&&h(r,["speechConfig"],dd(ee)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ve=d(e,["thinkingConfig"]);ve!=null&&h(r,["thinkingConfig"],ve);const Ae=d(e,["imageConfig"]);return Ae!=null&&h(r,["imageConfig"],ST(Ae)),r}function W2(n,e,s){const r={},a=d(e,["systemInstruction"]);s!==void 0&&a!=null&&h(s,["systemInstruction"],ft(a));const l=d(e,["temperature"]);l!=null&&h(r,["temperature"],l);const c=d(e,["topP"]);c!=null&&h(r,["topP"],c);const m=d(e,["topK"]);m!=null&&h(r,["topK"],m);const y=d(e,["candidateCount"]);y!=null&&h(r,["candidateCount"],y);const p=d(e,["maxOutputTokens"]);p!=null&&h(r,["maxOutputTokens"],p);const x=d(e,["stopSequences"]);x!=null&&h(r,["stopSequences"],x);const _=d(e,["responseLogprobs"]);_!=null&&h(r,["responseLogprobs"],_);const b=d(e,["logprobs"]);b!=null&&h(r,["logprobs"],b);const E=d(e,["presencePenalty"]);E!=null&&h(r,["presencePenalty"],E);const C=d(e,["frequencyPenalty"]);C!=null&&h(r,["frequencyPenalty"],C);const T=d(e,["seed"]);T!=null&&h(r,["seed"],T);const A=d(e,["responseMimeType"]);A!=null&&h(r,["responseMimeType"],A);const U=d(e,["responseSchema"]);U!=null&&h(r,["responseSchema"],cd(U));const O=d(e,["responseJsonSchema"]);O!=null&&h(r,["responseJsonSchema"],O);const k=d(e,["routingConfig"]);k!=null&&h(r,["routingConfig"],k);const F=d(e,["modelSelectionConfig"]);F!=null&&h(r,["modelConfig"],F);const Y=d(e,["safetySettings"]);if(s!==void 0&&Y!=null){let B=Y;Array.isArray(B)&&(B=B.map(K=>K)),h(s,["safetySettings"],B)}const J=d(e,["tools"]);if(s!==void 0&&J!=null){let B=Pi(J);Array.isArray(B)&&(B=B.map(K=>Wv(Ui(K)))),h(s,["tools"],B)}const z=d(e,["toolConfig"]);s!==void 0&&z!=null&&h(s,["toolConfig"],z);const de=d(e,["labels"]);s!==void 0&&de!=null&&h(s,["labels"],de);const ee=d(e,["cachedContent"]);s!==void 0&&ee!=null&&h(s,["cachedContent"],Dn(n,ee));const ve=d(e,["responseModalities"]);ve!=null&&h(r,["responseModalities"],ve);const Ae=d(e,["mediaResolution"]);Ae!=null&&h(r,["mediaResolution"],Ae);const me=d(e,["speechConfig"]);me!=null&&h(r,["speechConfig"],Qv(dd(me)));const tt=d(e,["audioTimestamp"]);tt!=null&&h(r,["audioTimestamp"],tt);const Ot=d(e,["thinkingConfig"]);Ot!=null&&h(r,["thinkingConfig"],Ot);const pt=d(e,["imageConfig"]);return pt!=null&&h(r,["imageConfig"],CT(pt)),r}function by(n,e){const s={},r=d(e,["model"]);r!=null&&h(s,["_url","model"],Se(n,r));const a=d(e,["contents"]);if(a!=null){let c=Yt(a);Array.isArray(c)&&(c=c.map(m=>ja(m))),h(s,["contents"],c)}const l=d(e,["config"]);return l!=null&&h(s,["generationConfig"],Q2(n,l,s)),s}function wy(n,e){const s={},r=d(e,["model"]);r!=null&&h(s,["_url","model"],Se(n,r));const a=d(e,["contents"]);if(a!=null){let c=Yt(a);Array.isArray(c)&&(c=c.map(m=>m)),h(s,["contents"],c)}const l=d(e,["config"]);return l!=null&&h(s,["generationConfig"],W2(n,l,s)),s}function Ey(n){const e={},s=d(n,["sdkHttpResponse"]);s!=null&&h(e,["sdkHttpResponse"],s);const r=d(n,["candidates"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(p=>_2(p))),h(e,["candidates"],y)}const a=d(n,["modelVersion"]);a!=null&&h(e,["modelVersion"],a);const l=d(n,["promptFeedback"]);l!=null&&h(e,["promptFeedback"],l);const c=d(n,["responseId"]);c!=null&&h(e,["responseId"],c);const m=d(n,["usageMetadata"]);return m!=null&&h(e,["usageMetadata"],m),e}function Sy(n){const e={},s=d(n,["sdkHttpResponse"]);s!=null&&h(e,["sdkHttpResponse"],s);const r=d(n,["candidates"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(x=>x)),h(e,["candidates"],p)}const a=d(n,["createTime"]);a!=null&&h(e,["createTime"],a);const l=d(n,["modelVersion"]);l!=null&&h(e,["modelVersion"],l);const c=d(n,["promptFeedback"]);c!=null&&h(e,["promptFeedback"],c);const m=d(n,["responseId"]);m!=null&&h(e,["responseId"],m);const y=d(n,["usageMetadata"]);return y!=null&&h(e,["usageMetadata"],y),e}function Z2(n,e){const s={};if(d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=d(n,["numberOfImages"]);e!==void 0&&r!=null&&h(e,["parameters","sampleCount"],r);const a=d(n,["aspectRatio"]);e!==void 0&&a!=null&&h(e,["parameters","aspectRatio"],a);const l=d(n,["guidanceScale"]);if(e!==void 0&&l!=null&&h(e,["parameters","guidanceScale"],l),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&h(e,["parameters","safetySetting"],c);const m=d(n,["personGeneration"]);e!==void 0&&m!=null&&h(e,["parameters","personGeneration"],m);const y=d(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&h(e,["parameters","includeSafetyAttributes"],y);const p=d(n,["includeRaiReason"]);e!==void 0&&p!=null&&h(e,["parameters","includeRaiReason"],p);const x=d(n,["language"]);e!==void 0&&x!=null&&h(e,["parameters","language"],x);const _=d(n,["outputMimeType"]);e!==void 0&&_!=null&&h(e,["parameters","outputOptions","mimeType"],_);const b=d(n,["outputCompressionQuality"]);if(e!==void 0&&b!=null&&h(e,["parameters","outputOptions","compressionQuality"],b),d(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=d(n,["imageSize"]);if(e!==void 0&&E!=null&&h(e,["parameters","sampleImageSize"],E),d(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function eT(n,e){const s={},r=d(n,["outputGcsUri"]);e!==void 0&&r!=null&&h(e,["parameters","storageUri"],r);const a=d(n,["negativePrompt"]);e!==void 0&&a!=null&&h(e,["parameters","negativePrompt"],a);const l=d(n,["numberOfImages"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const c=d(n,["aspectRatio"]);e!==void 0&&c!=null&&h(e,["parameters","aspectRatio"],c);const m=d(n,["guidanceScale"]);e!==void 0&&m!=null&&h(e,["parameters","guidanceScale"],m);const y=d(n,["seed"]);e!==void 0&&y!=null&&h(e,["parameters","seed"],y);const p=d(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&h(e,["parameters","safetySetting"],p);const x=d(n,["personGeneration"]);e!==void 0&&x!=null&&h(e,["parameters","personGeneration"],x);const _=d(n,["includeSafetyAttributes"]);e!==void 0&&_!=null&&h(e,["parameters","includeSafetyAttributes"],_);const b=d(n,["includeRaiReason"]);e!==void 0&&b!=null&&h(e,["parameters","includeRaiReason"],b);const E=d(n,["language"]);e!==void 0&&E!=null&&h(e,["parameters","language"],E);const C=d(n,["outputMimeType"]);e!==void 0&&C!=null&&h(e,["parameters","outputOptions","mimeType"],C);const T=d(n,["outputCompressionQuality"]);e!==void 0&&T!=null&&h(e,["parameters","outputOptions","compressionQuality"],T);const A=d(n,["addWatermark"]);e!==void 0&&A!=null&&h(e,["parameters","addWatermark"],A);const U=d(n,["labels"]);e!==void 0&&U!=null&&h(e,["labels"],U);const O=d(n,["imageSize"]);e!==void 0&&O!=null&&h(e,["parameters","sampleImageSize"],O);const k=d(n,["enhancePrompt"]);return e!==void 0&&k!=null&&h(e,["parameters","enhancePrompt"],k),s}function tT(n,e){const s={},r=d(e,["model"]);r!=null&&h(s,["_url","model"],Se(n,r));const a=d(e,["prompt"]);a!=null&&h(s,["instances[0]","prompt"],a);const l=d(e,["config"]);return l!=null&&Z2(l,s),s}function nT(n,e){const s={},r=d(e,["model"]);r!=null&&h(s,["_url","model"],Se(n,r));const a=d(e,["prompt"]);a!=null&&h(s,["instances[0]","prompt"],a);const l=d(e,["config"]);return l!=null&&eT(l,s),s}function sT(n){const e={},s=d(n,["sdkHttpResponse"]);s!=null&&h(e,["sdkHttpResponse"],s);const r=d(n,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>pT(c))),h(e,["generatedImages"],l)}const a=d(n,["positivePromptSafetyAttributes"]);return a!=null&&h(e,["positivePromptSafetyAttributes"],Yv(a)),e}function iT(n){const e={},s=d(n,["sdkHttpResponse"]);s!=null&&h(e,["sdkHttpResponse"],s);const r=d(n,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Oa(c))),h(e,["generatedImages"],l)}const a=d(n,["positivePromptSafetyAttributes"]);return a!=null&&h(e,["positivePromptSafetyAttributes"],Xv(a)),e}function rT(n,e){const s={},r=d(n,["numberOfVideos"]);if(e!==void 0&&r!=null&&h(e,["parameters","sampleCount"],r),d(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=d(n,["durationSeconds"]);if(e!==void 0&&a!=null&&h(e,["parameters","durationSeconds"],a),d(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=d(n,["aspectRatio"]);e!==void 0&&l!=null&&h(e,["parameters","aspectRatio"],l);const c=d(n,["resolution"]);e!==void 0&&c!=null&&h(e,["parameters","resolution"],c);const m=d(n,["personGeneration"]);if(e!==void 0&&m!=null&&h(e,["parameters","personGeneration"],m),d(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=d(n,["negativePrompt"]);e!==void 0&&y!=null&&h(e,["parameters","negativePrompt"],y);const p=d(n,["enhancePrompt"]);if(e!==void 0&&p!=null&&h(e,["parameters","enhancePrompt"],p),d(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const x=d(n,["lastFrame"]);e!==void 0&&x!=null&&h(e,["instances[0]","lastFrame"],La(x));const _=d(n,["referenceImages"]);if(e!==void 0&&_!=null){let b=_;Array.isArray(b)&&(b=b.map(E=>aA(E))),h(e,["instances[0]","referenceImages"],b)}if(d(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return s}function oT(n,e){const s={},r=d(n,["numberOfVideos"]);e!==void 0&&r!=null&&h(e,["parameters","sampleCount"],r);const a=d(n,["outputGcsUri"]);e!==void 0&&a!=null&&h(e,["parameters","storageUri"],a);const l=d(n,["fps"]);e!==void 0&&l!=null&&h(e,["parameters","fps"],l);const c=d(n,["durationSeconds"]);e!==void 0&&c!=null&&h(e,["parameters","durationSeconds"],c);const m=d(n,["seed"]);e!==void 0&&m!=null&&h(e,["parameters","seed"],m);const y=d(n,["aspectRatio"]);e!==void 0&&y!=null&&h(e,["parameters","aspectRatio"],y);const p=d(n,["resolution"]);e!==void 0&&p!=null&&h(e,["parameters","resolution"],p);const x=d(n,["personGeneration"]);e!==void 0&&x!=null&&h(e,["parameters","personGeneration"],x);const _=d(n,["pubsubTopic"]);e!==void 0&&_!=null&&h(e,["parameters","pubsubTopic"],_);const b=d(n,["negativePrompt"]);e!==void 0&&b!=null&&h(e,["parameters","negativePrompt"],b);const E=d(n,["enhancePrompt"]);e!==void 0&&E!=null&&h(e,["parameters","enhancePrompt"],E);const C=d(n,["generateAudio"]);e!==void 0&&C!=null&&h(e,["parameters","generateAudio"],C);const T=d(n,["lastFrame"]);e!==void 0&&T!=null&&h(e,["instances[0]","lastFrame"],nn(T));const A=d(n,["referenceImages"]);if(e!==void 0&&A!=null){let k=A;Array.isArray(k)&&(k=k.map(F=>lA(F))),h(e,["instances[0]","referenceImages"],k)}const U=d(n,["mask"]);e!==void 0&&U!=null&&h(e,["instances[0]","mask"],oA(U));const O=d(n,["compressionQuality"]);return e!==void 0&&O!=null&&h(e,["parameters","compressionQuality"],O),s}function aT(n){const e={},s=d(n,["name"]);s!=null&&h(e,["name"],s);const r=d(n,["metadata"]);r!=null&&h(e,["metadata"],r);const a=d(n,["done"]);a!=null&&h(e,["done"],a);const l=d(n,["error"]);l!=null&&h(e,["error"],l);const c=d(n,["response","generateVideoResponse"]);return c!=null&&h(e,["response"],dT(c)),e}function lT(n){const e={},s=d(n,["name"]);s!=null&&h(e,["name"],s);const r=d(n,["metadata"]);r!=null&&h(e,["metadata"],r);const a=d(n,["done"]);a!=null&&h(e,["done"],a);const l=d(n,["error"]);l!=null&&h(e,["error"],l);const c=d(n,["response"]);return c!=null&&h(e,["response"],fT(c)),e}function uT(n,e){const s={},r=d(e,["model"]);r!=null&&h(s,["_url","model"],Se(n,r));const a=d(e,["prompt"]);a!=null&&h(s,["instances[0]","prompt"],a);const l=d(e,["image"]);l!=null&&h(s,["instances[0]","image"],La(l));const c=d(e,["video"]);c!=null&&h(s,["instances[0]","video"],Zv(c));const m=d(e,["source"]);m!=null&&hT(m,s);const y=d(e,["config"]);return y!=null&&rT(y,s),s}function cT(n,e){const s={},r=d(e,["model"]);r!=null&&h(s,["_url","model"],Se(n,r));const a=d(e,["prompt"]);a!=null&&h(s,["instances[0]","prompt"],a);const l=d(e,["image"]);l!=null&&h(s,["instances[0]","image"],nn(l));const c=d(e,["video"]);c!=null&&h(s,["instances[0]","video"],e0(c));const m=d(e,["source"]);m!=null&&mT(m,s);const y=d(e,["config"]);return y!=null&&oT(y,s),s}function dT(n){const e={},s=d(n,["generatedSamples"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>yT(c))),h(e,["generatedVideos"],l)}const r=d(n,["raiMediaFilteredCount"]);r!=null&&h(e,["raiMediaFilteredCount"],r);const a=d(n,["raiMediaFilteredReasons"]);return a!=null&&h(e,["raiMediaFilteredReasons"],a),e}function fT(n){const e={},s=d(n,["videos"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>vT(c))),h(e,["generatedVideos"],l)}const r=d(n,["raiMediaFilteredCount"]);r!=null&&h(e,["raiMediaFilteredCount"],r);const a=d(n,["raiMediaFilteredReasons"]);return a!=null&&h(e,["raiMediaFilteredReasons"],a),e}function hT(n,e){const s={},r=d(n,["prompt"]);e!==void 0&&r!=null&&h(e,["instances[0]","prompt"],r);const a=d(n,["image"]);e!==void 0&&a!=null&&h(e,["instances[0]","image"],La(a));const l=d(n,["video"]);return e!==void 0&&l!=null&&h(e,["instances[0]","video"],Zv(l)),s}function mT(n,e){const s={},r=d(n,["prompt"]);e!==void 0&&r!=null&&h(e,["instances[0]","prompt"],r);const a=d(n,["image"]);e!==void 0&&a!=null&&h(e,["instances[0]","image"],nn(a));const l=d(n,["video"]);return e!==void 0&&l!=null&&h(e,["instances[0]","video"],e0(l)),s}function pT(n){const e={},s=d(n,["_self"]);s!=null&&h(e,["image"],TT(s));const r=d(n,["raiFilteredReason"]);r!=null&&h(e,["raiFilteredReason"],r);const a=d(n,["_self"]);return a!=null&&h(e,["safetyAttributes"],Yv(a)),e}function Oa(n){const e={},s=d(n,["_self"]);s!=null&&h(e,["image"],Kv(s));const r=d(n,["raiFilteredReason"]);r!=null&&h(e,["raiFilteredReason"],r);const a=d(n,["_self"]);a!=null&&h(e,["safetyAttributes"],Xv(a));const l=d(n,["prompt"]);return l!=null&&h(e,["enhancedPrompt"],l),e}function gT(n){const e={},s=d(n,["_self"]);s!=null&&h(e,["mask"],Kv(s));const r=d(n,["labels"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),h(e,["labels"],a)}return e}function yT(n){const e={},s=d(n,["video"]);return s!=null&&h(e,["video"],iA(s)),e}function vT(n){const e={},s=d(n,["_self"]);return s!=null&&h(e,["video"],rA(s)),e}function xT(n){const e={},s=d(n,["modelSelectionConfig"]);s!=null&&h(e,["modelConfig"],s);const r=d(n,["responseJsonSchema"]);r!=null&&h(e,["responseJsonSchema"],r);const a=d(n,["audioTimestamp"]);a!=null&&h(e,["audioTimestamp"],a);const l=d(n,["candidateCount"]);l!=null&&h(e,["candidateCount"],l);const c=d(n,["enableAffectiveDialog"]);c!=null&&h(e,["enableAffectiveDialog"],c);const m=d(n,["frequencyPenalty"]);m!=null&&h(e,["frequencyPenalty"],m);const y=d(n,["logprobs"]);y!=null&&h(e,["logprobs"],y);const p=d(n,["maxOutputTokens"]);p!=null&&h(e,["maxOutputTokens"],p);const x=d(n,["mediaResolution"]);x!=null&&h(e,["mediaResolution"],x);const _=d(n,["presencePenalty"]);_!=null&&h(e,["presencePenalty"],_);const b=d(n,["responseLogprobs"]);b!=null&&h(e,["responseLogprobs"],b);const E=d(n,["responseMimeType"]);E!=null&&h(e,["responseMimeType"],E);const C=d(n,["responseModalities"]);C!=null&&h(e,["responseModalities"],C);const T=d(n,["responseSchema"]);T!=null&&h(e,["responseSchema"],T);const A=d(n,["routingConfig"]);A!=null&&h(e,["routingConfig"],A);const U=d(n,["seed"]);U!=null&&h(e,["seed"],U);const O=d(n,["speechConfig"]);O!=null&&h(e,["speechConfig"],Qv(O));const k=d(n,["stopSequences"]);k!=null&&h(e,["stopSequences"],k);const F=d(n,["temperature"]);F!=null&&h(e,["temperature"],F);const Y=d(n,["thinkingConfig"]);Y!=null&&h(e,["thinkingConfig"],Y);const J=d(n,["topK"]);J!=null&&h(e,["topK"],J);const z=d(n,["topP"]);if(z!=null&&h(e,["topP"],z),d(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function _T(n,e){const s={},r=d(e,["model"]);return r!=null&&h(s,["_url","name"],Se(n,r)),s}function bT(n,e){const s={},r=d(e,["model"]);return r!=null&&h(s,["_url","name"],Se(n,r)),s}function wT(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=d(n,["enableWidget"]);return s!=null&&h(e,["enableWidget"],s),e}function ET(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=d(n,["timeRangeFilter"]);return s!=null&&h(e,["timeRangeFilter"],s),e}function ST(n){const e={},s=d(n,["aspectRatio"]);s!=null&&h(e,["aspectRatio"],s);const r=d(n,["imageSize"]);if(r!=null&&h(e,["imageSize"],r),d(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function CT(n){const e={},s=d(n,["aspectRatio"]);s!=null&&h(e,["aspectRatio"],s);const r=d(n,["imageSize"]);r!=null&&h(e,["imageSize"],r);const a=d(n,["outputMimeType"]);a!=null&&h(e,["imageOutputOptions","mimeType"],a);const l=d(n,["outputCompressionQuality"]);return l!=null&&h(e,["imageOutputOptions","compressionQuality"],l),e}function TT(n){const e={},s=d(n,["bytesBase64Encoded"]);s!=null&&h(e,["imageBytes"],os(s));const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function Kv(n){const e={},s=d(n,["gcsUri"]);s!=null&&h(e,["gcsUri"],s);const r=d(n,["bytesBase64Encoded"]);r!=null&&h(e,["imageBytes"],os(r));const a=d(n,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function La(n){const e={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=d(n,["imageBytes"]);s!=null&&h(e,["bytesBase64Encoded"],os(s));const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function nn(n){const e={},s=d(n,["gcsUri"]);s!=null&&h(e,["gcsUri"],s);const r=d(n,["imageBytes"]);r!=null&&h(e,["bytesBase64Encoded"],os(r));const a=d(n,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function AT(n,e,s){const r={},a=d(e,["pageSize"]);s!==void 0&&a!=null&&h(s,["_query","pageSize"],a);const l=d(e,["pageToken"]);s!==void 0&&l!=null&&h(s,["_query","pageToken"],l);const c=d(e,["filter"]);s!==void 0&&c!=null&&h(s,["_query","filter"],c);const m=d(e,["queryBase"]);return s!==void 0&&m!=null&&h(s,["_url","models_url"],qv(n,m)),r}function NT(n,e,s){const r={},a=d(e,["pageSize"]);s!==void 0&&a!=null&&h(s,["_query","pageSize"],a);const l=d(e,["pageToken"]);s!==void 0&&l!=null&&h(s,["_query","pageToken"],l);const c=d(e,["filter"]);s!==void 0&&c!=null&&h(s,["_query","filter"],c);const m=d(e,["queryBase"]);return s!==void 0&&m!=null&&h(s,["_url","models_url"],qv(n,m)),r}function RT(n,e){const s={},r=d(e,["config"]);return r!=null&&AT(n,r,s),s}function DT(n,e){const s={},r=d(e,["config"]);return r!=null&&NT(n,r,s),s}function MT(n){const e={},s=d(n,["sdkHttpResponse"]);s!=null&&h(e,["sdkHttpResponse"],s);const r=d(n,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const a=d(n,["_self"]);if(a!=null){let l=Vv(a);Array.isArray(l)&&(l=l.map(c=>Fc(c))),h(e,["models"],l)}return e}function kT(n){const e={},s=d(n,["sdkHttpResponse"]);s!=null&&h(e,["sdkHttpResponse"],s);const r=d(n,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const a=d(n,["_self"]);if(a!=null){let l=Vv(a);Array.isArray(l)&&(l=l.map(c=>zc(c))),h(e,["models"],l)}return e}function IT(n){const e={},s=d(n,["maskMode"]);s!=null&&h(e,["maskMode"],s);const r=d(n,["segmentationClasses"]);r!=null&&h(e,["maskClasses"],r);const a=d(n,["maskDilation"]);return a!=null&&h(e,["dilation"],a),e}function Fc(n){const e={},s=d(n,["name"]);s!=null&&h(e,["name"],s);const r=d(n,["displayName"]);r!=null&&h(e,["displayName"],r);const a=d(n,["description"]);a!=null&&h(e,["description"],a);const l=d(n,["version"]);l!=null&&h(e,["version"],l);const c=d(n,["_self"]);c!=null&&h(e,["tunedModelInfo"],YT(c));const m=d(n,["inputTokenLimit"]);m!=null&&h(e,["inputTokenLimit"],m);const y=d(n,["outputTokenLimit"]);y!=null&&h(e,["outputTokenLimit"],y);const p=d(n,["supportedGenerationMethods"]);p!=null&&h(e,["supportedActions"],p);const x=d(n,["temperature"]);x!=null&&h(e,["temperature"],x);const _=d(n,["maxTemperature"]);_!=null&&h(e,["maxTemperature"],_);const b=d(n,["topP"]);b!=null&&h(e,["topP"],b);const E=d(n,["topK"]);E!=null&&h(e,["topK"],E);const C=d(n,["thinking"]);return C!=null&&h(e,["thinking"],C),e}function zc(n){const e={},s=d(n,["name"]);s!=null&&h(e,["name"],s);const r=d(n,["displayName"]);r!=null&&h(e,["displayName"],r);const a=d(n,["description"]);a!=null&&h(e,["description"],a);const l=d(n,["versionId"]);l!=null&&h(e,["version"],l);const c=d(n,["deployedModels"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(b=>$2(b))),h(e,["endpoints"],_)}const m=d(n,["labels"]);m!=null&&h(e,["labels"],m);const y=d(n,["_self"]);y!=null&&h(e,["tunedModelInfo"],XT(y));const p=d(n,["defaultCheckpointId"]);p!=null&&h(e,["defaultCheckpointId"],p);const x=d(n,["checkpoints"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(b=>b)),h(e,["checkpoints"],_)}return e}function UT(n){const e={},s=d(n,["mediaResolution"]);s!=null&&h(e,["mediaResolution"],s);const r=d(n,["codeExecutionResult"]);r!=null&&h(e,["codeExecutionResult"],r);const a=d(n,["executableCode"]);a!=null&&h(e,["executableCode"],a);const l=d(n,["fileData"]);l!=null&&h(e,["fileData"],J2(l));const c=d(n,["functionCall"]);c!=null&&h(e,["functionCall"],K2(c));const m=d(n,["functionResponse"]);m!=null&&h(e,["functionResponse"],m);const y=d(n,["inlineData"]);y!=null&&h(e,["inlineData"],x2(y));const p=d(n,["text"]);p!=null&&h(e,["text"],p);const x=d(n,["thought"]);x!=null&&h(e,["thought"],x);const _=d(n,["thoughtSignature"]);_!=null&&h(e,["thoughtSignature"],_);const b=d(n,["videoMetadata"]);return b!=null&&h(e,["videoMetadata"],b),e}function PT(n){const e={},s=d(n,["productImage"]);return s!=null&&h(e,["image"],nn(s)),e}function jT(n,e){const s={},r=d(n,["numberOfImages"]);e!==void 0&&r!=null&&h(e,["parameters","sampleCount"],r);const a=d(n,["baseSteps"]);e!==void 0&&a!=null&&h(e,["parameters","baseSteps"],a);const l=d(n,["outputGcsUri"]);e!==void 0&&l!=null&&h(e,["parameters","storageUri"],l);const c=d(n,["seed"]);e!==void 0&&c!=null&&h(e,["parameters","seed"],c);const m=d(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&h(e,["parameters","safetySetting"],m);const y=d(n,["personGeneration"]);e!==void 0&&y!=null&&h(e,["parameters","personGeneration"],y);const p=d(n,["addWatermark"]);e!==void 0&&p!=null&&h(e,["parameters","addWatermark"],p);const x=d(n,["outputMimeType"]);e!==void 0&&x!=null&&h(e,["parameters","outputOptions","mimeType"],x);const _=d(n,["outputCompressionQuality"]);e!==void 0&&_!=null&&h(e,["parameters","outputOptions","compressionQuality"],_);const b=d(n,["enhancePrompt"]);e!==void 0&&b!=null&&h(e,["parameters","enhancePrompt"],b);const E=d(n,["labels"]);return e!==void 0&&E!=null&&h(e,["labels"],E),s}function OT(n,e){const s={},r=d(e,["model"]);r!=null&&h(s,["_url","model"],Se(n,r));const a=d(e,["source"]);a!=null&&BT(a,s);const l=d(e,["config"]);return l!=null&&jT(l,s),s}function LT(n){const e={},s=d(n,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(a=>Oa(a))),h(e,["generatedImages"],r)}return e}function BT(n,e){const s={},r=d(n,["prompt"]);e!==void 0&&r!=null&&h(e,["instances[0]","prompt"],r);const a=d(n,["personImage"]);e!==void 0&&a!=null&&h(e,["instances[0]","personImage","image"],nn(a));const l=d(n,["productImages"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>PT(m))),h(e,["instances[0]","productImages"],c)}return s}function qT(n){const e={},s=d(n,["referenceImage"]);s!=null&&h(e,["referenceImage"],nn(s));const r=d(n,["referenceId"]);r!=null&&h(e,["referenceId"],r);const a=d(n,["referenceType"]);a!=null&&h(e,["referenceType"],a);const l=d(n,["maskImageConfig"]);l!=null&&h(e,["maskImageConfig"],IT(l));const c=d(n,["controlImageConfig"]);c!=null&&h(e,["controlImageConfig"],T2(c));const m=d(n,["styleImageConfig"]);m!=null&&h(e,["styleImageConfig"],m);const y=d(n,["subjectImageConfig"]);return y!=null&&h(e,["subjectImageConfig"],y),e}function Yv(n){const e={},s=d(n,["safetyAttributes","categories"]);s!=null&&h(e,["categories"],s);const r=d(n,["safetyAttributes","scores"]);r!=null&&h(e,["scores"],r);const a=d(n,["contentType"]);return a!=null&&h(e,["contentType"],a),e}function Xv(n){const e={},s=d(n,["safetyAttributes","categories"]);s!=null&&h(e,["categories"],s);const r=d(n,["safetyAttributes","scores"]);r!=null&&h(e,["scores"],r);const a=d(n,["contentType"]);return a!=null&&h(e,["contentType"],a),e}function VT(n){const e={},s=d(n,["category"]);if(s!=null&&h(e,["category"],s),d(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(n,["threshold"]);return r!=null&&h(e,["threshold"],r),e}function HT(n){const e={},s=d(n,["image"]);return s!=null&&h(e,["image"],nn(s)),e}function GT(n,e){const s={},r=d(n,["mode"]);e!==void 0&&r!=null&&h(e,["parameters","mode"],r);const a=d(n,["maxPredictions"]);e!==void 0&&a!=null&&h(e,["parameters","maxPredictions"],a);const l=d(n,["confidenceThreshold"]);e!==void 0&&l!=null&&h(e,["parameters","confidenceThreshold"],l);const c=d(n,["maskDilation"]);e!==void 0&&c!=null&&h(e,["parameters","maskDilation"],c);const m=d(n,["binaryColorThreshold"]);e!==void 0&&m!=null&&h(e,["parameters","binaryColorThreshold"],m);const y=d(n,["labels"]);return e!==void 0&&y!=null&&h(e,["labels"],y),s}function FT(n,e){const s={},r=d(e,["model"]);r!=null&&h(s,["_url","model"],Se(n,r));const a=d(e,["source"]);a!=null&&$T(a,s);const l=d(e,["config"]);return l!=null&&GT(l,s),s}function zT(n){const e={},s=d(n,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(a=>gT(a))),h(e,["generatedMasks"],r)}return e}function $T(n,e){const s={},r=d(n,["prompt"]);e!==void 0&&r!=null&&h(e,["instances[0]","prompt"],r);const a=d(n,["image"]);e!==void 0&&a!=null&&h(e,["instances[0]","image"],nn(a));const l=d(n,["scribbleImage"]);return e!==void 0&&l!=null&&h(e,["instances[0]","scribble"],HT(l)),s}function Qv(n){const e={},s=d(n,["languageCode"]);s!=null&&h(e,["languageCode"],s);const r=d(n,["voiceConfig"]);if(r!=null&&h(e,["voiceConfig"],r),d(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function JT(n){const e={},s=d(n,["functionCallingConfig"]);s!=null&&h(e,["functionCallingConfig"],Y2(s));const r=d(n,["retrievalConfig"]);return r!=null&&h(e,["retrievalConfig"],r),e}function KT(n){const e={},s=d(n,["functionDeclarations"]);if(s!=null){let x=s;Array.isArray(x)&&(x=x.map(_=>_)),h(e,["functionDeclarations"],x)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearchRetrieval"]);r!=null&&h(e,["googleSearchRetrieval"],r);const a=d(n,["computerUse"]);a!=null&&h(e,["computerUse"],a);const l=d(n,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=d(n,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=d(n,["googleMaps"]);m!=null&&h(e,["googleMaps"],wT(m));const y=d(n,["googleSearch"]);y!=null&&h(e,["googleSearch"],ET(y));const p=d(n,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function Wv(n){const e={},s=d(n,["functionDeclarations"]);if(s!=null){let _=s;Array.isArray(_)&&(_=_.map(b=>X2(b))),h(e,["functionDeclarations"],_)}const r=d(n,["retrieval"]);r!=null&&h(e,["retrieval"],r);const a=d(n,["googleSearchRetrieval"]);a!=null&&h(e,["googleSearchRetrieval"],a);const l=d(n,["computerUse"]);if(l!=null&&h(e,["computerUse"],l),d(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=d(n,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const m=d(n,["enterpriseWebSearch"]);m!=null&&h(e,["enterpriseWebSearch"],m);const y=d(n,["googleMaps"]);y!=null&&h(e,["googleMaps"],y);const p=d(n,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const x=d(n,["urlContext"]);return x!=null&&h(e,["urlContext"],x),e}function YT(n){const e={},s=d(n,["baseModel"]);s!=null&&h(e,["baseModel"],s);const r=d(n,["createTime"]);r!=null&&h(e,["createTime"],r);const a=d(n,["updateTime"]);return a!=null&&h(e,["updateTime"],a),e}function XT(n){const e={},s=d(n,["labels","google-vertex-llm-tuning-base-model-id"]);s!=null&&h(e,["baseModel"],s);const r=d(n,["createTime"]);r!=null&&h(e,["createTime"],r);const a=d(n,["updateTime"]);return a!=null&&h(e,["updateTime"],a),e}function QT(n,e){const s={},r=d(n,["displayName"]);e!==void 0&&r!=null&&h(e,["displayName"],r);const a=d(n,["description"]);e!==void 0&&a!=null&&h(e,["description"],a);const l=d(n,["defaultCheckpointId"]);return e!==void 0&&l!=null&&h(e,["defaultCheckpointId"],l),s}function WT(n,e){const s={},r=d(n,["displayName"]);e!==void 0&&r!=null&&h(e,["displayName"],r);const a=d(n,["description"]);e!==void 0&&a!=null&&h(e,["description"],a);const l=d(n,["defaultCheckpointId"]);return e!==void 0&&l!=null&&h(e,["defaultCheckpointId"],l),s}function ZT(n,e){const s={},r=d(e,["model"]);r!=null&&h(s,["_url","name"],Se(n,r));const a=d(e,["config"]);return a!=null&&QT(a,s),s}function eA(n,e){const s={},r=d(e,["model"]);r!=null&&h(s,["_url","model"],Se(n,r));const a=d(e,["config"]);return a!=null&&WT(a,s),s}function tA(n,e){const s={},r=d(n,["outputGcsUri"]);e!==void 0&&r!=null&&h(e,["parameters","storageUri"],r);const a=d(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&h(e,["parameters","safetySetting"],a);const l=d(n,["personGeneration"]);e!==void 0&&l!=null&&h(e,["parameters","personGeneration"],l);const c=d(n,["includeRaiReason"]);e!==void 0&&c!=null&&h(e,["parameters","includeRaiReason"],c);const m=d(n,["outputMimeType"]);e!==void 0&&m!=null&&h(e,["parameters","outputOptions","mimeType"],m);const y=d(n,["outputCompressionQuality"]);e!==void 0&&y!=null&&h(e,["parameters","outputOptions","compressionQuality"],y);const p=d(n,["enhanceInputImage"]);e!==void 0&&p!=null&&h(e,["parameters","upscaleConfig","enhanceInputImage"],p);const x=d(n,["imagePreservationFactor"]);e!==void 0&&x!=null&&h(e,["parameters","upscaleConfig","imagePreservationFactor"],x);const _=d(n,["labels"]);e!==void 0&&_!=null&&h(e,["labels"],_);const b=d(n,["numberOfImages"]);e!==void 0&&b!=null&&h(e,["parameters","sampleCount"],b);const E=d(n,["mode"]);return e!==void 0&&E!=null&&h(e,["parameters","mode"],E),s}function nA(n,e){const s={},r=d(e,["model"]);r!=null&&h(s,["_url","model"],Se(n,r));const a=d(e,["image"]);a!=null&&h(s,["instances[0]","image"],nn(a));const l=d(e,["upscaleFactor"]);l!=null&&h(s,["parameters","upscaleConfig","upscaleFactor"],l);const c=d(e,["config"]);return c!=null&&tA(c,s),s}function sA(n){const e={},s=d(n,["sdkHttpResponse"]);s!=null&&h(e,["sdkHttpResponse"],s);const r=d(n,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>Oa(l))),h(e,["generatedImages"],a)}return e}function iA(n){const e={},s=d(n,["uri"]);s!=null&&h(e,["uri"],s);const r=d(n,["encodedVideo"]);r!=null&&h(e,["videoBytes"],os(r));const a=d(n,["encoding"]);return a!=null&&h(e,["mimeType"],a),e}function rA(n){const e={},s=d(n,["gcsUri"]);s!=null&&h(e,["uri"],s);const r=d(n,["bytesBase64Encoded"]);r!=null&&h(e,["videoBytes"],os(r));const a=d(n,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}function oA(n){const e={},s=d(n,["image"]);s!=null&&h(e,["_self"],nn(s));const r=d(n,["maskMode"]);return r!=null&&h(e,["maskMode"],r),e}function aA(n){const e={},s=d(n,["image"]);s!=null&&h(e,["image"],La(s));const r=d(n,["referenceType"]);return r!=null&&h(e,["referenceType"],r),e}function lA(n){const e={},s=d(n,["image"]);s!=null&&h(e,["image"],nn(s));const r=d(n,["referenceType"]);return r!=null&&h(e,["referenceType"],r),e}function Zv(n){const e={},s=d(n,["uri"]);s!=null&&h(e,["uri"],s);const r=d(n,["videoBytes"]);r!=null&&h(e,["encodedVideo"],os(r));const a=d(n,["mimeType"]);return a!=null&&h(e,["encoding"],a),e}function e0(n){const e={},s=d(n,["uri"]);s!=null&&h(e,["gcsUri"],s);const r=d(n,["videoBytes"]);r!=null&&h(e,["bytesBase64Encoded"],os(r));const a=d(n,["mimeType"]);return a!=null&&h(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uA="Content-Type",cA="X-Server-Timeout",dA="User-Agent",$c="x-goog-api-client",fA="1.30.0",hA=`google-genai-sdk/${fA}`,mA="v1beta1",pA="v1beta",Cy=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class gA{constructor(e){var s,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:mA,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:pA,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),s=new URL(e);return s.protocol=s.protocol=="http:"?"ws":"wss",s.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,s,r){const a=[this.getRequestUrlInternal(s)];return r&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let s=this.clientOptions.httpOptions;e.httpOptions&&(s=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,s,r);if(e.queryParams)for(const[c,m]of Object.entries(e.queryParams))a.searchParams.append(c,String(m));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,s,a.toString(),e.abortSignal),this.unaryApiCall(a,l,e.httpMethod)}patchHttpOptions(e,s){const r=JSON.parse(JSON.stringify(e));for(const[a,l]of Object.entries(s))typeof l=="object"?r[a]=Object.assign(Object.assign({},r[a]),l):l!==void 0&&(r[a]=l);return r}async requestStream(e){let s=this.clientOptions.httpOptions;e.httpOptions&&(s=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,s,r);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,s,a.toString(),e.abortSignal),this.streamApiCall(a,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,s,r,a){if(s&&s.timeout||a){const l=new AbortController,c=l.signal;if(s.timeout&&(s==null?void 0:s.timeout)>0){const m=setTimeout(()=>l.abort(),s.timeout);m&&typeof m.unref=="function"&&m.unref()}a&&a.addEventListener("abort",()=>{l.abort()}),e.signal=c}return s&&s.extraBody!==null&&yA(e,s.extraBody),e.headers=await this.getHeadersInternal(s,r),e}async unaryApiCall(e,s,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},s),{method:r})).then(async a=>(await Ty(a),new Vc(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,s,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},s),{method:r})).then(async a=>(await Ty(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var s;return Ri(this,arguments,function*(){const a=(s=e==null?void 0:e.body)===null||s===void 0?void 0:s.getReader(),l=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let c="";for(;;){const{done:m,value:y}=yield qe(a.read());if(m){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=l.decode(y,{stream:!0});try{const _=JSON.parse(p);if("error"in _){const b=JSON.parse(JSON.stringify(_.error)),E=b.status,C=b.code,T=`got status: ${E}. ${JSON.stringify(_)}`;if(C>=400&&C<600)throw new Pa({message:T,status:C})}}catch(_){if(_.name==="ApiError")throw _}c+=p;let x=c.match(Cy);for(;x;){const _=x[1];try{const b=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield qe(new Vc(b)),c=c.slice(x[0].length),x=c.match(Cy)}catch(b){throw new Error(`exception parsing stream chunk ${_}. ${b}`)}}}}finally{a.releaseLock()}})}async apiCall(e,s){return fetch(e,s).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},s=hA+" "+this.clientOptions.userAgentExtra;return e[dA]=s,e[$c]=s,e[uA]="application/json",e}async getHeadersInternal(e,s){const r=new Headers;if(e&&e.headers){for(const[a,l]of Object.entries(e.headers))r.append(a,l);e.timeout&&e.timeout>0&&r.append(cA,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,s),r}getFileName(e){var s;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(s=r.split(/[/\\]/).pop())!==null&&s!==void 0?s:""),r}async uploadFile(e,s){var r;const a={};s!=null&&(a.mimeType=s.mimeType,a.name=s.name,a.displayName=s.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);a.sizeBytes=String(c.size);const m=(r=s==null?void 0:s.mimeType)!==null&&r!==void 0?r:c.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=m;const y={file:a},p=this.getFileName(e),x=Q("upload/v1beta/files",y._url),_=await this.fetchUploadUrl(x,a.sizeBytes,a.mimeType,p,y,s==null?void 0:s.httpOptions);return l.upload(e,_,this)}async uploadFileToFileSearchStore(e,s,r){var a;const l=this.clientOptions.uploader,c=await l.stat(s),m=String(c.size),y=(a=r==null?void 0:r.mimeType)!==null&&a!==void 0?a:c.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const p=`upload/v1beta/${e}:uploadToFileSearchStore`,x=this.getFileName(s),_={};r!=null&&r.customMetadata&&(_.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(_.chunkingConfig=r.chunkingConfig);const b=await this.fetchUploadUrl(p,m,y,x,_,r==null?void 0:r.httpOptions);return l.uploadToFileSearchStore(s,b,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,s,r,a,l,c){var m;let y={};c?y=c:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s}`,"X-Goog-Upload-Header-Content-Type":`${r}`},a?{"X-Goog-Upload-File-Name":a}:{})};const p=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:y});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(m=p==null?void 0:p.headers)===null||m===void 0?void 0:m["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function Ty(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const s=n.status;let r;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await n.json():r={error:{message:await n.text(),code:n.status,status:n.statusText}};const a=JSON.stringify(r);throw s>=400&&s<600?new Pa({message:a,status:s}):new Error(a)}}function yA(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let s={};if(typeof n.body=="string"&&n.body.length>0)try{const l=JSON.parse(n.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))s=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(l,c){const m=Object.assign({},l);for(const y in c)if(Object.prototype.hasOwnProperty.call(c,y)){const p=c[y],x=m[y];p&&typeof p=="object"&&!Array.isArray(p)&&x&&typeof x=="object"&&!Array.isArray(x)?m[y]=r(x,p):(x&&p&&typeof x!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof x}, New type: ${typeof p}. Overwriting.`),m[y]=p)}return m}const a=r(s,e);n.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vA="mcp_used/unknown";let xA=!1;function t0(n){for(const e of n)if(_A(e)||typeof e=="object"&&"inputSchema"in e)return!0;return xA}function n0(n){var e;const s=(e=n[$c])!==null&&e!==void 0?e:"";n[$c]=(s+` ${vA}`).trimStart()}function _A(n){return n!==null&&typeof n=="object"&&n instanceof hd}function bA(n,e=100){return Ri(this,arguments,function*(){let r,a=0;for(;a<e;){const l=yield qe(n.listTools({cursor:r}));for(const c of l.tools)yield yield qe(c),a++;if(!l.nextCursor)break;r=l.nextCursor}})}class hd{constructor(e=[],s){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=s}static create(e,s){return new hd(e,s)}async initialize(){var e,s,r,a;if(this.mcpTools.length>0)return;const l={},c=[];for(const x of this.mcpClients)try{for(var m=!0,y=(s=void 0,Or(bA(x))),p;p=await y.next(),e=p.done,!e;m=!0){a=p.value,m=!1;const _=a;c.push(_);const b=_.name;if(l[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);l[b]=x}}catch(_){s={error:_}}finally{try{!m&&!e&&(r=y.return)&&await r.call(y)}finally{if(s)throw s.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),hS(this.mcpTools,this.config)}async callTool(e){await this.initialize();const s=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[r.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await a.callTool({name:r.name,arguments:r.args},void 0,l);s.push({functionResponse:{name:r.name,response:c.isError?{error:c}:c}})}return s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function wA(n,e,s){const r=new rS;let a;s.data instanceof Blob?a=JSON.parse(await s.data.text()):a=JSON.parse(s.data),Object.assign(r,a),e(r)}class EA{constructor(e,s,r){this.apiClient=e,this.auth=s,this.webSocketFactory=r}async connect(e){var s,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=TA(this.apiClient.getDefaultHeaders()),m=this.apiClient.getApiKey(),y=`${a}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${m}`;let p=()=>{};const x=new Promise(k=>{p=k}),_=e.callbacks,b=function(){p({})},E=this.apiClient,C={onopen:b,onmessage:k=>{wA(E,_.onmessage,k)},onerror:(s=_==null?void 0:_.onerror)!==null&&s!==void 0?s:function(k){},onclose:(r=_==null?void 0:_.onclose)!==null&&r!==void 0?r:function(k){}},T=this.webSocketFactory.create(y,CA(c),C);T.connect(),await x;const O={setup:{model:Se(this.apiClient,e.model)}};return T.send(JSON.stringify(O)),new SA(T,this.apiClient)}}class SA{constructor(e,s){this.conn=e,this.apiClient=s}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const s=c2(e);this.conn.send(JSON.stringify({clientContent:s}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const s=u2(e);this.conn.send(JSON.stringify(s))}sendPlaybackControl(e){const s={playbackControl:e};this.conn.send(JSON.stringify(s))}play(){this.sendPlaybackControl(Ti.PLAY)}pause(){this.sendPlaybackControl(Ti.PAUSE)}stop(){this.sendPlaybackControl(Ti.STOP)}resetContext(){this.sendPlaybackControl(Ti.RESET_CONTEXT)}close(){this.conn.close()}}function CA(n){const e={};return n.forEach((s,r)=>{e[r]=s}),e}function TA(n){const e=new Headers;for(const[s,r]of Object.entries(n))e.append(s,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function NA(n,e,s){const r=new iS;let a;s.data instanceof Blob?a=await s.data.text():s.data instanceof ArrayBuffer?a=new TextDecoder().decode(s.data):a=s.data;const l=JSON.parse(a);if(n.isVertexAI()){const c=h2(l);Object.assign(r,c)}else Object.assign(r,l);e(r)}class RA{constructor(e,s,r){this.apiClient=e,this.auth=s,this.webSocketFactory=r,this.music=new EA(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var s,r,a,l,c,m;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let x;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&t0(e.config.tools)&&n0(_);const b=IA(_);if(this.apiClient.isVertexAI())x=`${y}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b,x);else{const ee=this.apiClient.getApiKey();let ve="BidiGenerateContent",Ae="key";ee!=null&&ee.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ve="BidiGenerateContentConstrained",Ae="access_token"),x=`${y}/ws/google.ai.generativelanguage.${p}.GenerativeService.${ve}?${Ae}=${ee}`}let E=()=>{};const C=new Promise(ee=>{E=ee}),T=e.callbacks,A=function(){var ee;(ee=T==null?void 0:T.onopen)===null||ee===void 0||ee.call(T),E({})},U=this.apiClient,O={onopen:A,onmessage:ee=>{NA(U,T.onmessage,ee)},onerror:(s=T==null?void 0:T.onerror)!==null&&s!==void 0?s:function(ee){},onclose:(r=T==null?void 0:T.onclose)!==null&&r!==void 0?r:function(ee){}},k=this.webSocketFactory.create(x,kA(b),O);k.connect(),await C;let F=Se(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&F.startsWith("publishers/")){const ee=this.apiClient.getProject(),ve=this.apiClient.getLocation();F=`projects/${ee}/locations/${ve}/`+F}let Y={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Na.AUDIO]}:e.config.responseModalities=[Na.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const J=(m=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&m!==void 0?m:[],z=[];for(const ee of J)if(this.isCallableTool(ee)){const ve=ee;z.push(await ve.tool())}else z.push(ee);z.length>0&&(e.config.tools=z);const de={model:F,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Y=l2(this.apiClient,de):Y=a2(this.apiClient,de),delete Y.config,k.send(JSON.stringify(Y)),new MA(k,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const DA={turnComplete:!0};class MA{constructor(e,s){this.conn=e,this.apiClient=s}tLiveClientContent(e,s){if(s.turns!==null&&s.turns!==void 0){let r=[];try{r=Yt(s.turns),e.isVertexAI()||(r=r.map(a=>ja(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof s.turns}'`)}return{clientContent:{turns:r,turnComplete:s.turnComplete}}}return{clientContent:{turnComplete:s.turnComplete}}}tLiveClienttToolResponse(e,s){let r=[];if(s.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(s.functionResponses)?r=s.functionResponses:r=[s.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const l of r){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(AA)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},DA),e);const s=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(s))}sendRealtimeInput(e){let s={};this.apiClient.isVertexAI()?s={realtimeInput:f2(e)}:s={realtimeInput:d2(e)},this.conn.send(JSON.stringify(s))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const s=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(s))}close(){this.conn.close()}}function kA(n){const e={};return n.forEach((s,r)=>{e[r]=s}),e}function IA(n){const e=new Headers;for(const[s,r]of Object.entries(n))e.append(s,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ay=10;function Ny(n){var e,s,r;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const c of(s=n==null?void 0:n.tools)!==null&&s!==void 0?s:[])if(Di(c)){a=!0;break}if(!a)return!0;const l=(r=n==null?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function Di(n){return"callTool"in n&&typeof n.callTool=="function"}function UA(n){var e,s,r;return(r=(s=(e=n.config)===null||e===void 0?void 0:e.tools)===null||s===void 0?void 0:s.some(a=>Di(a)))!==null&&r!==void 0?r:!1}function Ry(n){var e;const s=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((r,a)=>{if(Di(r))return;const l=r;l.functionDeclarations&&l.functionDeclarations.length>0&&s.push(a)}),s}function Dy(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PA extends Rn{constructor(e){super(),this.apiClient=e,this.generateContent=async s=>{var r,a,l,c,m;const y=await this.processParamsMaybeAddMcpUsage(s);if(this.maybeMoveToResponseJsonSchem(s),!UA(s)||Ny(s.config))return await this.generateContentInternal(y);const p=Ry(s);if(p.length>0){const T=p.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${T}.`)}let x,_;const b=Yt(y.contents),E=(l=(a=(r=y.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&l!==void 0?l:Ay;let C=0;for(;C<E&&(x=await this.generateContentInternal(y),!(!x.functionCalls||x.functionCalls.length===0));){const T=x.candidates[0].content,A=[];for(const U of(m=(c=s.config)===null||c===void 0?void 0:c.tools)!==null&&m!==void 0?m:[])if(Di(U)){const k=await U.callTool(x.functionCalls);A.push(...k)}C++,_={role:"user",parts:A},y.contents=Yt(y.contents),y.contents.push(T),y.contents.push(_),Dy(y.config)&&(b.push(T),b.push(_))}return Dy(y.config)&&(x.automaticFunctionCallingHistory=b),x},this.generateContentStream=async s=>{var r,a,l,c,m;if(this.maybeMoveToResponseJsonSchem(s),Ny(s.config)){const _=await this.processParamsMaybeAddMcpUsage(s);return await this.generateContentStreamInternal(_)}const y=Ry(s);if(y.length>0){const _=y.map(b=>`tools[${b}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const p=(l=(a=(r=s==null?void 0:s.config)===null||r===void 0?void 0:r.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,x=(m=(c=s==null?void 0:s.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||m===void 0?void 0:m.disable;if(p&&!x)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(s)},this.generateImages=async s=>await this.generateImagesInternal(s).then(r=>{var a;let l;const c=[];if(r!=null&&r.generatedImages)for(const y of r.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((a=y==null?void 0:y.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?l=y==null?void 0:y.safetyAttributes:c.push(y);let m;return l?m={generatedImages:c,positivePromptSafetyAttributes:l,sdkHttpResponse:r.sdkHttpResponse}:m={generatedImages:c,sdkHttpResponse:r.sdkHttpResponse},m}),this.list=async s=>{var r;const c={config:Object.assign(Object.assign({},{queryBase:!0}),s==null?void 0:s.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((r=c.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Is(Nn.PAGED_ITEM_MODELS,m=>this.listInternal(m),await this.listInternal(c),c)},this.editImage=async s=>{const r={model:s.model,prompt:s.prompt,referenceImages:[],config:s.config};return s.referenceImages&&s.referenceImages&&(r.referenceImages=s.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async s=>{let r={numberOfImages:1,mode:"upscale"};s.config&&(r=Object.assign(Object.assign({},r),s.config));const a={model:s.model,image:s.image,upscaleFactor:s.upscaleFactor,config:r};return await this.upscaleImageInternal(a)},this.generateVideos=async s=>{var r,a,l,c,m,y;if((s.prompt||s.image||s.video)&&s.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=s.video)===null||r===void 0)&&r.uri&&(!((a=s.video)===null||a===void 0)&&a.videoBytes)?s.video={uri:s.video.uri,mimeType:s.video.mimeType}:!((c=(l=s.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.uri&&(!((y=(m=s.source)===null||m===void 0?void 0:m.video)===null||y===void 0)&&y.videoBytes)&&(s.source.video={uri:s.source.video.uri,mimeType:s.source.video.mimeType})),await this.generateVideosInternal(s)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var s,r,a;const l=(s=e.config)===null||s===void 0?void 0:s.tools;if(!l)return e;const c=await Promise.all(l.map(async y=>Di(y)?await y.tool():y)),m={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(m.config.tools=c,e.config&&e.config.tools&&t0(e.config.tools)){const y=(a=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&a!==void 0?a:{};let p=Object.assign({},y);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),n0(p),m.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return m}async initAfcToolsMap(e){var s,r,a;const l=new Map;for(const c of(r=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&r!==void 0?r:[])if(Di(c)){const m=c,y=await m.tool();for(const p of(a=y.functionDeclarations)!==null&&a!==void 0?a:[]){if(!p.name)throw new Error("Function declaration name is required.");if(l.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);l.set(p.name,m)}}return l}async processAfcStream(e){var s,r,a;const l=(a=(r=(s=e.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:Ay;let c=!1,m=0;const y=await this.initAfcToolsMap(e);return(function(p,x,_){var b,E;return Ri(this,arguments,function*(){for(var C,T,A,U;m<l;){c&&(m++,c=!1);const Y=yield qe(p.processParamsMaybeAddMcpUsage(_)),J=yield qe(p.generateContentStreamInternal(Y)),z=[],de=[];try{for(var O=!0,k=(T=void 0,Or(J)),F;F=yield qe(k.next()),C=F.done,!C;O=!0){U=F.value,O=!1;const ee=U;if(yield yield qe(ee),ee.candidates&&(!((b=ee.candidates[0])===null||b===void 0)&&b.content)){de.push(ee.candidates[0].content);for(const ve of(E=ee.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(m<l&&ve.functionCall){if(!ve.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(ve.functionCall.name)){const Ae=yield qe(x.get(ve.functionCall.name).callTool([ve.functionCall]));z.push(...Ae)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${ve.functionCall.name}`)}}}}catch(ee){T={error:ee}}finally{try{!O&&!C&&(A=k.return)&&(yield qe(A.call(k)))}finally{if(T)throw T.error}}if(z.length>0){c=!0;const ee=new kr;ee.candidates=[{content:{role:"user",parts:z}}],yield yield qe(ee);const ve=[];ve.push(...de),ve.push({role:"user",parts:z});const Ae=Yt(_.contents).concat(ve);_.contents=Ae}else break}})})(this,y,e)}async generateContentInternal(e){var s,r,a,l;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=wy(this.apiClient,e);return m=Q("{model}:generateContent",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),c.then(x=>{const _=Sy(x),b=new kr;return Object.assign(b,_),b})}else{const p=by(this.apiClient,e);return m=Q("{model}:generateContent",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),c.then(x=>{const _=Ey(x),b=new kr;return Object.assign(b,_),b})}}async generateContentStreamInternal(e){var s,r,a,l;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=wy(this.apiClient,e);return m=Q("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),c.then(function(_){return Ri(this,arguments,function*(){var b,E,C,T;try{for(var A=!0,U=Or(_),O;O=yield qe(U.next()),b=O.done,!b;A=!0){T=O.value,A=!1;const k=T,F=Sy(yield qe(k.json()));F.sdkHttpResponse={headers:k.headers};const Y=new kr;Object.assign(Y,F),yield yield qe(Y)}}catch(k){E={error:k}}finally{try{!A&&!b&&(C=U.return)&&(yield qe(C.call(U)))}finally{if(E)throw E.error}}})})}else{const p=by(this.apiClient,e);return m=Q("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(_){return Ri(this,arguments,function*(){var b,E,C,T;try{for(var A=!0,U=Or(_),O;O=yield qe(U.next()),b=O.done,!b;A=!0){T=O.value,A=!1;const k=T,F=Ey(yield qe(k.json()));F.sdkHttpResponse={headers:k.headers};const Y=new kr;Object.assign(Y,F),yield yield qe(Y)}}catch(k){E={error:k}}finally{try{!A&&!b&&(C=U.return)&&(yield qe(C.call(U)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var s,r,a,l;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=G2(this.apiClient,e);return m=Q("{model}:predict",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),c.then(x=>{const _=z2(x),b=new ry;return Object.assign(b,_),b})}else{const p=H2(this.apiClient,e);return m=Q("{model}:batchEmbedContents",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),c.then(x=>{const _=F2(x),b=new ry;return Object.assign(b,_),b})}}async generateImagesInternal(e){var s,r,a,l;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=nT(this.apiClient,e);return m=Q("{model}:predict",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),c.then(x=>{const _=iT(x),b=new oy;return Object.assign(b,_),b})}else{const p=tT(this.apiClient,e);return m=Q("{model}:predict",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),c.then(x=>{const _=sT(x),b=new oy;return Object.assign(b,_),b})}}async editImageInternal(e){var s,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const m=L2(this.apiClient,e);return l=Q("{model}:predict",m._url),c=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:y.headers},x})),a.then(y=>{const p=B2(y),x=new JE;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var s,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const m=nA(this.apiClient,e);return l=Q("{model}:predict",m._url),c=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:y.headers},x})),a.then(y=>{const p=sA(y),x=new KE;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var s,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const m=OT(this.apiClient,e);return l=Q("{model}:predict",m._url),c=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(y=>{const p=LT(y),x=new YE;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var s,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const m=FT(this.apiClient,e);return l=Q("{model}:predict",m._url),c=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(y=>{const p=zT(y),x=new XE;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var s,r,a,l;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=bT(this.apiClient,e);return m=Q("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>zc(x))}else{const p=_T(this.apiClient,e);return m=Q("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>Fc(x))}}async listInternal(e){var s,r,a,l;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=DT(this.apiClient,e);return m=Q("{models_url}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),c.then(x=>{const _=kT(x),b=new ay;return Object.assign(b,_),b})}else{const p=RT(this.apiClient,e);return m=Q("{models_url}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),c.then(x=>{const _=MT(x),b=new ay;return Object.assign(b,_),b})}}async update(e){var s,r,a,l;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=eA(this.apiClient,e);return m=Q("{model}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>zc(x))}else{const p=ZT(this.apiClient,e);return m=Q("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>Fc(x))}}async delete(e){var s,r,a,l;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=U2(this.apiClient,e);return m=Q("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),c.then(x=>{const _=j2(x),b=new ly;return Object.assign(b,_),b})}else{const p=I2(this.apiClient,e);return m=Q("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),c.then(x=>{const _=P2(x),b=new ly;return Object.assign(b,_),b})}}async countTokens(e){var s,r,a,l;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=D2(this.apiClient,e);return m=Q("{model}:countTokens",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),c.then(x=>{const _=k2(x),b=new uy;return Object.assign(b,_),b})}else{const p=R2(this.apiClient,e);return m=Q("{model}:countTokens",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),c.then(x=>{const _=M2(x),b=new uy;return Object.assign(b,_),b})}}async computeTokens(e){var s,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const m=w2(this.apiClient,e);return l=Q("{model}:computeTokens",m._url),c=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:y.headers},x})),a.then(y=>{const p=E2(y),x=new QE;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var s,r,a,l;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=cT(this.apiClient,e);return m=Q("{model}:predictLongRunning",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c.then(x=>{const _=lT(x),b=new Ra;return Object.assign(b,_),b})}else{const p=uT(this.apiClient,e);return m=Q("{model}:predictLongRunning",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c.then(x=>{const _=aT(x),b=new Ra;return Object.assign(b,_),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jA extends Rn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const s=e.operation,r=e.config;if(s.name===void 0||s.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=s.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:s.name,resourceName:a,config:{httpOptions:l}});return s._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:s.name,config:r});return s._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const s=e.operation,r=e.config;if(s.name===void 0||s.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=s.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:s.name,resourceName:a,config:{httpOptions:l}});return s._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:s.name,config:r});return s._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var s,r,a,l;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=VE(e);return m=Q("{operationName}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),c}else{const p=qE(e);return m=Q("{operationName}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json()),c}}async fetchPredictVideosOperationInternal(e){var s,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const m=IE(e);return l=Q("{resourceName}:fetchPredictOperation",m._url),c=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OA(n){const e={},s=d(n,["data"]);if(s!=null&&h(e,["data"],s),d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function LA(n){const e={},s=d(n,["parts"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>JA(l))),h(e,["parts"],a)}const r=d(n,["role"]);return r!=null&&h(e,["role"],r),e}function BA(n,e,s){const r={},a=d(e,["expireTime"]);s!==void 0&&a!=null&&h(s,["expireTime"],a);const l=d(e,["newSessionExpireTime"]);s!==void 0&&l!=null&&h(s,["newSessionExpireTime"],l);const c=d(e,["uses"]);s!==void 0&&c!=null&&h(s,["uses"],c);const m=d(e,["liveConnectConstraints"]);s!==void 0&&m!=null&&h(s,["bidiGenerateContentSetup"],$A(n,m));const y=d(e,["lockAdditionalFields"]);return s!==void 0&&y!=null&&h(s,["fieldMask"],y),r}function qA(n,e){const s={},r=d(e,["config"]);return r!=null&&h(s,["config"],BA(n,r,s)),s}function VA(n){const e={};if(d(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=d(n,["fileUri"]);s!=null&&h(e,["fileUri"],s);const r=d(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function HA(n){const e={},s=d(n,["id"]);s!=null&&h(e,["id"],s);const r=d(n,["args"]);r!=null&&h(e,["args"],r);const a=d(n,["name"]);if(a!=null&&h(e,["name"],a),d(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function GA(n){const e={};if(d(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=d(n,["enableWidget"]);return s!=null&&h(e,["enableWidget"],s),e}function FA(n){const e={};if(d(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=d(n,["timeRangeFilter"]);return s!=null&&h(e,["timeRangeFilter"],s),e}function zA(n,e){const s={},r=d(n,["generationConfig"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig"],r);const a=d(n,["responseModalities"]);e!==void 0&&a!=null&&h(e,["setup","generationConfig","responseModalities"],a);const l=d(n,["temperature"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","temperature"],l);const c=d(n,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const m=d(n,["topK"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","topK"],m);const y=d(n,["maxOutputTokens"]);e!==void 0&&y!=null&&h(e,["setup","generationConfig","maxOutputTokens"],y);const p=d(n,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const x=d(n,["seed"]);e!==void 0&&x!=null&&h(e,["setup","generationConfig","seed"],x);const _=d(n,["speechConfig"]);e!==void 0&&_!=null&&h(e,["setup","generationConfig","speechConfig"],fd(_));const b=d(n,["thinkingConfig"]);e!==void 0&&b!=null&&h(e,["setup","generationConfig","thinkingConfig"],b);const E=d(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],E);const C=d(n,["systemInstruction"]);e!==void 0&&C!=null&&h(e,["setup","systemInstruction"],LA(ft(C)));const T=d(n,["tools"]);if(e!==void 0&&T!=null){let J=Pi(T);Array.isArray(J)&&(J=J.map(z=>YA(Ui(z)))),h(e,["setup","tools"],J)}const A=d(n,["sessionResumption"]);e!==void 0&&A!=null&&h(e,["setup","sessionResumption"],KA(A));const U=d(n,["inputAudioTranscription"]);e!==void 0&&U!=null&&h(e,["setup","inputAudioTranscription"],U);const O=d(n,["outputAudioTranscription"]);e!==void 0&&O!=null&&h(e,["setup","outputAudioTranscription"],O);const k=d(n,["realtimeInputConfig"]);e!==void 0&&k!=null&&h(e,["setup","realtimeInputConfig"],k);const F=d(n,["contextWindowCompression"]);e!==void 0&&F!=null&&h(e,["setup","contextWindowCompression"],F);const Y=d(n,["proactivity"]);return e!==void 0&&Y!=null&&h(e,["setup","proactivity"],Y),s}function $A(n,e){const s={},r=d(e,["model"]);r!=null&&h(s,["setup","model"],Se(n,r));const a=d(e,["config"]);return a!=null&&h(s,["config"],zA(a,s)),s}function JA(n){const e={},s=d(n,["mediaResolution"]);s!=null&&h(e,["mediaResolution"],s);const r=d(n,["codeExecutionResult"]);r!=null&&h(e,["codeExecutionResult"],r);const a=d(n,["executableCode"]);a!=null&&h(e,["executableCode"],a);const l=d(n,["fileData"]);l!=null&&h(e,["fileData"],VA(l));const c=d(n,["functionCall"]);c!=null&&h(e,["functionCall"],HA(c));const m=d(n,["functionResponse"]);m!=null&&h(e,["functionResponse"],m);const y=d(n,["inlineData"]);y!=null&&h(e,["inlineData"],OA(y));const p=d(n,["text"]);p!=null&&h(e,["text"],p);const x=d(n,["thought"]);x!=null&&h(e,["thought"],x);const _=d(n,["thoughtSignature"]);_!=null&&h(e,["thoughtSignature"],_);const b=d(n,["videoMetadata"]);return b!=null&&h(e,["videoMetadata"],b),e}function KA(n){const e={},s=d(n,["handle"]);if(s!=null&&h(e,["handle"],s),d(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function YA(n){const e={},s=d(n,["functionDeclarations"]);if(s!=null){let x=s;Array.isArray(x)&&(x=x.map(_=>_)),h(e,["functionDeclarations"],x)}if(d(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(n,["googleSearchRetrieval"]);r!=null&&h(e,["googleSearchRetrieval"],r);const a=d(n,["computerUse"]);a!=null&&h(e,["computerUse"],a);const l=d(n,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=d(n,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),d(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=d(n,["googleMaps"]);m!=null&&h(e,["googleMaps"],GA(m));const y=d(n,["googleSearch"]);y!=null&&h(e,["googleSearch"],FA(y));const p=d(n,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XA(n){const e=[];for(const s in n)if(Object.prototype.hasOwnProperty.call(n,s)){const r=n[s];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const a=Object.keys(r).map(l=>`${s}.${l}`);e.push(...a)}else e.push(s)}return e.join(",")}function QA(n,e){let s=null;const r=n.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const l=r.setup;typeof l=="object"&&l!==null?(n.bidiGenerateContentSetup=l,s=l):delete n.bidiGenerateContentSetup}else r!==void 0&&delete n.bidiGenerateContentSetup;const a=n.fieldMask;if(s){const l=XA(s);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?n.fieldMask=l:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let m=[];a.length>0&&(m=a.map(p=>c.includes(p)?`generationConfig.${p}`:p));const y=[];l&&y.push(l),m.length>0&&y.push(...m),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?n.fieldMask=a.join(","):delete n.fieldMask;return n}class WA extends Rn{constructor(e){super(),this.apiClient=e}async create(e){var s,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const m=qA(this.apiClient,e);l=Q("auth_tokens",m._url),c=m._query,delete m.config,delete m._url,delete m._query;const y=QA(m,e.config);return a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>p)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZA(n,e){const s={},r=d(n,["displayName"]);return e!==void 0&&r!=null&&h(e,["displayName"],r),s}function eN(n){const e={},s=d(n,["config"]);return s!=null&&ZA(s,e),e}function tN(n,e){const s={},r=d(n,["force"]);return e!==void 0&&r!=null&&h(e,["_query","force"],r),s}function nN(n){const e={},s=d(n,["name"]);s!=null&&h(e,["_url","name"],s);const r=d(n,["config"]);return r!=null&&tN(r,e),e}function sN(n){const e={},s=d(n,["name"]);return s!=null&&h(e,["_url","name"],s),e}function iN(n,e){const s={},r=d(n,["customMetadata"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["customMetadata"],l)}const a=d(n,["chunkingConfig"]);return e!==void 0&&a!=null&&h(e,["chunkingConfig"],a),s}function rN(n){const e={},s=d(n,["name"]);s!=null&&h(e,["name"],s);const r=d(n,["metadata"]);r!=null&&h(e,["metadata"],r);const a=d(n,["done"]);a!=null&&h(e,["done"],a);const l=d(n,["error"]);l!=null&&h(e,["error"],l);const c=d(n,["response"]);return c!=null&&h(e,["response"],aN(c)),e}function oN(n){const e={},s=d(n,["fileSearchStoreName"]);s!=null&&h(e,["_url","file_search_store_name"],s);const r=d(n,["fileName"]);r!=null&&h(e,["fileName"],r);const a=d(n,["config"]);return a!=null&&iN(a,e),e}function aN(n){const e={},s=d(n,["sdkHttpResponse"]);s!=null&&h(e,["sdkHttpResponse"],s);const r=d(n,["parent"]);r!=null&&h(e,["parent"],r);const a=d(n,["documentName"]);return a!=null&&h(e,["documentName"],a),e}function lN(n,e){const s={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);return e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),s}function uN(n){const e={},s=d(n,["config"]);return s!=null&&lN(s,e),e}function cN(n){const e={},s=d(n,["sdkHttpResponse"]);s!=null&&h(e,["sdkHttpResponse"],s);const r=d(n,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const a=d(n,["fileSearchStores"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["fileSearchStores"],l)}return e}function dN(n,e){const s={},r=d(n,["mimeType"]);e!==void 0&&r!=null&&h(e,["mimeType"],r);const a=d(n,["displayName"]);e!==void 0&&a!=null&&h(e,["displayName"],a);const l=d(n,["customMetadata"]);if(e!==void 0&&l!=null){let m=l;Array.isArray(m)&&(m=m.map(y=>y)),h(e,["customMetadata"],m)}const c=d(n,["chunkingConfig"]);return e!==void 0&&c!=null&&h(e,["chunkingConfig"],c),s}function fN(n){const e={},s=d(n,["fileSearchStoreName"]);s!=null&&h(e,["_url","file_search_store_name"],s);const r=d(n,["config"]);return r!=null&&dN(r,e),e}function hN(n){const e={},s=d(n,["sdkHttpResponse"]);return s!=null&&h(e,["sdkHttpResponse"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mN(n,e){const s={},r=d(n,["force"]);return e!==void 0&&r!=null&&h(e,["_query","force"],r),s}function pN(n){const e={},s=d(n,["name"]);s!=null&&h(e,["_url","name"],s);const r=d(n,["config"]);return r!=null&&mN(r,e),e}function gN(n){const e={},s=d(n,["name"]);return s!=null&&h(e,["_url","name"],s),e}function yN(n,e){const s={},r=d(n,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const a=d(n,["pageToken"]);return e!==void 0&&a!=null&&h(e,["_query","pageToken"],a),s}function vN(n){const e={},s=d(n,["parent"]);s!=null&&h(e,["_url","parent"],s);const r=d(n,["config"]);return r!=null&&yN(r,e),e}function xN(n){const e={},s=d(n,["sdkHttpResponse"]);s!=null&&h(e,["sdkHttpResponse"],s);const r=d(n,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const a=d(n,["documents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _N extends Rn{constructor(e){super(),this.apiClient=e,this.list=async s=>new Is(Nn.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:s.parent,config:r.config}),await this.listInternal(s),s)}async get(e){var s,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=gN(e);return l=Q("{name}",m._url),c=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(e){var s,r;let a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=pN(e);a=Q("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var s,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=vN(e);return l=Q("{parent}/documents",m._url),c=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(y=>{const p=xN(y),x=new WE;return Object.assign(x,p),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bN extends Rn{constructor(e,s=new _N(e)){super(),this.apiClient=e,this.documents=s,this.list=async(r={})=>new Is(Nn.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var s,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=eN(e);return l=Q("fileSearchStores",m._url),c=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async get(e){var s,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=sN(e);return l=Q("{name}",m._url),c=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(e){var s,r;let a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=nN(e);a=Q("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var s,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=uN(e);return l=Q("fileSearchStores",m._url),c=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(y=>{const p=cN(y),x=new ZE;return Object.assign(x,p),x})}}async uploadToFileSearchStoreInternal(e){var s,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=fN(e);return l=Q("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",m._url),c=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(y=>{const p=hN(y),x=new eS;return Object.assign(x,p),x})}}async importFile(e){var s,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=oN(e);return l=Q("{file_search_store_name}:importFile",m._url),c=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),a.then(y=>{const p=rN(y),x=new ad;return Object.assign(x,p),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wN(n,e){const s={},r=d(n,["name"]);return r!=null&&h(s,["_url","name"],r),s}function EN(n,e){const s={},r=d(n,["name"]);return r!=null&&h(s,["_url","name"],r),s}function SN(n,e,s){const r={};if(d(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=d(n,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&h(e,["displayName"],a),d(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=d(n,["epochCount"]);e!==void 0&&l!=null&&h(e,["tuningTask","hyperparameters","epochCount"],l);const c=d(n,["learningRateMultiplier"]);if(c!=null&&h(r,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=d(n,["batchSize"]);e!==void 0&&m!=null&&h(e,["tuningTask","hyperparameters","batchSize"],m);const y=d(n,["learningRate"]);if(e!==void 0&&y!=null&&h(e,["tuningTask","hyperparameters","learningRate"],y),d(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function CN(n,e,s){const r={};let a=d(s,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const E=d(n,["validationDataset"]);e!==void 0&&E!=null&&h(e,["supervisedTuningSpec"],My(E))}else if(a==="PREFERENCE_TUNING"){const E=d(n,["validationDataset"]);e!==void 0&&E!=null&&h(e,["preferenceOptimizationSpec"],My(E))}const l=d(n,["tunedModelDisplayName"]);e!==void 0&&l!=null&&h(e,["tunedModelDisplayName"],l);const c=d(n,["description"]);e!==void 0&&c!=null&&h(e,["description"],c);let m=d(s,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const E=d(n,["epochCount"]);e!==void 0&&E!=null&&h(e,["supervisedTuningSpec","hyperParameters","epochCount"],E)}else if(m==="PREFERENCE_TUNING"){const E=d(n,["epochCount"]);e!==void 0&&E!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],E)}let y=d(s,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const E=d(n,["learningRateMultiplier"]);e!==void 0&&E!=null&&h(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],E)}else if(y==="PREFERENCE_TUNING"){const E=d(n,["learningRateMultiplier"]);e!==void 0&&E!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],E)}let p=d(s,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const E=d(n,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&h(e,["supervisedTuningSpec","exportLastCheckpointOnly"],E)}else if(p==="PREFERENCE_TUNING"){const E=d(n,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&h(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],E)}let x=d(s,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const E=d(n,["adapterSize"]);e!==void 0&&E!=null&&h(e,["supervisedTuningSpec","hyperParameters","adapterSize"],E)}else if(x==="PREFERENCE_TUNING"){const E=d(n,["adapterSize"]);e!==void 0&&E!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],E)}if(d(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=d(n,["labels"]);e!==void 0&&_!=null&&h(e,["labels"],_);const b=d(n,["beta"]);return e!==void 0&&b!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","beta"],b),r}function TN(n,e){const s={},r=d(n,["baseModel"]);r!=null&&h(s,["baseModel"],r);const a=d(n,["preTunedModel"]);a!=null&&h(s,["preTunedModel"],a);const l=d(n,["trainingDataset"]);l!=null&&ON(l);const c=d(n,["config"]);return c!=null&&SN(c,s),s}function AN(n,e){const s={},r=d(n,["baseModel"]);r!=null&&h(s,["baseModel"],r);const a=d(n,["preTunedModel"]);a!=null&&h(s,["preTunedModel"],a);const l=d(n,["trainingDataset"]);l!=null&&LN(l,s,e);const c=d(n,["config"]);return c!=null&&CN(c,s,e),s}function NN(n,e){const s={},r=d(n,["name"]);return r!=null&&h(s,["_url","name"],r),s}function RN(n,e){const s={},r=d(n,["name"]);return r!=null&&h(s,["_url","name"],r),s}function DN(n,e,s){const r={},a=d(n,["pageSize"]);e!==void 0&&a!=null&&h(e,["_query","pageSize"],a);const l=d(n,["pageToken"]);e!==void 0&&l!=null&&h(e,["_query","pageToken"],l);const c=d(n,["filter"]);return e!==void 0&&c!=null&&h(e,["_query","filter"],c),r}function MN(n,e,s){const r={},a=d(n,["pageSize"]);e!==void 0&&a!=null&&h(e,["_query","pageSize"],a);const l=d(n,["pageToken"]);e!==void 0&&l!=null&&h(e,["_query","pageToken"],l);const c=d(n,["filter"]);return e!==void 0&&c!=null&&h(e,["_query","filter"],c),r}function kN(n,e){const s={},r=d(n,["config"]);return r!=null&&DN(r,s),s}function IN(n,e){const s={},r=d(n,["config"]);return r!=null&&MN(r,s),s}function UN(n,e){const s={},r=d(n,["sdkHttpResponse"]);r!=null&&h(s,["sdkHttpResponse"],r);const a=d(n,["nextPageToken"]);a!=null&&h(s,["nextPageToken"],a);const l=d(n,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>s0(m))),h(s,["tuningJobs"],c)}return s}function PN(n,e){const s={},r=d(n,["sdkHttpResponse"]);r!=null&&h(s,["sdkHttpResponse"],r);const a=d(n,["nextPageToken"]);a!=null&&h(s,["nextPageToken"],a);const l=d(n,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>Jc(m))),h(s,["tuningJobs"],c)}return s}function jN(n,e){const s={},r=d(n,["name"]);r!=null&&h(s,["model"],r);const a=d(n,["name"]);return a!=null&&h(s,["endpoint"],a),s}function ON(n,e){const s={};if(d(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=d(n,["examples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),h(s,["examples","examples"],a)}return s}function LN(n,e,s){const r={};let a=d(s,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const c=d(n,["gcsUri"]);e!==void 0&&c!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(a==="PREFERENCE_TUNING"){const c=d(n,["gcsUri"]);e!==void 0&&c!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let l=d(s,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=d(n,["vertexDatasetResource"]);e!==void 0&&c!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=d(n,["vertexDatasetResource"]);e!==void 0&&c!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(d(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function s0(n,e){const s={},r=d(n,["sdkHttpResponse"]);r!=null&&h(s,["sdkHttpResponse"],r);const a=d(n,["name"]);a!=null&&h(s,["name"],a);const l=d(n,["state"]);l!=null&&h(s,["state"],Lv(l));const c=d(n,["createTime"]);c!=null&&h(s,["createTime"],c);const m=d(n,["tuningTask","startTime"]);m!=null&&h(s,["startTime"],m);const y=d(n,["tuningTask","completeTime"]);y!=null&&h(s,["endTime"],y);const p=d(n,["updateTime"]);p!=null&&h(s,["updateTime"],p);const x=d(n,["description"]);x!=null&&h(s,["description"],x);const _=d(n,["baseModel"]);_!=null&&h(s,["baseModel"],_);const b=d(n,["_self"]);return b!=null&&h(s,["tunedModel"],jN(b)),s}function Jc(n,e){const s={},r=d(n,["sdkHttpResponse"]);r!=null&&h(s,["sdkHttpResponse"],r);const a=d(n,["name"]);a!=null&&h(s,["name"],a);const l=d(n,["state"]);l!=null&&h(s,["state"],Lv(l));const c=d(n,["createTime"]);c!=null&&h(s,["createTime"],c);const m=d(n,["startTime"]);m!=null&&h(s,["startTime"],m);const y=d(n,["endTime"]);y!=null&&h(s,["endTime"],y);const p=d(n,["updateTime"]);p!=null&&h(s,["updateTime"],p);const x=d(n,["error"]);x!=null&&h(s,["error"],x);const _=d(n,["description"]);_!=null&&h(s,["description"],_);const b=d(n,["baseModel"]);b!=null&&h(s,["baseModel"],b);const E=d(n,["tunedModel"]);E!=null&&h(s,["tunedModel"],E);const C=d(n,["preTunedModel"]);C!=null&&h(s,["preTunedModel"],C);const T=d(n,["supervisedTuningSpec"]);T!=null&&h(s,["supervisedTuningSpec"],T);const A=d(n,["preferenceOptimizationSpec"]);A!=null&&h(s,["preferenceOptimizationSpec"],A);const U=d(n,["tuningDataStats"]);U!=null&&h(s,["tuningDataStats"],U);const O=d(n,["encryptionSpec"]);O!=null&&h(s,["encryptionSpec"],O);const k=d(n,["partnerModelTuningSpec"]);k!=null&&h(s,["partnerModelTuningSpec"],k);const F=d(n,["customBaseModel"]);F!=null&&h(s,["customBaseModel"],F);const Y=d(n,["experiment"]);Y!=null&&h(s,["experiment"],Y);const J=d(n,["labels"]);J!=null&&h(s,["labels"],J);const z=d(n,["outputUri"]);z!=null&&h(s,["outputUri"],z);const de=d(n,["pipelineJob"]);de!=null&&h(s,["pipelineJob"],de);const ee=d(n,["serviceAccount"]);ee!=null&&h(s,["serviceAccount"],ee);const ve=d(n,["tunedModelDisplayName"]);ve!=null&&h(s,["tunedModelDisplayName"],ve);const Ae=d(n,["veoTuningSpec"]);return Ae!=null&&h(s,["veoTuningSpec"],Ae),s}function BN(n,e){const s={},r=d(n,["sdkHttpResponse"]);r!=null&&h(s,["sdkHttpResponse"],r);const a=d(n,["name"]);a!=null&&h(s,["name"],a);const l=d(n,["metadata"]);l!=null&&h(s,["metadata"],l);const c=d(n,["done"]);c!=null&&h(s,["done"],c);const m=d(n,["error"]);return m!=null&&h(s,["error"],m),s}function My(n,e){const s={},r=d(n,["gcsUri"]);r!=null&&h(s,["validationDatasetUri"],r);const a=d(n,["vertexDatasetResource"]);return a!=null&&h(s,["validationDatasetUri"],a),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qN extends Rn{constructor(e){super(),this.apiClient=e,this.get=async s=>await this.getInternal(s),this.list=async(s={})=>new Is(Nn.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(s),s),this.tune=async s=>{var r;if(this.apiClient.isVertexAI())if(s.baseModel.startsWith("projects/")){const a={tunedModelName:s.baseModel};!((r=s.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(a.checkpointId=s.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},s),{preTunedModel:a});return l.baseModel=void 0,await this.tuneInternal(l)}else{const a=Object.assign({},s);return await this.tuneInternal(a)}else{const a=Object.assign({},s),l=await this.tuneMldevInternal(a);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:qc.JOB_STATE_QUEUED}}}}async getInternal(e){var s,r,a,l;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=RN(e);return m=Q("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),c.then(x=>Jc(x))}else{const p=NN(e);return m=Q("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),c.then(x=>s0(x))}}async listInternal(e){var s,r,a,l;let c,m="",y={};if(this.apiClient.isVertexAI()){const p=IN(e);return m=Q("tuningJobs",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),c.then(x=>{const _=PN(x),b=new cy;return Object.assign(b,_),b})}else{const p=kN(e);return m=Q("tunedModels",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(x=>x.json().then(_=>{const b=_;return b.sdkHttpResponse={headers:x.headers},b})),c.then(x=>{const _=UN(x),b=new cy;return Object.assign(b,_),b})}}async cancel(e){var s,r,a,l;let c="",m={};if(this.apiClient.isVertexAI()){const y=EN(e);c=Q("{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const y=wN(e);c=Q("{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async tuneInternal(e){var s,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const m=AN(e,e);return l=Q("tuningJobs",m._url),c=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:y.headers},x})),a.then(y=>Jc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var s,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=TN(e);return l=Q("tunedModels",m._url),c=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(p=>{const x=p;return x.sdkHttpResponse={headers:y.headers},x})),a.then(y=>BN(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VN{async download(e,s){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const HN=1024*1024*8,GN=3,FN=1e3,zN=2,Ma="x-goog-upload-status";async function $N(n,e,s){var r;const a=await i0(n,e,s),l=await(a==null?void 0:a.json());if(((r=a==null?void 0:a.headers)===null||r===void 0?void 0:r[Ma])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function JN(n,e,s){var r;const a=await i0(n,e,s),l=await(a==null?void 0:a.json());if(((r=a==null?void 0:a.headers)===null||r===void 0?void 0:r[Ma])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=kv(l),m=new ld;return Object.assign(m,c),m}async function i0(n,e,s){var r,a;let l=0,c=0,m=new Vc(new Response),y="upload";for(l=n.size;c<l;){const p=Math.min(HN,l-c),x=n.slice(c,c+p);c+p>=l&&(y+=", finalize");let _=0,b=FN;for(;_<GN&&(m=await s.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(c),"Content-Length":String(p)}}}),!(!((r=m==null?void 0:m.headers)===null||r===void 0)&&r[Ma]));)_++,await YN(b),b=b*zN;if(c+=p,((a=m==null?void 0:m.headers)===null||a===void 0?void 0:a[Ma])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return m}async function KN(n){return{size:n.size,type:n.type}}function YN(n){return new Promise(e=>setTimeout(e,n))}class XN{async upload(e,s,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await $N(e,s,r)}async uploadToFileSearchStore(e,s,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await JN(e,s,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await KN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QN{create(e,s,r){return new WN(e,s,r)}}class WN{constructor(e,s,r){this.url=e,this.headers=s,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ky="x-goog-api-key";class ZN{constructor(e){this.apiKey=e}async addAuthHeaders(e,s){if(e.get(ky)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ky,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const e1="gl-node/";class t1{constructor(e){var s;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(s=e.vertexai)!==null&&s!==void 0?s:!1,this.apiKey=e.apiKey;const r=ME(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const a=new ZN(this.apiKey);this.apiClient=new gA({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:e1+"web",uploader:new XN,downloader:new VN}),this.models=new PA(this.apiClient),this.live=new RA(this.apiClient,a,new QN),this.batches=new oC(this.apiClient),this.chats=new VC(this.models,this.apiClient),this.caches=new LC(this.apiClient),this.files=new QC(this.apiClient),this.operations=new jA(this.apiClient),this.authTokens=new WA(this.apiClient),this.tunings=new qN(this.apiClient),this.fileSearchStores=new bN(this.apiClient)}}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/const n1=n=>`You are "Bihh", the friendly AI Assistant for Bihh Car Rentals.
  Your personality: Chill, helpful, and speaks simple Kenyan English. You sound like a real person from Nairobifriendly but professional.
  
  Guidelines:
  1. Use common Kenyan words: "Sasa", "Karibu", "Safari", "Upcountry", "Nai", "Masaai Mara", "Coast", "Shughuli".
  2. Keep it simple and direct. Don't be too "posh". 
  3. Our current fleet status:
  ${n.length>0?n.map(s=>`- ${s.name} (KSh ${s.pricePerDay.toLocaleString()}/day): ${s.description}. Features: ${s.features.join(", ")}. Seats: ${s.specs.seats}`).join(`
`):"No vehicles are currently listed in the fleet. Please check back later."}
  
  Tasks:
  - Help customers pick the best car for their "safari" or "shughuli" in town.
  - Give tips on Kenyan roads (e.g., speed cameras on the highway, rough roads upcountry).
  - If a car isn't there, tell them to check back as the fleet changes "kila siku".
  
  Keep responses under 3 short sentences. Always refer to yourself as Bihh.`,s1=async(n,e,s)=>{try{const r="AIzaSyAcrAHhkFKG--Nsu4B5Lp6ySMV2FlVKUlI";return(await new t1({apiKey:r}).chats.create({model:"gemini-2.5-flash",config:{systemInstruction:n1(s),temperature:.7,topP:.95},history:n.map(m=>({role:m.role,parts:[{text:m.text}]}))}).sendMessage({message:e})).text}catch(r){return console.error("Gemini API Error Detail:",r),"The system is currently undergoing maintenance. Please reach out via WhatsApp for immediate assistance."}},i1=()=>{const{vehicles:n}=rd(),[e,s]=$.useState(!1),[r,a]=$.useState([{role:"model",text:"Sasa! I am Bihh, your assistant. Unaeza niuliza chochote kuhusu gari zetu ama safari yako.",timestamp:Date.now()}]),[l,c]=$.useState(""),[m,y]=$.useState(!1),p=$.useRef(null);$.useEffect(()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight)},[r,e]);const x=async()=>{if(!l.trim())return;const b={role:"user",text:l,timestamp:Date.now()};a(E=>[...E,b]),c(""),y(!0);try{const E=r.map(A=>({role:A.role,text:A.text})),T={role:"model",text:await s1(E,b.text,n),timestamp:Date.now()};a(A=>[...A,T])}catch{}finally{y(!1)}},_=b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),x())};return f.jsxs("div",{className:"fixed bottom-8 right-8 z-50 flex flex-col items-end font-sans",children:[e&&f.jsxs("div",{className:"bg-[#F5F2EB] rounded-none shadow-2xl shadow-[#2C2A26]/10 w-[90vw] sm:w-[380px] h-[550px] mb-6 flex flex-col overflow-hidden border border-[#D6D1C7] animate-slide-up-fade",children:[f.jsxs("div",{className:"bg-[#EBE7DE] p-5 border-b border-[#D6D1C7] flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-2 h-2 bg-[#2C2A26] rounded-full animate-pulse"}),f.jsx("span",{className:"font-serif italic text-[#2C2A26] text-lg",children:"Bihh Assistant"})]}),f.jsx("button",{onClick:()=>s(!1),className:"text-[#A8A29E] hover:text-[#2C2A26] transition-colors",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 bg-[#F5F2EB]",ref:p,children:[r.map((b,E)=>f.jsx("div",{className:`flex ${b.role==="user"?"justify-end":"justify-start"}`,children:f.jsx("div",{className:`max-w-[85%] p-5 text-sm leading-relaxed ${b.role==="user"?"bg-[#2C2A26] text-[#F5F2EB]":"bg-white border border-[#EBE7DE] text-[#5D5A53] shadow-sm"}`,children:b.text})},E)),m&&f.jsx("div",{className:"flex justify-start",children:f.jsxs("div",{className:"bg-white border border-[#EBE7DE] p-5 flex gap-1 items-center shadow-sm",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-[#A8A29E] rounded-full animate-bounce"}),f.jsx("div",{className:"w-1.5 h-1.5 bg-[#A8A29E] rounded-full animate-bounce delay-75"}),f.jsx("div",{className:"w-1.5 h-1.5 bg-[#A8A29E] rounded-full animate-bounce delay-150"})]})})]}),f.jsx("div",{className:"p-5 bg-[#F5F2EB] border-t border-[#D6D1C7]",children:f.jsxs("div",{className:"flex gap-2 relative",children:[f.jsx("input",{type:"text",value:l,onChange:b=>c(b.target.value),onKeyDown:_,placeholder:"Ask anything...",className:"flex-1 bg-white border border-[#D6D1C7] focus:border-[#2C2A26] px-4 py-3 text-sm outline-none transition-colors placeholder-[#A8A29E] text-[#2C2A26]"}),f.jsx("button",{onClick:x,disabled:!l.trim()||m,className:"bg-[#2C2A26] text-[#F5F2EB] px-4 hover:bg-[#444] transition-colors disabled:opacity-50",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})})]})})]}),f.jsx("button",{onClick:()=>s(!e),className:"bg-[#2C2A26] text-[#F5F2EB] w-14 h-14 flex items-center justify-center rounded-full shadow-xl hover:scale-105 transition-all duration-500 z-50",children:e?f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}):f.jsx("span",{className:"font-serif italic text-lg",children:"Ai"})})]})},r1=({onLinkClick:n})=>{const[e,s]=$.useState("idle"),[r,a]=$.useState(""),l=()=>{r&&(s("loading"),setTimeout(()=>{s("success"),a("")},1500))};return f.jsxs("footer",{className:"bg-[#EBE7DE] pt-24 pb-12 px-6 text-[#5D5A53]",children:[f.jsxs("div",{className:"max-w-[1800px] mx-auto grid grid-cols-1 md:grid-cols-12 gap-12",children:[f.jsxs("div",{className:"md:col-span-4",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("img",{src:"/assets/logo.jpg",alt:"Bihh Logo",className:"h-14 w-14 object-cover rounded-full"}),f.jsx("h4",{className:"text-2xl font-serif text-[#2C2A26]",children:"Bihh"})]}),f.jsx("p",{className:"max-w-xs font-light leading-relaxed",children:"Moving Kenya differently. From the city to the coast, we provide the journey you deserve."})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("h4",{className:"font-medium text-[#2C2A26] mb-6 tracking-wide text-sm uppercase",children:"Fleet"}),f.jsxs("ul",{className:"space-y-4 font-light",children:[f.jsx("li",{children:f.jsx("a",{href:"#products",onClick:c=>n(c,"products"),className:"hover:text-[#2C2A26] transition-colors underline-offset-4 hover:underline",children:"All Vehicles"})}),f.jsx("li",{children:f.jsx("a",{href:"#products",onClick:c=>n(c,"products"),className:"hover:text-[#2C2A26] transition-colors underline-offset-4 hover:underline",children:"Matatus"})}),f.jsx("li",{children:f.jsx("a",{href:"#products",onClick:c=>n(c,"products"),className:"hover:text-[#2C2A26] transition-colors underline-offset-4 hover:underline",children:"Safari"})}),f.jsx("li",{children:f.jsx("a",{href:"#products",onClick:c=>n(c,"products"),className:"hover:text-[#2C2A26] transition-colors underline-offset-4 hover:underline",children:"Luxury"})})]})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("h4",{className:"font-medium text-[#2C2A26] mb-6 tracking-wide text-sm uppercase",children:"Company"}),f.jsxs("ul",{className:"space-y-4 font-light",children:[f.jsx("li",{children:f.jsx("a",{href:"#about",onClick:c=>n(c,"about"),className:"hover:text-[#2C2A26] transition-colors underline-offset-4 hover:underline",children:"Our Story"})}),f.jsx("li",{children:f.jsx("a",{href:"#about",onClick:c=>n(c,"about"),className:"hover:text-[#2C2A26] transition-colors underline-offset-4 hover:underline",children:"Sustainability"})}),f.jsx("li",{children:f.jsx("a",{href:"#journal",onClick:c=>n(c,"journal"),className:"hover:text-[#2C2A26] transition-colors underline-offset-4 hover:underline",children:"Roadtrips"})})]})]}),f.jsxs("div",{className:"md:col-span-4",children:[f.jsx("h4",{className:"font-medium text-[#2C2A26] mb-6 tracking-wide text-sm uppercase",children:"Newsletter"}),f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsx("input",{type:"email",placeholder:"email@address.com",value:r,onChange:c=>a(c.target.value),disabled:e==="loading"||e==="success",className:"bg-transparent border-b border-[#A8A29E] py-2 text-lg outline-none focus:border-[#2C2A26] transition-colors placeholder-[#A8A29E]/70 text-[#2C2A26] disabled:opacity-50"}),f.jsxs("button",{onClick:l,disabled:e!=="idle"||!r,className:"self-start text-sm font-medium uppercase tracking-widest mt-2 hover:text-[#2C2A26] disabled:cursor-default disabled:hover:text-[#5D5A53] disabled:opacity-50 transition-opacity",children:[e==="idle"&&"Subscribe",e==="loading"&&"Subscribing...",e==="success"&&"Subscribed"]})]})]})]}),f.jsx("div",{className:"max-w-[1800px] mx-auto mt-20 pt-8 border-t border-[#D6D1C7] flex flex-col md:flex-row justify-between items-center text-xs uppercase tracking-widest opacity-60",children:f.jsx("p",{children:"Created by @bihh"})})]})};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/const o1=({product:n,onBack:e,onAddToCart:s})=>{var r;return f.jsx("div",{className:"pt-24 min-h-screen bg-[#F5F2EB] animate-fade-in-up",children:f.jsxs("div",{className:"max-w-[1800px] mx-auto px-6 md:px-12 pb-24",children:[f.jsxs("button",{onClick:e,className:"group flex items-center gap-2 text-xs font-medium uppercase tracking-widest text-[#A8A29E] hover:text-[#2C2A26] transition-colors mb-8",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 group-hover:-translate-x-1 transition-transform",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),"Back to Fleet"]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-24",children:[f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsx("div",{className:"w-full aspect-[16/9] bg-[#EBE7DE] overflow-hidden",children:f.jsx("img",{src:n.imageUrl,alt:n.name,className:"w-full h-full object-cover animate-fade-in-up"})}),f.jsx("div",{className:"grid grid-cols-2 gap-4",children:(r=n.gallery)==null?void 0:r.map((a,l)=>f.jsx("div",{className:"aspect-[16/9] bg-[#EBE7DE] overflow-hidden",children:f.jsx("img",{src:a,alt:`${n.name} ${l}`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-700"})},l))})]}),f.jsxs("div",{className:"flex flex-col justify-center max-w-xl",children:[f.jsx("span",{className:"text-sm font-medium text-[#A8A29E] uppercase tracking-widest mb-2",children:n.category}),f.jsx("h1",{className:"text-4xl md:text-5xl font-serif text-[#2C2A26] mb-4",children:n.name}),f.jsxs("span",{className:"text-2xl font-light text-[#2C2A26] mb-8",children:["KSh ",n.pricePerDay.toLocaleString()," ",f.jsx("span",{className:"text-sm text-[#A8A29E]",children:"/ day"})]}),f.jsx("p",{className:"text-[#5D5A53] leading-relaxed font-light text-lg mb-8 border-b border-[#D6D1C7] pb-8",children:n.longDescription||n.description}),f.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[n.specs.range&&f.jsxs("div",{children:[f.jsx("span",{className:"block text-xs font-bold uppercase tracking-widest text-[#A8A29E] mb-1",children:"Range"}),f.jsx("span",{className:"text-xl text-[#2C2A26]",children:n.specs.range})]}),n.specs.acceleration&&f.jsxs("div",{children:[f.jsx("span",{className:"block text-xs font-bold uppercase tracking-widest text-[#A8A29E] mb-1",children:"0-60 mph"}),f.jsx("span",{className:"text-xl text-[#2C2A26]",children:n.specs.acceleration})]}),n.specs.topSpeed&&f.jsxs("div",{children:[f.jsx("span",{className:"block text-xs font-bold uppercase tracking-widest text-[#A8A29E] mb-1",children:"Top Speed"}),f.jsx("span",{className:"text-xl text-[#2C2A26]",children:n.specs.topSpeed})]}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-xs font-bold uppercase tracking-widest text-[#A8A29E] mb-1",children:"Seats"}),f.jsx("span",{className:"text-xl text-[#2C2A26]",children:n.specs.seats})]})]}),f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsx("button",{onClick:()=>s(n),className:"w-full py-5 bg-[#2C2A26] text-[#F5F2EB] uppercase tracking-widest text-sm font-medium hover:bg-[#433E38] transition-colors",children:"Reserve Dates"}),f.jsx("ul",{className:"mt-8 space-y-2 text-sm text-[#5D5A53]",children:n.features.map((a,l)=>f.jsxs("li",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"w-1 h-1 bg-[#2C2A26] rounded-full"}),a]},l))})]})]})]})]})})};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/const a1=({article:n,onBack:e})=>f.jsxs("div",{className:"min-h-screen bg-[#F5F2EB] animate-fade-in-up",children:[f.jsxs("div",{className:"w-full h-[50vh] md:h-[60vh] relative overflow-hidden",children:[f.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-black/20"})]}),f.jsx("div",{className:"max-w-3xl mx-auto px-6 md:px-12 -mt-32 relative z-10 pb-32",children:f.jsxs("div",{className:"bg-[#F5F2EB] p-8 md:p-16 shadow-xl shadow-[#2C2A26]/5",children:[f.jsxs("div",{className:"flex justify-between items-center mb-12 border-b border-[#D6D1C7] pb-8",children:[f.jsxs("button",{onClick:e,className:"group flex items-center gap-2 text-xs font-medium uppercase tracking-widest text-[#A8A29E] hover:text-[#2C2A26] transition-colors",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 group-hover:-translate-x-1 transition-transform",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),"Back to Journal"]}),f.jsx("span",{className:"text-xs font-medium uppercase tracking-widest text-[#A8A29E]",children:n.date})]}),f.jsx("h1",{className:"text-4xl md:text-6xl font-serif text-[#2C2A26] mb-12 leading-tight text-center",children:n.title}),f.jsx("div",{className:"prose prose-stone prose-lg mx-auto font-light leading-loose text-[#5D5A53]",children:n.content}),f.jsx("div",{className:"mt-16 pt-12 border-t border-[#D6D1C7] flex justify-center",children:f.jsx("span",{className:"text-2xl font-serif italic text-[#2C2A26]",children:"Aura"})})]})})]});/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/const l1=({isOpen:n,onClose:e,items:s,onRemoveItem:r,onCheckout:a})=>{const l=s.reduce((c,m)=>c+m.pricePerDay,0);return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:`fixed inset-0 bg-[#2C2A26]/30 backdrop-blur-sm z-[60] transition-opacity duration-500 ${n?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:e}),f.jsxs("div",{className:`fixed inset-y-0 right-0 w-full md:w-[450px] bg-[#F5F2EB] z-[70] shadow-2xl transform transition-transform duration-500 ease-in-out border-l border-[#D6D1C7] flex flex-col ${n?"translate-x-0":"translate-x-full"}`,children:[f.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-[#D6D1C7]",children:[f.jsxs("h2",{className:"text-xl font-serif text-[#2C2A26]",children:["Your Reservation (",s.length,")"]}),f.jsx("button",{onClick:e,className:"text-[#A8A29E] hover:text-[#2C2A26] transition-colors",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:s.length===0?f.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center space-y-4 opacity-60",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"w-12 h-12 text-[#A8A29E]",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),f.jsx("p",{className:"font-light text-[#5D5A53]",children:"Your reservation list is empty."})]}):s.map((c,m)=>f.jsxs("div",{className:"flex gap-4 animate-fade-in-up",children:[f.jsx("div",{className:"w-20 h-24 bg-[#EBE7DE] flex-shrink-0",children:f.jsx("img",{src:c.imageUrl,alt:c.name,className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsx("h3",{className:"font-serif text-[#2C2A26]",children:c.name}),f.jsxs("span",{className:"text-sm font-light text-[#2C2A26]",children:["KSh ",c.pricePerDay.toLocaleString()," / day"]})]}),f.jsx("p",{className:"text-xs text-[#A8A29E] uppercase tracking-widest mt-1",children:c.category})]}),f.jsx("button",{onClick:()=>r(m),className:"text-xs text-[#A8A29E] hover:text-[#2C2A26] self-start underline underline-offset-4 transition-colors",children:"Remove"})]})]},`${c.id}-${m}`))}),f.jsxs("div",{className:"p-6 border-t border-[#D6D1C7] bg-[#EBE7DE]/30",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("span",{className:"text-sm font-medium uppercase tracking-widest text-[#5D5A53]",children:"Estimated Daily Total"}),f.jsxs("span",{className:"text-xl font-serif text-[#2C2A26]",children:["KSh ",l.toLocaleString()]})]}),f.jsx("p",{className:"text-xs text-[#A8A29E] mb-6 text-center",children:"Dates and insurance selected at next step."}),f.jsx("button",{onClick:a,disabled:s.length===0,className:"w-full py-4 bg-[#2C2A26] text-[#F5F2EB] uppercase tracking-widest text-sm font-medium hover:bg-[#433E38] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Checkout"})]})]})]})},u1=({items:n,onBack:e})=>{const s=n.reduce((E,C)=>E+C.pricePerDay,0),a=s+0,[l,c]=Ur.useState({fullName:"",email:"",newsletter:!1,countryCode:"+254",mobileNumber:"",licenseNumber:"",licenseCountry:"Kenya",idNumber:"",dob:"",hasAdditionalDriver:!1,additionalDriverName:"",additionalDriverLicense:"",additionalDriverCountry:"Kenya",mpesaNumber:""}),[m,y]=Ur.useState(!1),p=E=>{const{id:C,value:T,type:A}=E.target,U=E.target.checked;c(O=>({...O,[C]:A==="checkbox"?U:T}))},[x,_]=Ur.useState(!1),b=()=>{y(!0),setTimeout(()=>{y(!1),_(!0)},2e3)};return x?f.jsx("div",{className:"min-h-screen pt-24 pb-24 px-6 bg-[#F5F2EB] animate-fade-in-up flex items-center justify-center",children:f.jsxs("div",{className:"max-w-lg w-full bg-white p-12 rounded-none shadow-xl border border-[#D6D1C7] text-center",children:[f.jsx("div",{className:"w-20 h-20 bg-[#2C2A26] rounded-full flex items-center justify-center mx-auto mb-8",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-10 h-10 text-[#F5F2EB]",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})}),f.jsx("h2",{className:"text-3xl font-serif text-[#2C2A26] mb-4",children:"Reservation Received"}),f.jsxs("p",{className:"text-[#5D5A53] mb-8 font-light",children:["Thank you, ",l.fullName,". We have received your reservation request."]}),f.jsxs("p",{className:"text-[#5D5A53] mb-8 font-light text-sm",children:["An M-Pesa payment request for ",f.jsxs("span",{className:"font-medium text-[#2C2A26]",children:["KSh ",a.toLocaleString()]})," has been sent to ",f.jsxs("span",{className:"font-medium text-[#2C2A26]",children:[l.countryCode,l.mpesaNumber||l.mobileNumber]}),". Please check your phone to complete the transaction."]}),f.jsx("button",{onClick:e,className:"px-8 py-3 bg-[#2C2A26] text-[#F5F2EB] uppercase tracking-widest text-sm font-medium hover:bg-[#444] transition-colors",children:"Back to Fleet"})]})}):f.jsx("div",{className:"min-h-screen pt-24 pb-24 px-6 bg-[#F5F2EB] animate-fade-in-up",children:f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsxs("button",{onClick:e,className:"group flex items-center gap-2 text-xs font-medium uppercase tracking-widest text-[#A8A29E] hover:text-[#2C2A26] transition-colors mb-12",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 group-hover:-translate-x-1 transition-transform",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),"Back to Fleet"]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 lg:gap-24",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-serif text-[#2C2A26] mb-4",children:"Car Hire Reservation Request"}),f.jsx("p",{className:"text-sm text-[#5D5A53] mb-12",children:"Complete your details to secure your vehicle."}),f.jsxs("div",{className:"space-y-12",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-serif text-[#2C2A26] mb-6",children:"1. Personal & Contact Information"}),f.jsx("p",{className:"text-xs text-[#A8A29E] mb-4 uppercase tracking-widest",children:"Primary Renter Identification"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"fullName",className:"block text-xs font-medium uppercase tracking-widest text-[#5D5A53] mb-2",children:"Full Name (as per official ID)"}),f.jsx("input",{type:"text",id:"fullName",value:l.fullName,onChange:p,className:"w-full bg-transparent border-b border-[#D6D1C7] py-3 text-[#2C2A26] placeholder-[#A8A29E] outline-none focus:border-[#2C2A26] transition-colors"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-xs font-medium uppercase tracking-widest text-[#5D5A53] mb-2",children:"Email Address"}),f.jsx("input",{type:"email",id:"email",value:l.email,onChange:p,className:"w-full bg-transparent border-b border-[#D6D1C7] py-3 text-[#2C2A26] placeholder-[#A8A29E] outline-none focus:border-[#2C2A26] transition-colors mb-3"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"checkbox",id:"newsletter",checked:l.newsletter,onChange:p,className:"accent-[#2C2A26]"}),f.jsx("label",{htmlFor:"newsletter",className:"text-sm text-[#5D5A53]",children:"Send me special offers and travel tips."})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"mobileNumber",className:"block text-xs font-medium uppercase tracking-widest text-[#5D5A53] mb-2",children:"Mobile Number"}),f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("select",{id:"countryCode",value:l.countryCode,onChange:p,className:"bg-transparent border-b border-[#D6D1C7] py-3 text-[#2C2A26] outline-none focus:border-[#2C2A26]",children:[f.jsx("option",{value:"+254",children:"KE (+254)"}),f.jsx("option",{value:"+1",children:"US (+1)"}),f.jsx("option",{value:"+44",children:"UK (+44)"}),f.jsx("option",{value:"+255",children:"TZ (+255)"}),f.jsx("option",{value:"+256",children:"UG (+256)"})]}),f.jsx("input",{type:"tel",id:"mobileNumber",value:l.mobileNumber,onChange:p,placeholder:"7XX XXX XXX",className:"flex-1 bg-transparent border-b border-[#D6D1C7] py-3 text-[#2C2A26] placeholder-[#A8A29E] outline-none focus:border-[#2C2A26] transition-colors"})]})]})]})]}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-serif text-[#2C2A26] mb-6",children:"2. Driver Identification & Verification"}),f.jsx("p",{className:"text-xs text-[#A8A29E] mb-4 uppercase tracking-widest",children:"Primary Driver's Details"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"licenseNumber",className:"block text-xs font-medium uppercase tracking-widest text-[#5D5A53] mb-2",children:"Driver's License Number"}),f.jsx("input",{type:"text",id:"licenseNumber",value:l.licenseNumber,onChange:p,className:"w-full bg-transparent border-b border-[#D6D1C7] py-3 text-[#2C2A26] outline-none focus:border-[#2C2A26] transition-colors"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"licenseCountry",className:"block text-xs font-medium uppercase tracking-widest text-[#5D5A53] mb-2",children:"Country of Issue"}),f.jsxs("select",{id:"licenseCountry",value:l.licenseCountry,onChange:p,className:"w-full bg-transparent border-b border-[#D6D1C7] py-3 text-[#2C2A26] outline-none focus:border-[#2C2A26]",children:[f.jsx("option",{value:"Kenya",children:"Kenya"}),f.jsx("option",{value:"USA",children:"USA"}),f.jsx("option",{value:"UK",children:"UK"}),f.jsx("option",{value:"Tanzania",children:"Tanzania"}),f.jsx("option",{value:"Uganda",children:"Uganda"}),f.jsx("option",{value:"Other",children:"Other"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"idNumber",className:"block text-xs font-medium uppercase tracking-widest text-[#5D5A53] mb-2",children:"ID/Passport Number"}),f.jsx("input",{type:"text",id:"idNumber",value:l.idNumber,onChange:p,className:"w-full bg-transparent border-b border-[#D6D1C7] py-3 text-[#2C2A26] outline-none focus:border-[#2C2A26] transition-colors"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"dob",className:"block text-xs font-medium uppercase tracking-widest text-[#5D5A53] mb-2",children:"Date of Birth"}),f.jsx("input",{type:"date",id:"dob",value:l.dob,onChange:p,className:"w-full bg-transparent border-b border-[#D6D1C7] py-3 text-[#2C2A26] outline-none focus:border-[#2C2A26] transition-colors"})]})]}),f.jsxs("div",{className:"pt-6 border-t border-[#D6D1C7]/50",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[f.jsx("input",{type:"checkbox",id:"hasAdditionalDriver",checked:l.hasAdditionalDriver,onChange:p,className:"accent-[#2C2A26]"}),f.jsx("label",{htmlFor:"hasAdditionalDriver",className:"text-sm font-medium text-[#2C2A26]",children:"I will have an additional driver."})]}),l.hasAdditionalDriver&&f.jsxs("div",{className:"space-y-6 pl-4 border-l-2 border-[#D6D1C7] animate-fade-in-up",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"additionalDriverName",className:"block text-xs font-medium uppercase tracking-widest text-[#5D5A53] mb-2",children:"Full Name"}),f.jsx("input",{type:"text",id:"additionalDriverName",value:l.additionalDriverName,onChange:p,className:"w-full bg-transparent border-b border-[#D6D1C7] py-3 text-[#2C2A26] outline-none focus:border-[#2C2A26] transition-colors"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"additionalDriverLicense",className:"block text-xs font-medium uppercase tracking-widest text-[#5D5A53] mb-2",children:"Driver's License Number"}),f.jsx("input",{type:"text",id:"additionalDriverLicense",value:l.additionalDriverLicense,onChange:p,className:"w-full bg-transparent border-b border-[#D6D1C7] py-3 text-[#2C2A26] outline-none focus:border-[#2C2A26] transition-colors"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"additionalDriverCountry",className:"block text-xs font-medium uppercase tracking-widest text-[#5D5A53] mb-2",children:"Country of Issue"}),f.jsxs("select",{id:"additionalDriverCountry",value:l.additionalDriverCountry,onChange:p,className:"w-full bg-transparent border-b border-[#D6D1C7] py-3 text-[#2C2A26] outline-none focus:border-[#2C2A26]",children:[f.jsx("option",{value:"Kenya",children:"Kenya"}),f.jsx("option",{value:"USA",children:"USA"}),f.jsx("option",{value:"UK",children:"UK"}),f.jsx("option",{value:"Tanzania",children:"Tanzania"}),f.jsx("option",{value:"Uganda",children:"Uganda"}),f.jsx("option",{value:"Other",children:"Other"})]})]})]})]})]})]})]}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-serif text-[#2C2A26] mb-6",children:"3. Payment Method"}),f.jsxs("div",{className:"p-6 border border-[#D6D1C7] bg-white/50 space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[f.jsx("div",{className:"h-12 w-20 bg-green-600 text-white flex items-center justify-center font-bold tracking-widest rounded",children:"M-PESA"}),f.jsx("p",{className:"text-sm text-[#5D5A53]",children:"Secure mobile payment"})]}),f.jsx("p",{className:"text-sm text-[#5D5A53] mb-2",children:"Enter your M-Pesa number below (if different from mobile number). You will receive a prompt on your phone."}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("span",{className:"text-[#2C2A26] font-medium",children:"+254"}),f.jsx("input",{type:"tel",id:"mpesaNumber",value:l.mpesaNumber,onChange:p,placeholder:l.mobileNumber||"7XX XXX XXX",className:"flex-1 bg-transparent border-b border-[#D6D1C7] py-3 text-[#2C2A26] placeholder-[#A8A29E] outline-none focus:border-[#2C2A26] transition-colors"})]})]})]}),f.jsx("div",{children:f.jsx("button",{onClick:b,disabled:m||!l.fullName||!l.email||!l.mobileNumber||!l.licenseNumber,className:"w-full py-5 bg-[#2C2A26] text-[#F5F2EB] uppercase tracking-widest text-sm font-medium hover:bg-[#433E38] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Processing...":`Pay with M-Pesa  KSh ${a.toLocaleString()}`})})]})]}),f.jsxs("div",{className:"lg:pl-12 lg:border-l border-[#D6D1C7]",children:[f.jsx("h2",{className:"text-xl font-serif text-[#2C2A26] mb-8",children:"Reservation Summary"}),f.jsx("div",{className:"space-y-6 mb-8",children:n.map((E,C)=>f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("div",{className:"w-16 h-16 bg-[#EBE7DE] relative",children:[f.jsx("img",{src:E.imageUrl,alt:E.name,className:"w-full h-full object-cover"}),f.jsx("span",{className:"absolute -top-2 -right-2 w-5 h-5 bg-[#2C2A26] text-white text-[10px] flex items-center justify-center rounded-full",children:"1"})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-serif text-[#2C2A26] text-base",children:E.name}),f.jsx("p",{className:"text-xs text-[#A8A29E]",children:E.category})]}),f.jsxs("span",{className:"text-sm text-[#5D5A53]",children:["KSh ",E.pricePerDay.toLocaleString()]})]},C))}),f.jsxs("div",{className:"border-t border-[#D6D1C7] pt-6 space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-sm text-[#5D5A53]",children:[f.jsx("span",{children:"Subtotal"}),f.jsxs("span",{children:["$",s]})]}),f.jsxs("div",{className:"flex justify-between text-sm text-[#5D5A53]",children:[f.jsx("span",{children:"Shipping"}),f.jsx("span",{children:"Free"})]})]}),f.jsx("div",{className:"border-t border-[#D6D1C7] mt-6 pt-6",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"font-serif text-xl text-[#2C2A26]",children:"Total"}),f.jsxs("div",{className:"flex items-end gap-2",children:[f.jsx("span",{className:"text-xs text-[#A8A29E] mb-1",children:"KES"}),f.jsxs("span",{className:"font-serif text-2xl text-[#2C2A26]",children:["KSh ",a.toLocaleString()]})]})]})})]})]})]})})},c1=({trip:n,onBack:e})=>{const[s,r]=$.useState({fullName:"",email:"",countryCode:"+254",phone:"",travelers:1,date:"",specialRequests:"",mpesaNumber:""}),[a,l]=$.useState(!1),[c,m]=$.useState(!1),y=n.price*s.travelers,p=_=>{const{id:b,value:E}=_.target;r(C=>({...C,[b]:E}))},x=()=>{l(!0),setTimeout(()=>{l(!1),m(!0)},2e3)};return c?f.jsx("div",{className:"min-h-screen pt-24 pb-24 px-6 bg-[#1e3a8a] text-white animate-fade-in-up flex items-center justify-center",children:f.jsxs("div",{className:"max-w-lg w-full bg-white/10 backdrop-blur-md p-12 rounded-lg border border-white/20 text-center",children:[f.jsx("div",{className:"w-20 h-20 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-8",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-10 h-10 text-white",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})}),f.jsx("h2",{className:"text-3xl font-serif mb-4",children:"Booking Received!"}),f.jsxs("p",{className:"text-blue-200 mb-8 font-light",children:["Thank you, ",s.fullName,". We have received your request for ",f.jsx("span",{className:"font-medium text-white",children:n.title}),"."]}),f.jsxs("p",{className:"text-blue-200 mb-8 font-light text-sm",children:["An M-Pesa payment request for ",f.jsxs("span",{className:"font-medium text-white",children:["KSh ",y.toLocaleString()]})," has been sent to ",f.jsxs("span",{className:"font-medium text-white",children:[s.countryCode,s.mpesaNumber||s.phone]}),". Please check your phone to complete the transaction."]}),f.jsx("button",{onClick:e,className:"px-8 py-3 bg-white text-blue-900 uppercase tracking-widest text-sm font-bold hover:bg-blue-50 transition-colors rounded",children:"Back to Roadtrips"})]})}):f.jsx("div",{className:"min-h-screen pt-24 pb-24 px-6 bg-[#1e3a8a] text-white animate-fade-in-up",children:f.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.jsxs("button",{onClick:e,className:"group flex items-center gap-2 text-xs font-medium uppercase tracking-widest text-blue-200 hover:text-white transition-colors mb-12",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 group-hover:-translate-x-1 transition-transform",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),"Back to Roadtrips"]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[f.jsxs("div",{children:[f.jsx("div",{className:"aspect-video overflow-hidden rounded-lg mb-8 bg-blue-900",children:f.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover opacity-80"})}),f.jsx("h1",{className:"text-4xl font-serif mb-4",children:n.title}),f.jsx("p",{className:"text-blue-200 font-light mb-6",children:n.excerpt}),f.jsxs("div",{className:"space-y-4 border-t border-white/20 pt-6",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-sm uppercase tracking-widest text-blue-300",children:"Duration"}),f.jsx("span",{className:"font-medium",children:n.duration})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-sm uppercase tracking-widest text-blue-300",children:"Price per Person"}),f.jsxs("span",{className:"font-medium",children:["KSh ",n.price.toLocaleString()]})]}),f.jsxs("div",{className:"flex justify-between text-xl font-serif pt-4 border-t border-white/20",children:[f.jsx("span",{children:"Total"}),f.jsxs("span",{children:["KSh ",y.toLocaleString()]})]})]})]}),f.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-8 rounded-lg border border-white/10",children:[f.jsx("h2",{className:"text-2xl font-serif mb-8",children:"Book Your Adventure"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"fullName",className:"block text-xs font-medium uppercase tracking-widest text-blue-200 mb-2",children:"Full Name"}),f.jsx("input",{type:"text",id:"fullName",value:s.fullName,onChange:p,className:"w-full bg-transparent border-b border-white/30 py-3 text-white placeholder-blue-300/50 outline-none focus:border-white transition-colors",placeholder:"John Doe"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-xs font-medium uppercase tracking-widest text-blue-200 mb-2",children:"Email"}),f.jsx("input",{type:"email",id:"email",value:s.email,onChange:p,className:"w-full bg-transparent border-b border-white/30 py-3 text-white placeholder-blue-300/50 outline-none focus:border-white transition-colors",placeholder:"john@example.com"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"phone",className:"block text-xs font-medium uppercase tracking-widest text-blue-200 mb-2",children:"Phone"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("select",{id:"countryCode",value:s.countryCode,onChange:p,className:"bg-transparent border-b border-white/30 py-3 text-white outline-none focus:border-white transition-colors w-20",children:[f.jsx("option",{value:"+254",className:"text-black",children:"+254"}),f.jsx("option",{value:"+1",className:"text-black",children:"+1"}),f.jsx("option",{value:"+44",className:"text-black",children:"+44"})]}),f.jsx("input",{type:"tel",id:"phone",value:s.phone,onChange:p,className:"w-full bg-transparent border-b border-white/30 py-3 text-white placeholder-blue-300/50 outline-none focus:border-white transition-colors",placeholder:"712 345 678"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"travelers",className:"block text-xs font-medium uppercase tracking-widest text-blue-200 mb-2",children:"Travelers"}),f.jsx("input",{type:"number",id:"travelers",min:"1",value:s.travelers,onChange:p,className:"w-full bg-transparent border-b border-white/30 py-3 text-white placeholder-blue-300/50 outline-none focus:border-white transition-colors"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"date",className:"block text-xs font-medium uppercase tracking-widest text-blue-200 mb-2",children:"Preferred Date"}),f.jsx("input",{type:"date",id:"date",value:s.date,onChange:p,className:"w-full bg-transparent border-b border-white/30 py-3 text-white placeholder-blue-300/50 outline-none focus:border-white transition-colors"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"specialRequests",className:"block text-xs font-medium uppercase tracking-widest text-blue-200 mb-2",children:"Special Requests"}),f.jsx("textarea",{id:"specialRequests",value:s.specialRequests,onChange:p,rows:3,className:"w-full bg-transparent border-b border-white/30 py-3 text-white placeholder-blue-300/50 outline-none focus:border-white transition-colors resize-none",placeholder:"Dietary requirements, pickup location..."})]}),f.jsxs("div",{className:"pt-6 border-t border-white/20",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[f.jsx("div",{className:"h-10 w-16 bg-green-600 text-white flex items-center justify-center font-bold text-xs tracking-widest rounded",children:"M-PESA"}),f.jsx("p",{className:"text-xs text-blue-200",children:"Secure mobile payment"})]}),f.jsx("input",{type:"tel",id:"mpesaNumber",value:s.mpesaNumber,onChange:p,placeholder:"M-Pesa Number (if different)",className:"w-full bg-transparent border-b border-white/30 py-3 text-white placeholder-blue-300/50 outline-none focus:border-white transition-colors"})]}),f.jsx("button",{onClick:x,disabled:a||!s.fullName||!s.email||!s.phone,className:"w-full py-4 bg-white text-blue-900 uppercase tracking-widest text-sm font-bold hover:bg-blue-50 transition-colors disabled:opacity-50 mt-4",children:a?"Processing...":"Confirm Booking"})]})]})]})]})})},d1=()=>{const[n,e]=$.useState(!1),[s,r]=$.useState(""),a="254733590901",l=()=>{const y=`https://wa.me/${a}?text=${encodeURIComponent(s||"Hi! I need help with Bihh.")}`;window.open(y,"_blank"),r(""),e(!1)},c=m=>{m.key==="Enter"&&s.trim()&&l()};return f.jsxs("div",{className:"fixed bottom-6 left-6 z-50",children:[f.jsxs("div",{className:`mb-4 bg-white rounded-2xl shadow-2xl overflow-hidden transition-all duration-300 ${n?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-4 scale-95 pointer-events-none"}`,style:{width:"360px",maxWidth:"calc(100vw - 3rem)"},children:[f.jsxs("div",{className:"bg-[#25D366] px-5 py-4 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden",children:f.jsx("img",{src:"/assets/logo.jpg",alt:"Bihh Logo",className:"w-full h-full object-cover"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-semibold text-base",children:"Bihh Support"}),f.jsx("p",{className:"text-white/90 text-xs",children:"Online"})]})]}),f.jsx("button",{onClick:()=>e(!1),className:"text-white/90 hover:text-white transition-colors","aria-label":"Close chat",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("div",{className:"bg-[#E5DDD5] p-4 min-h-[200px] max-h-[300px] overflow-y-auto",children:f.jsx("div",{className:"flex items-start gap-2 mb-3",children:f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"bg-white rounded-lg rounded-tl-none px-4 py-3 shadow-sm",children:[f.jsx("p",{className:"text-[#2C2A26] text-sm leading-relaxed",children:"Thanks for visiting our website! "}),f.jsx("p",{className:"text-[#2C2A26] text-sm leading-relaxed mt-2",children:"How can we help you today?"}),f.jsx("span",{className:"text-[#667781] text-xs mt-1 block",children:"Just now"})]})})})}),f.jsxs("div",{className:"bg-[#F0F0F0] px-4 py-3 flex items-center gap-2",children:[f.jsx("input",{type:"text",value:s,onChange:m=>r(m.target.value),onKeyPress:c,placeholder:"Type a message...",className:"flex-1 bg-white rounded-full px-4 py-2 text-sm text-[#2C2A26] placeholder-[#667781] outline-none focus:ring-2 focus:ring-[#25D366]/30"}),f.jsx("button",{onClick:l,disabled:!s.trim(),className:"bg-[#25D366] hover:bg-[#20BA5A] disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-full p-2 transition-colors","aria-label":"Send message",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})]}),f.jsxs("button",{onClick:()=>e(!n),className:"relative bg-[#25D366] hover:bg-[#20BA5A] text-white rounded-full p-4 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110","aria-label":"Toggle WhatsApp chat",children:[!n&&f.jsx("div",{className:"absolute inset-0 rounded-full bg-[#25D366] animate-ping opacity-20"}),n?f.jsx("svg",{className:"w-8 h-8 relative z-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}):f.jsx("svg",{className:"w-8 h-8 relative z-10",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})]})]})},Sc="bihh_brands_fallback",Cc="bihh_brands_sync",ln={getBrands:()=>{const n=localStorage.getItem(Sc);if(n)try{return JSON.parse(n)}catch(s){console.error("Error parsing local brands:",s)}const e=[];return localStorage.setItem(Sc,JSON.stringify(e)),e},setBrands:n=>{localStorage.setItem(Sc,JSON.stringify(n)),window.dispatchEvent(new CustomEvent(Cc))},addBrand:n=>{const e=ln.getBrands(),s={...n,id:`brand-${Date.now()}`};return ln.setBrands([...e,s]),s},deleteBrand:n=>{const s=ln.getBrands().filter(r=>r.id!==n);ln.setBrands(s)},subscribe:n=>(window.addEventListener(Cc,n),()=>window.removeEventListener(Cc,n))},r0=()=>{const[n,e]=$.useState([]),[s,r]=$.useState(!0),[a,l]=$.useState(null),[c,m]=$.useState(!1),y=$.useCallback(()=>{e(ln.getBrands())},[]);return $.useEffect(()=>{const _=async()=>{try{r(!0);const{data:b,error:E}=await Ue.from("brands").select("*").order("name");E?(console.warn("Database error, using localBrandStore:",E.message),y(),m(!0)):(e(b||[]),m(!1))}catch{console.warn("Connection error, using localBrandStore"),y(),m(!0)}finally{r(!1)}};if(_(),c)return ln.subscribe(y);{const b=Ue.channel("brands-realtime").on("postgres_changes",{event:"*",schema:"public",table:"brands"},()=>_()).subscribe();return()=>{Ue.removeChannel(b)}}},[c,y]),{brands:n,loading:s,error:a,addBrand:async _=>{try{const{data:b,error:E}=await Ue.from("brands").insert([_]).select().single();if(E){const C=ln.addBrand(_);return m(!0),y(),{data:C,error:null}}return{data:b,error:null}}catch{const E=ln.addBrand(_);return m(!0),y(),{data:E,error:null}}},deleteBrand:async _=>{try{const{error:b}=await Ue.from("brands").delete().eq("id",_);return b?(ln.deleteBrand(_),m(!0),y(),{error:null}):{error:null}}catch{return ln.deleteBrand(_),m(!0),y(),{error:null}}},usingFallback:c}},f1=()=>{const{brands:n,loading:e}=r0();return e&&n.length===0||n.length===0?null:f.jsx("section",{className:"bg-white py-24 px-6 overflow-hidden border-b border-[#F5F2EB]",children:f.jsxs("div",{className:"max-w-[1800px] mx-auto",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("span",{className:"text-xs font-bold uppercase tracking-[0.2em] text-[#A8A29E] block mb-4",children:"Our Partners"}),f.jsx("h2",{className:"text-3xl md:text-5xl font-serif text-[#2C2A26]",children:"Trusted Vehicle Brands"}),f.jsx("div",{className:"w-12 h-[1px] bg-[#D6D1C7] mx-auto mt-8"})]}),f.jsx("div",{className:"flex flex-wrap justify-center items-center gap-12 md:gap-20 opacity-60",children:n.map(s=>f.jsxs("div",{className:"group flex flex-col items-center gap-4 transition-all duration-500 hover:opacity-100 hover:scale-110",title:s.name,children:[f.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 flex items-center justify-center grayscale group-hover:grayscale-0 transition-all duration-500",children:f.jsx("img",{src:s.logo,alt:s.name,className:"max-w-full max-h-full object-contain"})}),f.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-[#2C2A26] opacity-0 group-hover:opacity-100 transition-opacity",children:s.name})]},s.id))})]})})};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),m1=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,r)=>r?r.toUpperCase():s.toLowerCase()),Iy=n=>{const e=m1(n);return e.charAt(0).toUpperCase()+e.slice(1)},o0=(...n)=>n.filter((e,s,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===s).join(" ").trim(),p1=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var g1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=$.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...m},y)=>$.createElement("svg",{ref:y,...g1,width:e,height:e,stroke:n,strokeWidth:r?Number(s)*24/Number(e):s,className:o0("lucide",a),...!l&&!p1(m)&&{"aria-hidden":"true"},...m},[...c.map(([p,x])=>$.createElement(p,x)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(n,e)=>{const s=$.forwardRef(({className:r,...a},l)=>$.createElement(y1,{ref:l,iconNode:e,className:o0(`lucide-${h1(Iy(n))}`,`lucide-${n}`,r),...a}));return s.displayName=Iy(n),s};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],x1=he("arrow-down-right",v1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],b1=he("arrow-up-right",_1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],E1=he("award",w1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],C1=he("bell",S1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ba=he("calendar",T1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],md=he("car",A1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Kc=he("circle-check-big",N1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],a0=he("circle-x",R1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pd=he("clock",D1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],k1=he("credit-card",M1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],l0=he("dollar-sign",I1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],xa=he("download",U1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gd=he("eye",P1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],O1=he("file-check",j1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],_a=he("file-text",L1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],yd=he("funnel",B1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],V1=he("globe",q1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],u0=he("image",H1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],F1=he("layout-dashboard",G1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$1=he("loader-circle",z1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],K1=he("lock",J1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],X1=he("log-in",Y1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],W1=he("log-out",Q1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Yc=he("mail",Z1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],tR=he("map",eR);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],sR=he("menu",nR);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],rR=he("message-square",iR);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],aR=he("pen",oR);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Uy=he("phone",lR);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vd=he("plus",uR);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],dR=he("save",cR);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qa=he("search",fR);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mR=he("settings",hR);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Hr=he("trash-2",pR);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Py=he("upload",gR);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],vR=he("user-plus",yR);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_R=he("user",xR);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],c0=he("users",bR);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xd=he("x",wR),ER=({onLoginSuccess:n})=>{const[e,s]=$.useState(!0),[r,a]=$.useState(""),[l,c]=$.useState(""),[m,y]=$.useState(!1),[p,x]=$.useState(null),[_,b]=$.useState(null),E=async C=>{if(C.preventDefault(),y(!0),x(null),b(null),(r==="admin"||r==="admin@bihh.com")&&l==="admin123"){console.log("Logging in with development bypass"),setTimeout(()=>{n(),y(!1)},500);return}try{if(e){const{error:T}=await Ue.auth.signInWithPassword({email:r,password:l});if(T)throw T;n()}else{const{error:T}=await Ue.auth.signUp({email:r,password:l});if(T)throw T;b("Signup successful! Please check your email to confirm your account, or try logging in if email confirmation is disabled."),s(!0)}}catch(T){x(T.message||`Failed to ${e?"login":"sign up"}`)}finally{y(!1)}};return f.jsx("div",{className:"min-h-screen bg-[#F5F2EB] flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-[#D6D1C7]",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h2",{className:"text-3xl font-serif text-[#2C2A26] mb-2",children:"Bihh Admin"}),f.jsx("p",{className:"text-[#5D5A53]",children:e?"Sign in to manage the platform":"Create an admin account"})]}),p&&f.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-6 text-sm flex items-center gap-2",children:[f.jsx("span",{children:""})," ",p]}),_&&f.jsxs("div",{className:"bg-green-50 text-green-600 p-3 rounded-lg mb-6 text-sm flex items-center gap-2",children:[f.jsx("span",{children:""})," ",_]}),f.jsxs("form",{onSubmit:E,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Username or Email"}),f.jsxs("div",{className:"relative",children:[f.jsx(Yc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-[#A8A29E]"}),f.jsx("input",{type:"text",value:r,onChange:C=>a(C.target.value),className:"w-full pl-10 pr-4 py-3 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none transition-colors",placeholder:"admin",required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx(K1,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-[#A8A29E]"}),f.jsx("input",{type:"password",value:l,onChange:C=>c(C.target.value),className:"w-full pl-10 pr-4 py-3 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none transition-colors",placeholder:"admin123",required:!0,minLength:6})]})]}),f.jsx("button",{type:"submit",disabled:m,className:"w-full bg-[#2C2A26] text-[#F5F2EB] py-3 rounded-lg font-medium hover:bg-black transition-colors disabled:opacity-70 flex items-center justify-center gap-2",children:m?f.jsxs(f.Fragment,{children:[f.jsx($1,{className:"w-5 h-5 animate-spin"}),e?"Signing in...":"Signing up..."]}):f.jsxs(f.Fragment,{children:[e?f.jsx(X1,{className:"w-5 h-5"}):f.jsx(vR,{className:"w-5 h-5"}),e?"Sign In":"Create Account"]})})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsx("button",{onClick:()=>{s(!e),x(null),b(null)},className:"text-[#2C2A26] hover:underline text-sm font-medium",children:e?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})},SR=({children:n,onLogout:e,currentView:s,onNavigate:r})=>{const[a,l]=$.useState(!1),c=async()=>{await Ue.auth.signOut(),e()},m=[{id:"admin-dashboard",label:"Overview",icon:F1},{id:"admin-bookings",label:"Bookings",icon:Ba},{id:"admin-vehicles",label:"Fleet",icon:md},{id:"admin-roadtrips",label:"Roadtrips",icon:tR},{id:"admin-brands",label:"Brands",icon:E1},{id:"admin-customers",label:"Customers",icon:c0},{id:"admin-payments",label:"Payments",icon:k1},{id:"admin-verification",label:"Verification",icon:O1},{id:"admin-settings",label:"Settings",icon:mR}];return f.jsxs("div",{className:"min-h-screen bg-[#F5F2EB] flex",children:[a&&f.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>l(!1)}),f.jsxs("aside",{className:`
                fixed lg:static inset-y-0 left-0 z-50 w-64 bg-[#2C2A26] text-[#F5F2EB] transition-transform duration-300 ease-in-out flex flex-col
                ${a?"translate-x-0":"-translate-x-full lg:translate-x-0"}
            `,children:[f.jsxs("div",{className:"p-6 border-b border-[#403D39] flex items-center justify-between",children:[f.jsx("div",{className:"flex items-center gap-3",children:f.jsx("span",{className:"font-serif text-xl font-medium",children:"Bihh Admin"})}),f.jsx("button",{onClick:()=>l(!1),className:"lg:hidden text-[#D6D1C7]",children:f.jsx(xd,{className:"w-6 h-6"})})]}),f.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:m.map(y=>{const p=s===y.id;return f.jsxs("button",{onClick:()=>{r(y.id),l(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${p?"bg-[#F5F2EB] text-[#2C2A26]":"text-[#D6D1C7] hover:bg-[#403D39] hover:text-white"}`,children:[f.jsx(y.icon,{className:"w-5 h-5"}),y.label]},y.id)})}),f.jsx("div",{className:"p-4 border-t border-[#403D39]",children:f.jsxs("button",{onClick:c,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium text-red-400 hover:bg-[#403D39] transition-colors",children:[f.jsx(W1,{className:"w-5 h-5"}),"Sign Out"]})})]}),f.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[f.jsxs("header",{className:"bg-white border-b border-[#EBE7DE] px-6 py-4 flex items-center justify-between",children:[f.jsx("button",{onClick:()=>l(!0),className:"lg:hidden text-[#2C2A26]",children:f.jsx(sR,{className:"w-6 h-6"})}),f.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[f.jsxs("div",{className:"text-right hidden sm:block",children:[f.jsx("p",{className:"text-sm font-medium text-[#2C2A26]",children:"Admin User"}),f.jsx("p",{className:"text-xs text-[#5D5A53]",children:"Super Admin"})]}),f.jsx("div",{className:"w-10 h-10 bg-[#F5F2EB] rounded-full flex items-center justify-center text-[#2C2A26] font-serif font-bold border border-[#D6D1C7]",children:"A"})]})]}),f.jsx("main",{className:"flex-1 overflow-y-auto p-6 lg:p-8",children:n})]})]})},CR=()=>{const n=[{label:"Total Revenue",value:"KES 0",change:"0%",trend:"up",icon:l0},{label:"Active Bookings",value:"0",change:"0",trend:"up",icon:Ba},{label:"Fleet Utilization",value:"0%",change:"0%",trend:"up",icon:md},{label:"New Customers",value:"0",change:"0",trend:"up",icon:c0}];return f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-serif text-[#2C2A26]",children:"Dashboard Overview"}),f.jsx("p",{className:"text-[#5D5A53] mt-2",children:"Welcome back, Admin. Here's what's happening today."})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((e,s)=>f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-[#EBE7DE]",children:[f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsx("div",{className:"p-3 bg-[#F5F2EB] rounded-lg",children:f.jsx(e.icon,{className:"w-6 h-6 text-[#2C2A26]"})}),f.jsxs("span",{className:`flex items-center text-sm font-medium ${e.trend==="up"?"text-green-600":"text-red-600"}`,children:[e.change,e.trend==="up"?f.jsx(b1,{className:"w-4 h-4 ml-1"}):f.jsx(x1,{className:"w-4 h-4 ml-1"})]})]}),f.jsx("h3",{className:"text-2xl font-bold text-[#2C2A26] mt-4",children:e.value}),f.jsx("p",{className:"text-[#5D5A53] text-sm mt-1",children:e.label})]},s))}),f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-[#EBE7DE] overflow-hidden",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-[#EBE7DE] flex justify-between items-center",children:[f.jsx("h3",{className:"font-serif text-lg text-[#2C2A26]",children:"Recent Bookings"}),f.jsx("button",{className:"text-sm text-[#5D5A53] hover:text-[#2C2A26]",children:"View All"})]}),f.jsx("div",{className:"p-6 text-center text-[#5D5A53] py-12",children:f.jsx("p",{children:"No recent bookings to display (Data connection pending)"})})]})]})},TR=()=>{const[n,e]=$.useState([]),[s,r]=$.useState(!0),[a,l]=$.useState(null);$.useEffect(()=>{const _=async()=>{try{r(!0);const{data:E,error:C}=await Ue.from("bookings").select(`
            *,
            customer:customers(*),
            vehicle:vehicles(*)
          `).order("created_at",{ascending:!1});if(C)throw C;e(E||[]),l(null)}catch(E){l(E.message),console.error("Error fetching bookings:",E)}finally{r(!1)}};_();const b=Ue.channel("bookings-realtime").on("postgres_changes",{event:"*",schema:"public",table:"bookings"},()=>{_()}).subscribe();return()=>{Ue.removeChannel(b)}},[]);const c=async _=>{try{const{data:b,error:E}=await Ue.from("bookings").insert([_]).select(`
          *,
          customer:customers(*),
          vehicle:vehicles(*)
        `).single();if(E)throw E;return{data:b,error:null}}catch(b){return console.error("Error creating booking:",b),{data:null,error:b.message}}},m=async(_,b)=>{try{const{data:E,error:C}=await Ue.from("bookings").update({status:b}).eq("id",_).select().single();if(C)throw C;return{data:E,error:null}}catch(E){return console.error("Error updating booking status:",E),{data:null,error:E.message}}};return{bookings:n,loading:s,error:a,createBooking:c,updateBookingStatus:m,updatePaymentStatus:async(_,b)=>{try{const{data:E,error:C}=await Ue.from("bookings").update({payment_status:b}).eq("id",_).select().single();if(C)throw C;return{data:E,error:null}}catch(E){return console.error("Error updating payment status:",E),{data:null,error:E.message}}},cancelBooking:async _=>m(_,"cancelled"),checkAvailability:async(_,b,E)=>{try{const{data:C,error:T}=await Ue.from("bookings").select("id").eq("vehicle_id",_).in("status",["pending","confirmed","ongoing"]).or(`start_date.lte.${E},end_date.gte.${b}`);if(T)throw T;return((C==null?void 0:C.length)||0)===0}catch(C){return console.error("Error checking availability:",C),!1}}}},AR=()=>{var x,_,b,E,C,T;const{bookings:n}=TR(),[e,s]=$.useState(""),[r,a]=$.useState("all"),[l,c]=$.useState(null),m=A=>{const U={pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800"};return f.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${U[A]}`,children:A.charAt(0).toUpperCase()+A.slice(1)})},y=A=>{const U={pending:"bg-orange-100 text-orange-800",paid:"bg-green-100 text-green-800",refunded:"bg-blue-100 text-blue-800"};return f.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${U[A]}`,children:A.charAt(0).toUpperCase()+A.slice(1)})},p=n.filter(A=>{var k,F;const U=A.id.toLowerCase().includes(e.toLowerCase())||((k=A.customer)==null?void 0:k.full_name.toLowerCase().includes(e.toLowerCase()))||((F=A.vehicle)==null?void 0:F.name.toLowerCase().includes(e.toLowerCase())),O=r==="all"||A.status===r;return U&&O});return f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-serif text-[#2C2A26]",children:"Bookings Management"}),f.jsxs("div",{className:"text-sm text-[#5D5A53]",children:["Total: ",p.length," bookings"]})]}),f.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-6 flex gap-4 flex-wrap",children:[f.jsx("div",{className:"flex-1 min-w-[200px]",children:f.jsxs("div",{className:"relative",children:[f.jsx(qa,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-[#A8A29E]"}),f.jsx("input",{type:"text",placeholder:"Search by ID, customer, or vehicle...",value:e,onChange:A=>s(A.target.value),className:"w-full pl-10 pr-4 py-2 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none"})]})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(yd,{className:"w-5 h-5 text-[#5D5A53]"}),f.jsxs("select",{value:r,onChange:A=>a(A.target.value),className:"px-4 py-2 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none",children:[f.jsx("option",{value:"all",children:"All Status"}),f.jsx("option",{value:"pending",children:"Pending"}),f.jsx("option",{value:"confirmed",children:"Confirmed"}),f.jsx("option",{value:"completed",children:"Completed"}),f.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),f.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-[#F5F2EB] border-b border-[#D6D1C7]",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Booking ID"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Customer"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Vehicle"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Dates"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Amount"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Status"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Payment"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"divide-y divide-[#D6D1C7]",children:p.map(A=>{var U,O,k;return f.jsxs("tr",{className:"hover:bg-[#F5F2EB] transition-colors",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-[#2C2A26]",children:A.id}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[f.jsx("div",{className:"text-sm text-[#2C2A26]",children:(U=A.customer)==null?void 0:U.full_name}),f.jsx("div",{className:"text-xs text-[#5D5A53]",children:(O=A.customer)==null?void 0:O.phone})]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#2C2A26]",children:(k=A.vehicle)==null?void 0:k.name}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#5D5A53]",children:[f.jsx("div",{children:A.start_date}),f.jsxs("div",{children:["to ",A.end_date]})]}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-[#2C2A26]",children:["KSh ",A.total_amount.toLocaleString()]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m(A.status)}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y(A.payment_status)}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:f.jsx("button",{onClick:()=>c(A),className:"text-[#2C2A26] hover:text-black",children:f.jsx(gd,{className:"w-5 h-5"})})})]},A.id)})})]})})}),l&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"p-6 border-b border-[#D6D1C7] flex justify-between items-center",children:[f.jsx("h3",{className:"text-xl font-serif text-[#2C2A26]",children:"Booking Details"}),f.jsx("button",{onClick:()=>c(null),className:"text-[#5D5A53] hover:text-[#2C2A26]",children:f.jsx(xd,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-[#5D5A53]",children:"Booking ID"}),f.jsx("p",{className:"text-[#2C2A26] font-semibold",children:l.id})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-[#5D5A53]",children:"Created"}),f.jsx("p",{className:"text-[#2C2A26]",children:l.created_at})]})]}),f.jsxs("div",{className:"border-t border-[#D6D1C7] pt-4",children:[f.jsxs("h4",{className:"font-medium text-[#2C2A26] mb-3 flex items-center gap-2",children:[f.jsx(_R,{className:"w-5 h-5"}),"Customer Information"]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-[#5D5A53]",children:"Name"}),f.jsx("p",{className:"text-[#2C2A26]",children:(x=l.customer)==null?void 0:x.full_name})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-[#5D5A53]",children:"Email"}),f.jsx("p",{className:"text-[#2C2A26]",children:(_=l.customer)==null?void 0:_.email})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-[#5D5A53]",children:"Phone"}),f.jsx("p",{className:"text-[#2C2A26]",children:(b=l.customer)==null?void 0:b.phone})]})]})]}),f.jsxs("div",{className:"border-t border-[#D6D1C7] pt-4",children:[f.jsxs("h4",{className:"font-medium text-[#2C2A26] mb-3 flex items-center gap-2",children:[f.jsx(md,{className:"w-5 h-5"}),"Vehicle Information"]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-[#5D5A53]",children:"Vehicle"}),f.jsx("p",{className:"text-[#2C2A26]",children:(E=l.vehicle)==null?void 0:E.name})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-[#5D5A53]",children:"Category"}),f.jsx("p",{className:"text-[#2C2A26]",children:(C=l.vehicle)==null?void 0:C.category})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-[#5D5A53]",children:"Daily Rate"}),f.jsxs("p",{className:"text-[#2C2A26]",children:["KSh ",(T=l.vehicle)==null?void 0:T.pricePerDay.toLocaleString()]})]})]})]}),f.jsxs("div",{className:"border-t border-[#D6D1C7] pt-4",children:[f.jsxs("h4",{className:"font-medium text-[#2C2A26] mb-3 flex items-center gap-2",children:[f.jsx(Ba,{className:"w-5 h-5"}),"Booking Details"]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-[#5D5A53]",children:"Start Date"}),f.jsx("p",{className:"text-[#2C2A26]",children:l.start_date})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-[#5D5A53]",children:"End Date"}),f.jsx("p",{className:"text-[#2C2A26]",children:l.end_date})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-[#5D5A53]",children:"Total Amount"}),f.jsxs("p",{className:"text-[#2C2A26] font-semibold text-lg",children:["KSh ",l.total_amount.toLocaleString()]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-[#5D5A53]",children:"Status"}),f.jsx("div",{className:"mt-1",children:m(l.status)})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-[#5D5A53]",children:"Payment Status"}),f.jsx("div",{className:"mt-1",children:y(l.payment_status)})]})]})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx("button",{className:"flex-1 bg-[#2C2A26] text-[#F5F2EB] py-2 rounded-lg hover:bg-black transition-colors",children:"Confirm Booking"}),f.jsx("button",{className:"flex-1 border border-[#D6D1C7] text-[#2C2A26] py-2 rounded-lg hover:bg-[#F5F2EB] transition-colors",children:"Cancel Booking"})]})]})]})})]})},jy=n=>new Promise((e,s)=>{const r=new FileReader;r.readAsDataURL(n),r.onload=()=>e(r.result),r.onerror=a=>s(a)}),_d=async(n,e="vehicle-images")=>{var s;try{if(!n.type.startsWith("image/"))return{url:null,error:"File must be an image"};const r=5*1024*1024;if(n.size>r)return{url:null,error:"Image must be less than 5MB"};try{const a=(s=n.name.split(".").pop())==null?void 0:s.toLowerCase(),c=`vehicles/${`${Date.now()}-${Math.random().toString(36).substring(7)}.${a}`}`,{data:m,error:y}=await Ue.storage.from(e).upload(c,n,{cacheControl:"3600",upsert:!1});if(y)return console.warn("Supabase upload failed, using persistent fallback:",y.message),{url:await jy(n),error:null};const{data:{publicUrl:p}}=Ue.storage.from(e).getPublicUrl(c);return{url:p,error:null}}catch(a){return console.warn("Upload exception, using persistent fallback:",a.message),{url:await jy(n),error:null}}}catch(r){return console.error("Final upload exception:",r),{url:null,error:r.message||"Upload failed"}}},bd=({currentImageUrl:n,onImageUploaded:e,onImageRemoved:s})=>{const[r,a]=$.useState(!1),[l,c]=$.useState(!1),[m,y]=$.useState(0),[p,x]=$.useState(null),_=$.useRef(null),b=O=>{O.preventDefault(),a(!0)},E=O=>{O.preventDefault(),a(!1)},C=async O=>{O.preventDefault(),a(!1);const k=O.dataTransfer.files;k&&k.length>0&&await A(k[0])},T=async O=>{const k=O.target.files;k&&k.length>0&&await A(k[0])},A=async O=>{x(null),c(!0),y(0);const k=setInterval(()=>{y(J=>Math.min(J+10,90))},200),{url:F,error:Y}=await _d(O);if(clearInterval(k),y(100),Y){x(Y),c(!1);return}F&&e(F),setTimeout(()=>{c(!1),y(0)},500)},U=()=>{s&&s()};return f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Vehicle Image"}),n?f.jsxs("div",{className:"relative",children:[f.jsx("img",{src:n,alt:"Vehicle",className:"w-full h-48 object-cover rounded-lg border-2 border-[#D6D1C7]"}),f.jsx("button",{type:"button",onClick:U,className:"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transition-colors",children:f.jsx(xd,{className:"w-4 h-4"})})]}):f.jsxs("div",{onDragOver:b,onDragLeave:E,onDrop:C,onClick:()=>{var O;return(O=_.current)==null?void 0:O.click()},className:`
            border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-all
            ${r?"border-[#2C2A26] bg-[#F5F2EB]":"border-[#D6D1C7] hover:border-[#2C2A26] hover:bg-[#F5F2EB]"}
          `,children:[f.jsx("input",{ref:_,type:"file",accept:"image/*",onChange:T,className:"hidden"}),l?f.jsxs("div",{className:"space-y-3",children:[f.jsx(Py,{className:"w-12 h-12 mx-auto text-[#2C2A26] animate-pulse"}),f.jsxs("p",{className:"text-sm text-[#2C2A26] font-medium",children:["Uploading... ",m,"%"]}),f.jsx("div",{className:"w-full bg-[#D6D1C7] rounded-full h-2",children:f.jsx("div",{className:"bg-[#2C2A26] h-2 rounded-full transition-all duration-300",style:{width:`${m}%`}})})]}):f.jsxs("div",{className:"space-y-2",children:[f.jsx(Py,{className:"w-12 h-12 mx-auto text-[#5D5A53]"}),f.jsx("p",{className:"text-sm text-[#2C2A26] font-medium",children:"Drag & drop an image here"}),f.jsx("p",{className:"text-xs text-[#5D5A53]",children:"or click to browse (max 5MB)"})]})]}),p&&f.jsx("p",{className:"text-sm text-red-600 mt-2",children:p}),!n&&!l&&f.jsx("p",{className:"text-xs text-[#5D5A53] mt-2",children:"Supported formats: JPEG, JPG, PNG, WebP, GIF"})]})},NR=()=>{const{vehicles:n,addVehicle:e,updateVehicle:s,deleteVehicle:r}=rd(),[a,l]=$.useState(""),[c,m]=$.useState("all"),[y,p]=$.useState(!1),[x,_]=$.useState(null),b=["all","Saloon Car","SUV","Van","4x4","Compact Car","Luxury SUV"],E=(n||[]).filter(T=>{const A=(T.name||"").toLowerCase().includes(a.toLowerCase())||(T.tagline||"").toLowerCase().includes(a.toLowerCase()),U=c==="all"||T.category===c;return A&&U}),C=async T=>{if(confirm("Are you sure you want to delete this vehicle?")){const{error:A}=await r(T);A&&alert("Error deleting vehicle: "+A)}};return f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-serif text-[#2C2A26]",children:"Fleet Management"}),f.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 bg-[#2C2A26] text-[#F5F2EB] px-4 py-2 rounded-lg hover:bg-black transition-colors",children:[f.jsx(vd,{className:"w-5 h-5"}),"Add Vehicle"]})]}),f.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-6 flex gap-4 flex-wrap",children:[f.jsx("div",{className:"flex-1 min-w-[200px]",children:f.jsxs("div",{className:"relative",children:[f.jsx(qa,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-[#A8A29E]"}),f.jsx("input",{type:"text",placeholder:"Search vehicles...",value:a,onChange:T=>l(T.target.value),className:"w-full pl-10 pr-4 py-2 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none"})]})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(yd,{className:"w-5 h-5 text-[#5D5A53]"}),f.jsx("select",{value:c,onChange:T=>m(T.target.value),className:"px-4 py-2 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none",children:b.map(T=>f.jsx("option",{value:T,children:T==="all"?"All Categories":T},T))})]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(T=>f.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden border border-[#D6D1C7] hover:shadow-md transition-shadow",children:[f.jsx("div",{className:"aspect-video bg-[#F5F2EB] overflow-hidden",children:f.jsx("img",{src:T.imageUrl,alt:T.name,className:"w-full h-full object-cover"})}),f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-serif text-lg text-[#2C2A26]",children:T.name}),f.jsx("p",{className:"text-sm text-[#5D5A53]",children:T.category})]}),f.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded",children:"Available"})]}),f.jsx("p",{className:"text-sm text-[#5D5A53] mb-3",children:T.tagline}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("span",{className:"text-lg font-semibold text-[#2C2A26]",children:["KSh ",T.pricePerDay.toLocaleString(),"/day"]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>_(T),className:"p-2 text-[#2C2A26] hover:bg-[#F5F2EB] rounded transition-colors",children:f.jsx(aR,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>C(T.id),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",children:f.jsx(Hr,{className:"w-4 h-4"})})]})]})]})]},T.id))}),E.length===0&&f.jsx("div",{className:"text-center py-12 text-[#5D5A53]",children:f.jsx("p",{children:"No vehicles found matching your criteria."})}),(y||x)&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"p-6 border-b border-[#D6D1C7] flex justify-between items-center",children:[f.jsx("h3",{className:"text-xl font-serif text-[#2C2A26]",children:x?"Edit Vehicle":"Add New Vehicle"}),f.jsx("button",{onClick:()=>{p(!1),_(null)},className:"text-[#5D5A53] hover:text-[#2C2A26]",children:""})]}),f.jsx(RR,{vehicle:x,onSave:async T=>{if(x){const{error:A}=await s(x.id,T);A?alert("Error updating vehicle: "+A):_(null)}else{const{error:A}=await e(T);A?alert("Error adding vehicle: "+A):p(!1)}},onCancel:()=>{p(!1),_(null)}})]})})]})},RR=({vehicle:n,onSave:e,onCancel:s})=>{var c,m,y;const[r,a]=$.useState({name:(n==null?void 0:n.name)||"",tagline:(n==null?void 0:n.tagline)||"",description:(n==null?void 0:n.description)||"",pricePerDay:(n==null?void 0:n.pricePerDay)||0,category:(n==null?void 0:n.category)||"SUV",imageUrl:(n==null?void 0:n.imageUrl)||"",features:((c=n==null?void 0:n.features)==null?void 0:c.join(", "))||"",seats:((m=n==null?void 0:n.specs)==null?void 0:m.seats)||5,transmission:((y=n==null?void 0:n.specs)==null?void 0:y.transmission)||"Automatic",status:(n==null?void 0:n.status)||"available"}),l=p=>{p.preventDefault(),e({name:r.name,tagline:r.tagline,description:r.description,pricePerDay:Number(r.pricePerDay),category:r.category,imageUrl:r.imageUrl,features:r.features.split(",").map(x=>x.trim()).filter(x=>x),specs:{seats:Number(r.seats),transmission:r.transmission},status:r.status})};return f.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Vehicle Name"}),f.jsx("input",{type:"text",value:r.name,onChange:p=>a({...r,name:p.target.value}),className:"w-full px-4 py-2 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none",required:!0})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Tagline"}),f.jsx("input",{type:"text",value:r.tagline,onChange:p=>a({...r,tagline:p.target.value}),className:"w-full px-4 py-2 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none"})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Description"}),f.jsx("textarea",{value:r.description,onChange:p=>a({...r,description:p.target.value}),className:"w-full px-4 py-2 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none",rows:3})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Price per Day (KSh)"}),f.jsx("input",{type:"number",value:r.pricePerDay,onChange:p=>a({...r,pricePerDay:Number(p.target.value)}),className:"w-full px-4 py-2 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Category"}),f.jsxs("select",{value:r.category,onChange:p=>a({...r,category:p.target.value}),className:"w-full px-4 py-2 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none",children:[f.jsx("option",{value:"Saloon Car",children:"Saloon Car"}),f.jsx("option",{value:"SUV",children:"SUV"}),f.jsx("option",{value:"Van",children:"Van"}),f.jsx("option",{value:"4x4",children:"4x4"}),f.jsx("option",{value:"Compact Car",children:"Compact Car"}),f.jsx("option",{value:"Luxury SUV",children:"Luxury SUV"})]})]}),f.jsx("div",{className:"col-span-2",children:f.jsx(bd,{currentImageUrl:r.imageUrl,onImageUploaded:p=>a({...r,imageUrl:p}),onImageRemoved:()=>a({...r,imageUrl:""})})}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Features (comma-separated)"}),f.jsx("input",{type:"text",value:r.features,onChange:p=>a({...r,features:p.target.value}),className:"w-full px-4 py-2 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none",placeholder:"4WD, Leather Seats, Climate Control"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Seats"}),f.jsx("input",{type:"number",value:r.seats,onChange:p=>a({...r,seats:Number(p.target.value)}),className:"w-full px-4 py-2 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Transmission"}),f.jsxs("select",{value:r.transmission,onChange:p=>a({...r,transmission:p.target.value}),className:"w-full px-4 py-2 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none",children:[f.jsx("option",{value:"Automatic",children:"Automatic"}),f.jsx("option",{value:"Manual",children:"Manual"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Status"}),f.jsxs("select",{value:r.status,onChange:p=>a({...r,status:p.target.value}),className:"w-full px-4 py-2 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none",children:[f.jsx("option",{value:"available",children:"Available"}),f.jsx("option",{value:"booked",children:"Booked"}),f.jsx("option",{value:"maintenance",children:"Maintenance"})]})]})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx("button",{type:"submit",className:"flex-1 bg-[#2C2A26] text-[#F5F2EB] py-2 rounded-lg hover:bg-black transition-colors",children:n?"Update Vehicle":"Add Vehicle"}),f.jsx("button",{type:"button",onClick:s,className:"flex-1 border border-[#D6D1C7] text-[#2C2A26] py-2 rounded-lg hover:bg-[#F5F2EB] transition-colors",children:"Cancel"})]})]})},DR=()=>{const{roadtrips:n,loading:e,addRoadtrip:s,deleteRoadtrip:r,usingFallback:a}=Mv(),[l,c]=$.useState(!1),[m,y]=$.useState(!1),[p,x]=$.useState({title:"",excerpt:"",content:"",image:"",price:0,duration:"",date:new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}),_=async E=>{y(!0);const{url:C,error:T}=await _d(E);C&&x(A=>({...A,image:C})),y(!1)},b=async E=>{if(E.preventDefault(),!p.image)return alert("Please upload an image");await s(p),c(!1),x({title:"",excerpt:"",content:"",image:"",price:0,duration:"",date:new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})};return f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-serif text-[#2C2A26]",children:"Roadtrip Management"}),f.jsx("p",{className:"text-[#5D5A53] mt-2",children:"Create and manage curated travel experiences."})]}),f.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-2 bg-[#2C2A26] text-white px-6 py-3 rounded-none hover:bg-[#444] transition-all",children:[f.jsx(vd,{className:"w-5 h-5"}),l?"Cancel":"Add Roadtrip"]})]}),a&&f.jsx("div",{className:"bg-amber-50 border border-amber-200 p-4 text-amber-800 text-sm",children:"Operating in local development mode. Changes are saved to your browser only."}),l&&f.jsx("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-[#EBE7DE] animate-slide-up-fade",children:f.jsxs("form",{onSubmit:b,className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Trip Title"}),f.jsx("input",{type:"text",required:!0,className:"w-full bg-[#F5F2EB] border border-[#D6D1C7] px-4 py-3 outline-none focus:border-[#2C2A26]",value:p.title,onChange:E=>x({...p,title:E.target.value}),placeholder:"e.g. Weekend at the Mara"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Short Excerpt"}),f.jsx("textarea",{required:!0,className:"w-full bg-[#F5F2EB] border border-[#D6D1C7] px-4 py-3 outline-none focus:border-[#2C2A26] h-24",value:p.excerpt,onChange:E=>x({...p,excerpt:E.target.value}),placeholder:"Brief summary of the trip..."})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Price (KSh)"}),f.jsx("input",{type:"number",required:!0,className:"w-full bg-[#F5F2EB] border border-[#D6D1C7] px-4 py-3 outline-none focus:border-[#2C2A26]",value:p.price,onChange:E=>x({...p,price:Number(E.target.value)})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Duration"}),f.jsx("input",{type:"text",required:!0,className:"w-full bg-[#F5F2EB] border border-[#D6D1C7] px-4 py-3 outline-none focus:border-[#2C2A26]",value:p.duration,onChange:E=>x({...p,duration:E.target.value}),placeholder:"e.g. 3 Days"})]})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Cover Image"}),p.image?f.jsxs("div",{className:"relative aspect-video bg-[#F5F2EB] border border-[#D6D1C7] overflow-hidden",children:[f.jsx("img",{src:p.image,className:"w-full h-full object-cover",alt:"Preview"}),f.jsx("button",{type:"button",onClick:()=>x({...p,image:""}),className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600",children:f.jsx(Hr,{className:"w-4 h-4"})})]}):f.jsx(bd,{onUpload:_})]}),f.jsx("button",{type:"submit",disabled:m,className:"w-full bg-[#2C2A26] text-white py-4 rounded-none hover:bg-[#444] transition-all disabled:opacity-50",children:m?"Processing Image...":"Publish Roadtrip"})]})]})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(E=>f.jsxs("div",{className:"bg-white group overflow-hidden border border-[#EBE7DE] shadow-sm hover:shadow-md transition-all",children:[f.jsxs("div",{className:"aspect-[4/3] relative overflow-hidden",children:[f.jsx("img",{src:E.image,alt:E.title,className:"w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-700"}),f.jsx("button",{onClick:()=>r(E.id),className:"absolute top-4 right-4 bg-white/90 p-2 text-red-600 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-white",children:f.jsx(Hr,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center gap-4 text-xs font-bold uppercase tracking-widest text-[#A8A29E] mb-3",children:[f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(Ba,{className:"w-3 h-3"})," ",E.date]}),f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(pd,{className:"w-3 h-3"})," ",E.duration]})]}),f.jsx("h3",{className:"text-xl font-serif text-[#2C2A26] mb-3",children:E.title}),f.jsx("p",{className:"text-[#5D5A53] text-sm line-clamp-2 mb-4 font-light leading-relaxed",children:E.excerpt}),f.jsx("div",{className:"pt-4 border-t border-[#F5F2EB] flex items-center justify-between",children:f.jsxs("span",{className:"text-lg font-bold text-[#2C2A26]",children:["KSh ",E.price.toLocaleString()]})})]})]},E.id))}),n.length===0&&!e&&f.jsxs("div",{className:"text-center py-20 border-2 border-dashed border-[#D6D1C7] rounded-xl",children:[f.jsx(u0,{className:"w-12 h-12 text-[#D6D1C7] mx-auto mb-4"}),f.jsx("p",{className:"text-[#A8A29E]",children:"No roadtrips available. Create your first experience above."})]})]})},MR=()=>{const{brands:n,loading:e,addBrand:s,deleteBrand:r,usingFallback:a}=r0(),[l,c]=$.useState(!1),[m,y]=$.useState(!1),[p,x]=$.useState({name:"",logo:"",description:""}),_=async E=>{y(!0);const{url:C,error:T}=await _d(E);C&&x(A=>({...A,logo:C})),y(!1)},b=async E=>{if(E.preventDefault(),!p.logo)return alert("Please upload a brand logo");await s(p),c(!1),x({name:"",logo:"",description:""})};return f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-serif text-[#2C2A26]",children:"Brand Management"}),f.jsx("p",{className:"text-[#5D5A53] mt-2",children:"Manage the vehicle brands showcased on the platform."})]}),f.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-2 bg-[#2C2A26] text-white px-6 py-3 rounded-none hover:bg-[#444] transition-all",children:[f.jsx(vd,{className:"w-5 h-5"}),l?"Cancel":"Add Brand"]})]}),a&&f.jsx("div",{className:"bg-amber-50 border border-amber-200 p-4 text-amber-800 text-sm",children:"Operating in local development mode. Changes are saved to your browser only."}),l&&f.jsx("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-[#EBE7DE] animate-slide-up-fade",children:f.jsxs("form",{onSubmit:b,className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Brand Name"}),f.jsx("input",{type:"text",required:!0,className:"w-full bg-[#F5F2EB] border border-[#D6D1C7] px-4 py-3 outline-none focus:border-[#2C2A26]",value:p.name,onChange:E=>x({...p,name:E.target.value}),placeholder:"e.g. Toyota"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Description (Optional)"}),f.jsx("textarea",{className:"w-full bg-[#F5F2EB] border border-[#D6D1C7] px-4 py-3 outline-none focus:border-[#2C2A26] h-24",value:p.description,onChange:E=>x({...p,description:E.target.value}),placeholder:"Brief note about the brand..."})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Brand Logo"}),p.logo?f.jsxs("div",{className:"relative w-32 h-32 bg-[#F5F2EB] border border-[#D6D1C7] flex items-center justify-center p-4",children:[f.jsx("img",{src:p.logo,className:"max-w-full max-h-full object-contain",alt:"Preview"}),f.jsx("button",{type:"button",onClick:()=>x({...p,logo:""}),className:"absolute -top-2 -right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600",children:f.jsx(Hr,{className:"w-4 h-4"})})]}):f.jsx(bd,{onUpload:_})]}),f.jsx("button",{type:"submit",disabled:m,className:"w-full bg-[#2C2A26] text-white py-4 rounded-none hover:bg-[#444] transition-all disabled:opacity-50",children:m?"Processing Logo...":"Add Brand"})]})]})}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-6",children:n.map(E=>f.jsxs("div",{className:"bg-white group p-6 border border-[#EBE7DE] shadow-sm hover:shadow-md transition-all flex flex-col items-center relative",children:[f.jsx("div",{className:"w-20 h-20 mb-4 flex items-center justify-center grayscale group-hover:grayscale-0 transition-all",children:f.jsx("img",{src:E.logo,alt:E.name,className:"max-w-full max-h-full object-contain"})}),f.jsx("span",{className:"text-sm font-medium text-[#2C2A26] text-center",children:E.name}),f.jsx("button",{onClick:()=>r(E.id),className:"absolute top-2 right-2 p-1 text-red-600 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-50",children:f.jsx(Hr,{className:"w-4 h-4"})})]},E.id))}),n.length===0&&!e&&f.jsxs("div",{className:"text-center py-20 border-2 border-dashed border-[#D6D1C7] rounded-xl",children:[f.jsx(u0,{className:"w-12 h-12 text-[#D6D1C7] mx-auto mb-4"}),f.jsx("p",{className:"text-[#A8A29E]",children:"No brands added yet. Start by adding your first brand above."})]})]})},kR=()=>{const[n,e]=$.useState(""),[s,r]=$.useState(null),a=[{id:"C001",full_name:"John Kamau",email:"john@example.com",phone:"+254712345678",total_bookings:5,total_spent:125e3,last_booking:"2025-12-01",created_at:"2025-01-15"},{id:"C002",full_name:"Mary Wanjiku",email:"mary@example.com",phone:"+254723456789",total_bookings:3,total_spent:78e3,last_booking:"2025-11-28",created_at:"2025-03-22"},{id:"C003",full_name:"Peter Omondi",email:"peter@example.com",phone:"+254734567890",total_bookings:8,total_spent:21e4,last_booking:"2025-11-30",created_at:"2024-11-10"}],[l]=$.useState(a),c=l.filter(m=>m.full_name.toLowerCase().includes(n.toLowerCase())||m.email.toLowerCase().includes(n.toLowerCase())||m.phone.includes(n));return f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-serif text-[#2C2A26]",children:"Customer Management"}),f.jsxs("div",{className:"text-sm text-[#5D5A53]",children:["Total: ",c.length," customers"]})]}),f.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-6",children:f.jsxs("div",{className:"relative",children:[f.jsx(qa,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-[#A8A29E]"}),f.jsx("input",{type:"text",placeholder:"Search by name, email, or phone...",value:n,onChange:m=>e(m.target.value),className:"w-full pl-10 pr-4 py-2 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none"})]})}),f.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-[#F5F2EB] border-b border-[#D6D1C7]",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Customer"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Contact"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Bookings"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Total Spent"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Last Booking"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"divide-y divide-[#D6D1C7]",children:c.map(m=>f.jsxs("tr",{className:"hover:bg-[#F5F2EB] transition-colors",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-[#2C2A26] text-[#F5F2EB] rounded-full flex items-center justify-center font-serif font-bold",children:m.full_name.charAt(0)}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-medium text-[#2C2A26]",children:m.full_name}),f.jsxs("div",{className:"text-xs text-[#5D5A53]",children:["ID: ",m.id]})]})]})}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[f.jsxs("div",{className:"text-sm text-[#2C2A26] flex items-center gap-2",children:[f.jsx(Yc,{className:"w-4 h-4 text-[#5D5A53]"}),m.email]}),f.jsxs("div",{className:"text-sm text-[#5D5A53] flex items-center gap-2 mt-1",children:[f.jsx(Uy,{className:"w-4 h-4"}),m.phone]})]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#2C2A26] font-semibold",children:m.total_bookings}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-[#2C2A26]",children:["KSh ",m.total_spent.toLocaleString()]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#5D5A53]",children:m.last_booking}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>r(m),className:"text-[#2C2A26] hover:text-black",title:"View Details",children:f.jsx(gd,{className:"w-5 h-5"})}),f.jsx("button",{className:"text-[#2C2A26] hover:text-black",title:"Send Message",children:f.jsx(rR,{className:"w-5 h-5"})})]})})]},m.id))})]})})}),s&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"p-6 border-b border-[#D6D1C7] flex justify-between items-center",children:[f.jsx("h3",{className:"text-xl font-serif text-[#2C2A26]",children:"Customer Profile"}),f.jsx("button",{onClick:()=>r(null),className:"text-[#5D5A53] hover:text-[#2C2A26]",children:""})]}),f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-16 h-16 bg-[#2C2A26] text-[#F5F2EB] rounded-full flex items-center justify-center font-serif font-bold text-2xl",children:s.full_name.charAt(0)}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-semibold text-[#2C2A26]",children:s.full_name}),f.jsxs("p",{className:"text-sm text-[#5D5A53]",children:["Customer since ",s.created_at]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-[#F5F2EB] p-4 rounded-lg",children:[f.jsx("p",{className:"text-sm text-[#5D5A53]",children:"Total Bookings"}),f.jsx("p",{className:"text-2xl font-bold text-[#2C2A26]",children:s.total_bookings})]}),f.jsxs("div",{className:"bg-[#F5F2EB] p-4 rounded-lg",children:[f.jsx("p",{className:"text-sm text-[#5D5A53]",children:"Total Spent"}),f.jsxs("p",{className:"text-2xl font-bold text-[#2C2A26]",children:["KSh ",s.total_spent.toLocaleString()]})]})]}),f.jsxs("div",{className:"border-t border-[#D6D1C7] pt-4",children:[f.jsx("h5",{className:"font-medium text-[#2C2A26] mb-3",children:"Contact Information"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[f.jsx(Yc,{className:"w-4 h-4 text-[#5D5A53]"}),f.jsx("span",{className:"text-[#2C2A26]",children:s.email})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[f.jsx(Uy,{className:"w-4 h-4 text-[#5D5A53]"}),f.jsx("span",{className:"text-[#2C2A26]",children:s.phone})]})]})]}),f.jsxs("div",{className:"border-t border-[#D6D1C7] pt-4",children:[f.jsx("h5",{className:"font-medium text-[#2C2A26] mb-3",children:"Booking History"}),f.jsxs("p",{className:"text-sm text-[#5D5A53]",children:["Last booking: ",s.last_booking]}),f.jsx("p",{className:"text-xs text-[#5D5A53] mt-2",children:"Full booking history would be displayed here"})]})]})]})})]})},IR=()=>{const[n,e]=$.useState(""),[s,r]=$.useState("all"),a=[{id:"PAY001",booking_id:"BK001",customer_name:"John Kamau",amount:45e3,method:"M-Pesa",status:"completed",transaction_id:"MPESA123456",created_at:"2025-12-01 14:30"},{id:"PAY002",booking_id:"BK002",customer_name:"Mary Wanjiku",amount:32e3,method:"M-Pesa",status:"pending",transaction_id:"MPESA789012",created_at:"2025-12-01 15:45"},{id:"PAY003",booking_id:"BK003",customer_name:"Peter Omondi",amount:28e3,method:"M-Pesa",status:"completed",transaction_id:"MPESA345678",created_at:"2025-11-30 10:20"}],[l]=$.useState(a),c=x=>{const b={pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:pd},completed:{bg:"bg-green-100",text:"text-green-800",icon:Kc},failed:{bg:"bg-red-100",text:"text-red-800",icon:a0},refunded:{bg:"bg-blue-100",text:"text-blue-800",icon:Kc}}[x],E=b.icon;return f.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${b.bg} ${b.text} flex items-center gap-1 w-fit`,children:[f.jsx(E,{className:"w-3 h-3"}),x.charAt(0).toUpperCase()+x.slice(1)]})},m=l.filter(x=>{const _=x.id.toLowerCase().includes(n.toLowerCase())||x.customer_name.toLowerCase().includes(n.toLowerCase())||x.transaction_id.toLowerCase().includes(n.toLowerCase()),b=s==="all"||x.status===s;return _&&b}),y=l.filter(x=>x.status==="completed").reduce((x,_)=>x+_.amount,0),p=l.filter(x=>x.status==="pending").reduce((x,_)=>x+_.amount,0);return f.jsxs("div",{children:[f.jsx("div",{className:"flex justify-between items-center mb-6",children:f.jsx("h2",{className:"text-2xl font-serif text-[#2C2A26]",children:"Payment Management"})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-[#D6D1C7]",children:[f.jsx("p",{className:"text-sm text-[#5D5A53] mb-1",children:"Total Revenue"}),f.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["KSh ",y.toLocaleString()]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-[#D6D1C7]",children:[f.jsx("p",{className:"text-sm text-[#5D5A53] mb-1",children:"Pending Payments"}),f.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:["KSh ",p.toLocaleString()]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-[#D6D1C7]",children:[f.jsx("p",{className:"text-sm text-[#5D5A53] mb-1",children:"Total Transactions"}),f.jsx("p",{className:"text-2xl font-bold text-[#2C2A26]",children:l.length})]})]}),f.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-6 flex gap-4 flex-wrap",children:[f.jsx("div",{className:"flex-1 min-w-[200px]",children:f.jsxs("div",{className:"relative",children:[f.jsx(qa,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-[#A8A29E]"}),f.jsx("input",{type:"text",placeholder:"Search payments...",value:n,onChange:x=>e(x.target.value),className:"w-full pl-10 pr-4 py-2 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none"})]})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(yd,{className:"w-5 h-5 text-[#5D5A53]"}),f.jsxs("select",{value:s,onChange:x=>r(x.target.value),className:"px-4 py-2 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none",children:[f.jsx("option",{value:"all",children:"All Status"}),f.jsx("option",{value:"pending",children:"Pending"}),f.jsx("option",{value:"completed",children:"Completed"}),f.jsx("option",{value:"failed",children:"Failed"}),f.jsx("option",{value:"refunded",children:"Refunded"})]})]})]}),f.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-[#F5F2EB] border-b border-[#D6D1C7]",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Payment ID"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Booking"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Customer"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Amount"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Method"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Transaction ID"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Status"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Date"})]})}),f.jsx("tbody",{className:"divide-y divide-[#D6D1C7]",children:m.map(x=>f.jsxs("tr",{className:"hover:bg-[#F5F2EB] transition-colors",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-[#2C2A26]",children:x.id}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#2C2A26]",children:x.booking_id}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#2C2A26]",children:x.customer_name}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-[#2C2A26]",children:["KSh ",x.amount.toLocaleString()]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#2C2A26]",children:f.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs font-medium",children:x.method})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#5D5A53] font-mono",children:x.transaction_id}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c(x.status)}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#5D5A53]",children:x.created_at})]},x.id))})]})})})]})},UR=()=>{const[n,e]=$.useState(null),s=[{id:"VER001",driver_name:"James Mwangi",email:"james@example.com",phone:"+254745678901",license_number:"DL123456",license_expiry:"2026-06-15",id_number:"12345678",status:"pending",submitted_at:"2025-12-01 09:30",documents:{license_front:"/docs/license1.jpg",license_back:"/docs/license1b.jpg",id_front:"/docs/id1.jpg",id_back:"/docs/id1b.jpg"}},{id:"VER002",driver_name:"Sarah Njeri",email:"sarah@example.com",phone:"+254756789012",license_number:"DL789012",license_expiry:"2027-03-20",id_number:"87654321",status:"approved",submitted_at:"2025-11-30 14:15",documents:{license_front:"/docs/license2.jpg",license_back:"/docs/license2b.jpg",id_front:"/docs/id2.jpg",id_back:"/docs/id2b.jpg"}}],[r,a]=$.useState(s),l=p=>{const _={pending:{bg:"bg-yellow-100",text:"text-yellow-800"},approved:{bg:"bg-green-100",text:"text-green-800"},rejected:{bg:"bg-red-100",text:"text-red-800"}}[p];return f.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${_.bg} ${_.text}`,children:p.charAt(0).toUpperCase()+p.slice(1)})},c=p=>{a(r.map(x=>x.id===p?{...x,status:"approved"}:x)),e(null)},m=p=>{confirm("Are you sure you want to reject this verification?")&&(a(r.map(x=>x.id===p?{...x,status:"rejected"}:x)),e(null))},y=r.filter(p=>p.status==="pending").length;return f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-serif text-[#2C2A26]",children:"Driver Verification"}),y>0&&f.jsxs("span",{className:"bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm font-medium",children:[y," Pending"]})]}),f.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-[#F5F2EB] border-b border-[#D6D1C7]",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Driver"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Contact"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"License"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Expiry"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Status"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Submitted"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[#2C2A26] uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"divide-y divide-[#D6D1C7]",children:r.map(p=>f.jsxs("tr",{className:"hover:bg-[#F5F2EB] transition-colors",children:[f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[f.jsx("div",{className:"text-sm font-medium text-[#2C2A26]",children:p.driver_name}),f.jsxs("div",{className:"text-xs text-[#5D5A53]",children:["ID: ",p.id_number]})]}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[f.jsx("div",{className:"text-sm text-[#2C2A26]",children:p.email}),f.jsx("div",{className:"text-xs text-[#5D5A53]",children:p.phone})]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#2C2A26] font-mono",children:p.license_number}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#5D5A53]",children:p.license_expiry}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l(p.status)}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#5D5A53]",children:p.submitted_at}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:f.jsx("button",{onClick:()=>e(p),className:"text-[#2C2A26] hover:text-black",children:f.jsx(gd,{className:"w-5 h-5"})})})]},p.id))})]})})}),n&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"p-6 border-b border-[#D6D1C7] flex justify-between items-center",children:[f.jsx("h3",{className:"text-xl font-serif text-[#2C2A26]",children:"Driver Verification Details"}),f.jsx("button",{onClick:()=>e(null),className:"text-[#5D5A53] hover:text-[#2C2A26]",children:""})]}),f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-[#5D5A53]",children:"Driver Name"}),f.jsx("p",{className:"text-[#2C2A26] font-semibold",children:n.driver_name})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-[#5D5A53]",children:"Status"}),f.jsx("div",{className:"mt-1",children:l(n.status)})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-[#5D5A53]",children:"Email"}),f.jsx("p",{className:"text-[#2C2A26]",children:n.email})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-[#5D5A53]",children:"Phone"}),f.jsx("p",{className:"text-[#2C2A26]",children:n.phone})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-[#5D5A53]",children:"License Number"}),f.jsx("p",{className:"text-[#2C2A26] font-mono",children:n.license_number})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-[#5D5A53]",children:"License Expiry"}),f.jsx("p",{className:"text-[#2C2A26]",children:n.license_expiry})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-[#5D5A53]",children:"ID Number"}),f.jsx("p",{className:"text-[#2C2A26] font-mono",children:n.id_number})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-[#5D5A53]",children:"Submitted"}),f.jsx("p",{className:"text-[#2C2A26]",children:n.submitted_at})]})]}),f.jsxs("div",{className:"border-t border-[#D6D1C7] pt-4",children:[f.jsx("h4",{className:"font-medium text-[#2C2A26] mb-4",children:"Uploaded Documents"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"border border-[#D6D1C7] rounded-lg p-4 text-center",children:[f.jsx(_a,{className:"w-12 h-12 mx-auto text-[#5D5A53] mb-2"}),f.jsx("p",{className:"text-sm text-[#2C2A26] mb-2",children:"License (Front)"}),f.jsxs("button",{className:"text-xs text-[#2C2A26] hover:underline flex items-center gap-1 mx-auto",children:[f.jsx(xa,{className:"w-3 h-3"}),"View Document"]})]}),f.jsxs("div",{className:"border border-[#D6D1C7] rounded-lg p-4 text-center",children:[f.jsx(_a,{className:"w-12 h-12 mx-auto text-[#5D5A53] mb-2"}),f.jsx("p",{className:"text-sm text-[#2C2A26] mb-2",children:"License (Back)"}),f.jsxs("button",{className:"text-xs text-[#2C2A26] hover:underline flex items-center gap-1 mx-auto",children:[f.jsx(xa,{className:"w-3 h-3"}),"View Document"]})]}),f.jsxs("div",{className:"border border-[#D6D1C7] rounded-lg p-4 text-center",children:[f.jsx(_a,{className:"w-12 h-12 mx-auto text-[#5D5A53] mb-2"}),f.jsx("p",{className:"text-sm text-[#2C2A26] mb-2",children:"ID (Front)"}),f.jsxs("button",{className:"text-xs text-[#2C2A26] hover:underline flex items-center gap-1 mx-auto",children:[f.jsx(xa,{className:"w-3 h-3"}),"View Document"]})]}),f.jsxs("div",{className:"border border-[#D6D1C7] rounded-lg p-4 text-center",children:[f.jsx(_a,{className:"w-12 h-12 mx-auto text-[#5D5A53] mb-2"}),f.jsx("p",{className:"text-sm text-[#2C2A26] mb-2",children:"ID (Back)"}),f.jsxs("button",{className:"text-xs text-[#2C2A26] hover:underline flex items-center gap-1 mx-auto",children:[f.jsx(xa,{className:"w-3 h-3"}),"View Document"]})]})]})]}),n.status==="pending"&&f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsxs("button",{onClick:()=>c(n.id),className:"flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[f.jsx(Kc,{className:"w-5 h-5"}),"Approve"]}),f.jsxs("button",{onClick:()=>m(n.id),className:"flex-1 bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[f.jsx(a0,{className:"w-5 h-5"}),"Reject"]})]})]})]})})]})},PR=()=>{const[n,e]=$.useState({businessName:"Bihh Premium Car Hire",email:"info@bihh.co.ke",phone:"+254712345678",currency:"KSh",timezone:"Africa/Nairobi",businessHours:{start:"08:00",end:"18:00"},notifications:{emailBookings:!0,smsBookings:!0,emailPayments:!0,smsPayments:!1},mpesa:{consumerKey:"",consumerSecret:"",shortcode:"174379",passkey:"",environment:"sandbox"}}),[s,r]=$.useState(!1),a=()=>{r(!0),setTimeout(()=>r(!1),3e3)};return f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-serif text-[#2C2A26]",children:"Settings"}),f.jsxs("button",{onClick:a,className:"flex items-center gap-2 bg-[#2C2A26] text-[#F5F2EB] px-4 py-2 rounded-lg hover:bg-black transition-colors",children:[f.jsx(dR,{className:"w-5 h-5"}),"Save Changes"]})]}),s&&f.jsxs("div",{className:"bg-green-100 text-green-800 p-3 rounded-lg mb-6 flex items-center gap-2",children:[f.jsx("span",{children:""})," Settings saved successfully!"]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[f.jsxs("h3",{className:"text-lg font-serif text-[#2C2A26] mb-4 flex items-center gap-2",children:[f.jsx(V1,{className:"w-5 h-5"}),"Business Information"]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Business Name"}),f.jsx("input",{type:"text",value:n.businessName,onChange:l=>e({...n,businessName:l.target.value}),className:"w-full px-4 py-2 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Email"}),f.jsx("input",{type:"email",value:n.email,onChange:l=>e({...n,email:l.target.value}),className:"w-full px-4 py-2 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Phone"}),f.jsx("input",{type:"tel",value:n.phone,onChange:l=>e({...n,phone:l.target.value}),className:"w-full px-4 py-2 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Timezone"}),f.jsxs("select",{value:n.timezone,onChange:l=>e({...n,timezone:l.target.value}),className:"w-full px-4 py-2 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none",children:[f.jsx("option",{value:"Africa/Nairobi",children:"Africa/Nairobi (EAT)"}),f.jsx("option",{value:"UTC",children:"UTC"})]})]})]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[f.jsxs("h3",{className:"text-lg font-serif text-[#2C2A26] mb-4 flex items-center gap-2",children:[f.jsx(pd,{className:"w-5 h-5"}),"Business Hours"]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Opening Time"}),f.jsx("input",{type:"time",value:n.businessHours.start,onChange:l=>e({...n,businessHours:{...n.businessHours,start:l.target.value}}),className:"w-full px-4 py-2 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Closing Time"}),f.jsx("input",{type:"time",value:n.businessHours.end,onChange:l=>e({...n,businessHours:{...n.businessHours,end:l.target.value}}),className:"w-full px-4 py-2 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none"})]})]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[f.jsxs("h3",{className:"text-lg font-serif text-[#2C2A26] mb-4 flex items-center gap-2",children:[f.jsx(C1,{className:"w-5 h-5"}),"Notification Preferences"]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:n.notifications.emailBookings,onChange:l=>e({...n,notifications:{...n.notifications,emailBookings:l.target.checked}}),className:"w-5 h-5 rounded border-[#D6D1C7] text-[#2C2A26] focus:ring-[#2C2A26]"}),f.jsx("span",{className:"text-sm text-[#2C2A26]",children:"Email notifications for new bookings"})]}),f.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:n.notifications.smsBookings,onChange:l=>e({...n,notifications:{...n.notifications,smsBookings:l.target.checked}}),className:"w-5 h-5 rounded border-[#D6D1C7] text-[#2C2A26] focus:ring-[#2C2A26]"}),f.jsx("span",{className:"text-sm text-[#2C2A26]",children:"SMS notifications for new bookings"})]}),f.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:n.notifications.emailPayments,onChange:l=>e({...n,notifications:{...n.notifications,emailPayments:l.target.checked}}),className:"w-5 h-5 rounded border-[#D6D1C7] text-[#2C2A26] focus:ring-[#2C2A26]"}),f.jsx("span",{className:"text-sm text-[#2C2A26]",children:"Email notifications for payments"})]}),f.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:n.notifications.smsPayments,onChange:l=>e({...n,notifications:{...n.notifications,smsPayments:l.target.checked}}),className:"w-5 h-5 rounded border-[#D6D1C7] text-[#2C2A26] focus:ring-[#2C2A26]"}),f.jsx("span",{className:"text-sm text-[#2C2A26]",children:"SMS notifications for payments"})]})]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[f.jsxs("h3",{className:"text-lg font-serif text-[#2C2A26] mb-4 flex items-center gap-2",children:[f.jsx(l0,{className:"w-5 h-5"}),"M-Pesa Configuration"]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Consumer Key"}),f.jsx("input",{type:"password",value:n.mpesa.consumerKey,className:"w-full px-4 py-2 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none",placeholder:"Enter consumer key"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Consumer Secret"}),f.jsx("input",{type:"password",value:n.mpesa.consumerSecret,className:"w-full px-4 py-2 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none",placeholder:"Enter consumer secret"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Shortcode"}),f.jsx("input",{type:"text",value:n.mpesa.shortcode,onChange:l=>e({...n,mpesa:{...n.mpesa,shortcode:l.target.value}}),className:"w-full px-4 py-2 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Environment"}),f.jsxs("select",{value:n.mpesa.environment,onChange:l=>e({...n,mpesa:{...n.mpesa,environment:l.target.value}}),className:"w-full px-4 py-2 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none",children:[f.jsx("option",{value:"sandbox",children:"Sandbox (Testing)"}),f.jsx("option",{value:"production",children:"Production (Live)"})]})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-[#2C2A26] mb-2",children:"Passkey"}),f.jsx("input",{type:"password",value:n.mpesa.passkey,className:"w-full px-4 py-2 bg-[#F5F2EB] border border-transparent focus:border-[#2C2A26] rounded-lg outline-none",placeholder:"Enter passkey"})]})]})]})]})]})};function jR(){const[n,e]=$.useState({type:"home"}),[s,r]=$.useState([]),[a,l]=$.useState(!1),c=(x,_)=>{x.preventDefault(),n.type!=="home"?(e({type:"home"}),setTimeout(()=>m(_),0)):m(_)},m=x=>{if(!x){window.scrollTo({top:0,behavior:"smooth"});return}const _=document.getElementById(x);if(_){const C=_.getBoundingClientRect().top+window.scrollY-85;window.scrollTo({top:C,behavior:"smooth"});try{window.history.pushState(null,"",`#${x}`)}catch{}}},y=x=>{r([...s,x]),l(!0)},p=x=>{const _=[...s];_.splice(x,1),r(_)};return Ur.useEffect(()=>{window.location.pathname==="/admin"&&e({type:"admin-login"})},[]),n.type==="admin-login"?f.jsx(ER,{onLoginSuccess:()=>e({type:"admin-dashboard"})}):n.type==="admin-dashboard"||n.type==="admin-bookings"||n.type==="admin-vehicles"||n.type==="admin-customers"||n.type==="admin-payments"||n.type==="admin-verification"||n.type==="admin-settings"||n.type==="admin-roadtrips"||n.type==="admin-brands"?f.jsxs(SR,{onLogout:()=>e({type:"admin-login"}),currentView:n.type,onNavigate:x=>e({type:x}),children:[n.type==="admin-dashboard"&&f.jsx(CR,{}),n.type==="admin-bookings"&&f.jsx(AR,{}),n.type==="admin-vehicles"&&f.jsx(NR,{}),n.type==="admin-roadtrips"&&f.jsx(DR,{}),n.type==="admin-brands"&&f.jsx(MR,{}),n.type==="admin-customers"&&f.jsx(kR,{}),n.type==="admin-payments"&&f.jsx(IR,{}),n.type==="admin-verification"&&f.jsx(UR,{}),n.type==="admin-settings"&&f.jsx(PR,{})]}):f.jsxs("div",{className:"min-h-screen bg-[#F5F2EB] font-sans text-[#2C2A26] selection:bg-[#D6D1C7] selection:text-[#2C2A26]",children:[n.type!=="checkout"&&n.type!=="roadtrip-checkout"&&f.jsx(J_,{onNavClick:c,cartCount:s.length,onOpenCart:()=>l(!0)}),f.jsxs("main",{children:[n.type==="home"&&f.jsxs(f.Fragment,{children:[f.jsx(K_,{}),f.jsx(f1,{}),f.jsx(CE,{onProductClick:x=>{window.scrollTo({top:0,behavior:"smooth"}),e({type:"product",product:x})}}),f.jsx(TE,{}),f.jsx(AE,{onArticleClick:x=>{window.scrollTo({top:0,behavior:"smooth"}),e({type:"journal",article:x})},onBookTrip:x=>{window.scrollTo({top:0,behavior:"smooth"}),e({type:"roadtrip-checkout",trip:x})}})]}),n.type==="product"&&f.jsx(o1,{product:n.product,onBack:()=>{e({type:"home"}),setTimeout(()=>m("products"),50)},onAddToCart:y}),n.type==="journal"&&f.jsx(a1,{article:n.article,onBack:()=>e({type:"home"})}),n.type==="checkout"&&f.jsx(u1,{items:s,onBack:()=>e({type:"home"})}),n.type==="roadtrip-checkout"&&f.jsx(c1,{trip:n.trip,onBack:()=>e({type:"home"})})]}),n.type!=="checkout"&&n.type!=="roadtrip-checkout"&&f.jsx(r1,{onLinkClick:c}),f.jsx(i1,{}),f.jsx(l1,{isOpen:a,onClose:()=>l(!1),items:s,onRemoveItem:p,onCheckout:()=>{l(!1),window.scrollTo({top:0,behavior:"smooth"}),e({type:"checkout"})}}),f.jsx(d1,{})]})}const d0=document.getElementById("root");if(!d0)throw new Error("Could not find root element to mount to");const OR=$_.createRoot(d0);OR.render(f.jsx(Ur.StrictMode,{children:f.jsx(jR,{})}));
